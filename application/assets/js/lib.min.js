
$(document).ready(function(){filterTypes={file:"white",folder:"dark-gray",image:"violet",video:"orange",audio:"blue",document:"green",other:"light-orange",starred:"yellow"};iconTypes={file:"white",folder:"icon-folder",image:"icon-picture-o",video:"icon-youtube-play",audio:"icon-music",document:"icon-file-text",other:"icon-suitcase"};indicatorCssSm='<div class="indicator sm"><span></span><span></span><span></span></div>';indicatorCssSmBlue='<div class="indicator sm blue"><span></span><span></span><span></span></div>';indicatorCssPurple='<div class="indicator purple"><span></span><span></span><span></span></div>';if($.fn.bootstrapValidator!=="undefined"){$.fn.bootstrapValidator.DEFAULT_OPTIONS=$.extend({},$.fn.bootstrapValidator.DEFAULT_OPTIONS,{container:"tooltip",feedbackIcons:{valid:"icon icon-check-circle",invalid:"icon icon-exclamation-circle",validating:"icon icon-refresh"}})}$(document).bind("dragstart",function(a){if(a.target.tagName.toLowerCase()==="a"){a.preventDefault()}});$(".poper").click(function(){var c=$(this),e=c.data(),b=e.width||640,a=e.height||528;window.open(c.attr("href"),"t","toolbar=0,resizable=1,status=0,width="+b+",height="+a);return false})});(function(a){$indicator='<img src="'+ASSURI+'img/loading.gif" />'})(jQuery);function urldecode(a){return decodeURIComponent((a+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}).replace(/\+/g,"%20"))}(function(b){var a=b({});b.ajaxQueue=function(d){var c=d.complete;a.queue(function(e){d.complete=function(){if(c){c.apply(this,arguments)}e()};return b.ajax(d)})}})(jQuery);(function(a){a.fn.findItem=function(e,d,c,b){return this.find(((b)?b:"li")+"."+d).filter(function(){return a(this).data((c)?c:"id")==e})}})(jQuery);(function(a){a.fn.animateNumber=function(d,b,c,i){var g=this,h={duration:300},f=h;if(c&&h&&!f){f=a.extend({},h,c)}var e=new countUp(g[0],d,b);e.start(i)}})(jQuery);(function(a){a.fullscreen=function(b){var c=this[0];if(b){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozExitFullScreen){document.mozExitFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}else{if(c.requestFullscreen){c.requestFullscreen()}else{if(c.mozRequestFullScreen){c.mozRequestFullScreen()}else{if(c.webkitRequestFullscreen){c.webkitRequestFullscreen()}else{if(c.msRequestFullscreen){c.msRequestFullscreen()}}}}}}});(function(a){var b=null;a.ajaxSingle=function(d){var c=d.complete;d.complete=function(){if(c){c.apply(this,arguments)}};if(b!=null){b.abort()}b=a.ajax(d)}})(jQuery);(function(a){a.fn.disabletoggle=function(b){if(b){this.attr("disabled","disabled").addClass("disabled")}else{this.attr("disabled",false).removeClass("disabled")}}})(jQuery);(function(a){a.fn.cssGet=function(f){var d={},c=this.eq(0);for(var e=0,b=f.length;e<b;e++){d[f[e]]=this.css(f[e])}return d};a.fn.countdown=function(g,e,h,c){e=e||"";var f=(c?(g+" "+e):(e+" "+g)),b=a(this[0]).html(f);b.parent().show();var d=setInterval(function(){if(--g){f=(c?(g+" "+e):(e+" "+g));b.html(f)}else{clearInterval(d);h.call(b)}},1000)}})(jQuery);(function(a){a.fn.htmlA=function(b,c,d){return this.each(function(){var g=a(this);var e={width:this.style.width,height:this.style.height};var h={width:g.width()+"px",height:g.height()+"px"};g.html(b);var f={width:g.width()+"px",height:g.height()+"px"};g.css(h).animate(f,c,function(){g.css(e);if(a.isFunction(d)){d()}})})}})(jQuery);(function(a){a.fn.hidDims=function(g){var d=this;var e={position:"absolute",visibility:"hidden",display:"block"};var f={w:0,h:0};var c=d.parents().andSelf().not(":visible");var b=[];c.each(function(){var h={};for(var i in e){h[i]=this.style[i];this.style[i]=e[i]}b.push(h)});f.w=(g===true)?d.outerWidth():d.width();f.h=(g===true)?d.outerHeight():d.height();c.each(function(k){var h=b[k];for(var j in e){this.style[j]=h[j]}});return f}}(jQuery));function popoverautoplacement(i,g,d){var f=$(g).offset(),j=$(document).outerHeight(),b=$(document).outerWidth(),h=0.5*j-f.top,a=h>0?"bottom":"top",k=0.5*b-f.left,c=k>0?"right":"left",e=(Math.abs(k)*0.8)>Math.abs(h)?c:a;return d?a:e}function createTextInput(b,c,k,j,h,n,g,e,f,a){var m=(k)?(' value="'+k+'"'):(' placeholder="'+j+'"'),i=((g)?(" required"):""),l=((h=="checkbox")?"":("form-control "+(n?n:"col-md-12"))),d=a||"";if(h=="hidden"&&!k){m=' value="0"'}if(h=="textarea"){return'<textarea name="'+b+'" class="form-control '+(n?n:"col-md-12")+'"  '+(c?' id="'+c+'"':"")+m+i+">"+k+"</textarea>"}return'<input type="'+(h?h:"text")+'" name="'+b+'" class="'+l+'"  '+(c?' id="'+c+'"':"")+m+(e?' disabled="disabled"':"")+(f?" readonly":"")+d+i+">"}function createConnectFBBox(b){var a=$("body");if(b){a.unblock();return}a.block({message:'<h2 class="blue">'+$indicator+" Connecting with facebook...</h2>"})}function fileExtension(a){return(/[.]/.exec(a))?/[^.]+$/.exec(a):"other"}function hideTip(a){$(a).tooltip("hide")}function createEmailPop(b,a){var d='<i class="icon icon-envelope"></i> Send <small class="ul">'+b.data("t")+"</small> via email";var c='<div class="p1015">';c+='<div class="callout callout-danger mt0 mb0 alert-dismissible result dn" role="alert">                            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>\n                            <div class="errmessage"></div>\n                            </div>';c+='<form role="form" method="POST" action="" data-target="" data-async="" class="actform" id="form_email" novalidate="novalidate">';c+='<div class="form-group emailsuggestContainer">\n                             <label for="recipient">To <small>(seperate email addresses by comma ",")</small></label>\n'+createTextInput("recipient","recipient",false,"john@example.com","email","emailsuggestion",true)+'                             </div>\n                             <div class="form-group">\n                             <label for="sender">Sender email</label>\n'+createTextInput("sender","sender",false,"sender email (optional)","email",false,false,false,false,' data-container="#form_email"')+'                             </div>\n                             <div class="form-group">\n                             <label for="message">Aditional Message</label>\n'+createTextInput("message","message","","Enter aditional message (optional)","textarea","editor")+"\n                             </div>";c+='<div class="form-group mb0 taright">\n                             <button class="btn btn-primary-alt"  data-loading-text="Sending..." autocomplete="off">Send!</button>\n                            </div>';c+=createTextInput("value","value_sendemail",b.data("id"),"","hidden","");c+="</form>";c+="</div>";a.popover({html:true,content:c,placement:"bottom",title:d}).on("shown.bs.popover",function(){var e=$(this).closest("ul").find("form"),f=e.closest("div");e.bootstrapValidator().on("success.field.bv",function(i,g){var h=g.element.parents(".form-group");h.removeClass("has-success");h.find('.form-control-feedback[data-bv-icon-for="'+g.field+'"]').hide()}).on("success.form.bv",function(h,g){h.preventDefault();e.ajaxSubmit({url:AJAX_PATH,type:"post",dataType:"json",data:{shareViaEmail:true,uid:$("ul.share").data("uid")},beforeSubmit:function(k,j,i){e.find("button").button("loading")},success:function(j,k,l,i){setTimeout(function(){if(j.result==1){var m=f.find(".result");m.find("button").remove();m.removeClass("callout-danger dn").addClass("callout-success").find(".errmessage").html(j.message);i.htmlA("")}else{f.find(".result").removeClass("dn").find(".errmessage").htmlA(j.message)}},400);i.find("button").button("reset")}});return false})})}function guid(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}
/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(f){var a=/\+/g;function d(i){return b.raw?i:encodeURIComponent(i)}function g(i){return b.raw?i:decodeURIComponent(i)}function h(i){return d(b.json?JSON.stringify(i):String(i))}function c(i){if(i.indexOf('"')===0){i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{i=decodeURIComponent(i.replace(a," "));return b.json?JSON.parse(i):i}catch(j){}}function e(j,i){var k=b.raw?j:c(j);return f.isFunction(i)?i(k):k}var b=f.cookie=function(q,p,v){if(p!==undefined&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setTime(+u+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{};var s=document.cookie?document.cookie.split("; "):[];for(var o=0,m=s.length;o<m;o++){var n=s[o].split("=");var j=g(n.shift());var k=n.join("=");if(q&&q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(j,i){if(f.cookie(j)===undefined){return false}f.cookie(j,"",f.extend({},i,{expires:-1}));return !f.cookie(j)}}));(function(F,V){var ac,Y=Array.prototype.slice,R=decodeURIComponent,ak=F.param,ai,Z,K,aj=F.bbq=F.bbq||{},T,L,ab,ag=F.event.special,ah="hashchange",U="querystring",P="fragment",H="elemUrlAttr",ae="location",aa="href",N="src",I=/^.*\?|#.*$/g,J=/^.*\#/,ad,Q={};function M(a){return typeof a==="string"}function S(a){var b=Y.call(arguments,1);return function(){return a.apply(this,b.concat(Y.call(arguments)))}}function X(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function W(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function af(h,c,j,g,i){var a,d,e,b,f;if(g!==ac){e=j.match(h?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);f=e[3]||"";if(i===2&&M(g)){d=g.replace(h?J:I,"")}else{b=Z(e[2]);g=M(g)?Z[h?P:U](g):g;d=i===2?g:i===1?F.extend({},g,b):F.extend({},b,g);d=ak(d);if(h){d=d.replace(ad,R)}}a=e[1]+(h?"#":d||!e[1]?"?":"")+d+f}else{a=c(j!==ac?j:V[ae][aa])}return a}ak[U]=S(af,0,W);ak[P]=ai=S(af,1,X);ai.noEscape=function(a){a=a||"";var b=F.map(a.split(""),encodeURIComponent);ad=new RegExp(b.join("|"),"g")};ai.noEscape(",/");F.deparam=Z=function(a,d){var b={},c={"true":!0,"false":!1,"null":null};F.each(a.replace(/\+/g," ").split("&"),function(k,f){var l=f.split("="),g=R(l[0]),m,h=b,j=0,e=g.split("]["),i=e.length-1;if(/\[/.test(e[0])&&/\]$/.test(e[i])){e[i]=e[i].replace(/\]$/,"");e=e.shift().split("[").concat(e);i=e.length-1}else{i=0}if(l.length===2){m=R(l[1]);if(d){m=m&&!isNaN(m)?+m:m==="undefined"?ac:c[m]!==ac?c[m]:m}if(i){for(;j<=i;j++){g=e[j]===""?h.length:e[j];h=h[g]=j<i?h[g]||(e[j+1]&&isNaN(e[j+1])?{}:[]):m}}else{if(F.isArray(b[g])){b[g].push(m)}else{if(b[g]!==ac){b[g]=[b[g],m]}else{b[g]=m}}}}else{if(g){b[g]=d?ac:""}}});return b};function G(a,c,b){if(c===ac||typeof c==="boolean"){b=c;c=ak[a?P:U]()}else{c=M(c)?c.replace(a?J:I,""):c}return Z(c,b)}Z[U]=S(G,0);Z[P]=K=S(G,1);F[H]||(F[H]=function(a){return F.extend(Q,a)})({a:aa,base:aa,iframe:N,img:N,input:N,form:"action",link:aa,script:N});ab=F[H];function O(a,c,b,d){if(!M(b)&&typeof b!=="object"){d=b;b=c;c=ac}return this.each(function(){var e=F(this),g=c||ab()[(this.nodeName||"").toLowerCase()]||"",f=g&&e.attr(g)||"";e.attr(g,ak[a](f,b,d))})}F.fn[U]=S(O,U);F.fn[P]=S(O,P);aj.pushState=T=function(a,d){if(M(a)&&/^#/.test(a)&&d===ac){d=2}var b=a!==ac,c=ai(V[ae][aa],b?a:{},b?d:2);V[ae][aa]=c+(/#/.test(c)?"":"#")};aj.getState=L=function(b,a){return b===ac||typeof b==="boolean"?K(b):K(a)[b]};aj.removeState=function(b){var a={};if(b!==ac){a=L();F.each(F.isArray(b)?b:arguments,function(c,d){delete a[d]})}T(a,2)};ag[ah]=F.extend(ag[ah],{add:function(c){var a;function b(d){var e=d[P]=ai();d.getState=function(g,f){return g===ac||typeof g==="boolean"?Z(e,g):Z(e,f)[g]};a.apply(this,arguments)}if(F.isFunction(c)){a=c;return b}else{a=c.handler;c.handler=b}}})})(jQuery,this);(function(p,q,y){var o,n=p.event.special,x="location",w="hashchange",m="href",u=navigator.userAgent.match(/msie/i),s=document.documentMode,r=u&&(s===y||s<8),v="on"+w in q&&!r;function z(a){a=a||q[x][m];return a.replace(/^[^#]*#?(.*)$/,"$1")}p[w+"Delay"]=100;n[w]=p.extend(n[w],{setup:function(){if(v){return false}p(o.start)},teardown:function(){if(v){return false}p(o.stop)}});o=(function(){var a={},b,f,e,c;function d(){e=c=function(g){return g};if(r){f=p('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;c=function(){return z(f.document[x][m])};e=function(g,i){if(g!==i){var h=f.document;h.open().close();h[x].hash="#"+g}};e(z())}}a.start=function(){if(b){return}var g=z();e||d();(function h(){var i=z(),j=c(g);if(i!==g){e(g=i,j);p(q).trigger(w)}else{if(j!==g){q[x][m]=q[x][m].replace(/#.*/,"")+"#"+j}}b=setTimeout(h,p[w+"Delay"])})()};a.stop=function(){if(!f){b&&clearTimeout(b);b=0}};return a})()})(jQuery,this);(function(d,g){var f=d.jQuery||d.Cowboy||(d.Cowboy={}),e;f.throttle=e=function(m,l,a,b){var c,n=0;if(typeof l!=="boolean"){b=a;a=l;l=g}function k(){var p=this,h=+new Date()-n,q=arguments;function i(){n=+new Date();a.apply(p,q)}function j(){c=g}if(b&&!c){i()}c&&clearTimeout(c);if(b===g&&h>m){i()}else{if(l!==true){c=setTimeout(b?j:i,b===g?m-h:m)}}}if(f.guid){k.guid=a.guid=a.guid||f.guid++}return k};f.debounce=function(c,b,a){return a===g?e(c,b,false):e(c,a,b!==false)}})(this);(function(e){function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length){return}r=n[0]}var i=this;if(i.clk=r,"image"==r.type){if(void 0!==t.offsetX){i.clk_x=t.offsetX,i.clk_y=t.offsetY}else{if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else{i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++){i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])])}return s}function o(a){for(var n=new FormData,i=0;a.length>i;i++){n.append(a[i].name,a[i].value)}if(t.extraData){var o=r(t.extraData);for(i=0;o.length>i;i++){o[i]&&n.append(o[i][0],o[i][1])}}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(100*(a/n))),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){t.data=n,l&&l.call(this,e,t)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(D),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action");w.setAttribute("target",d),u||w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(k)},m.timeout));var o=[];try{if(m.extraData){for(var l in m.extraData){m.extraData.hasOwnProperty(l)&&(e.isPlainObject(m.extraData[l])&&m.extraData[l].hasOwnProperty("name")&&m.extraData[l].hasOwnProperty("value")?o.push(e('<input type="hidden" name="'+m.extraData[l].name+'">').val(m.extraData[l].value).appendTo(w)[0]):o.push(e('<input type="hidden" name="'+l+'">').val(m.extraData[l]).appendTo(w)[0]))}}m.iframeTarget||(v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1)),setTimeout(t,15);try{w.submit()}catch(c){var p=document.createElement("form").submit;p.apply(w)}}finally{w.setAttribute("action",i),r?w.setAttribute("target",r):f.removeAttr("target"),e(o).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=D),t===k&&x){return x.abort("timeout"),S.reject(x,"timeout"),void 0}if(t==D&&x){return x.abort("server abort"),S.reject(x,"error","server abort"),void 0}if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T){throw"timeout"}var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O){return a("requeing onLoad callback, DOM not available"),setTimeout(s,250),void 0}var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var l=(m.dataType||"").toLowerCase(),c=/(json|script|text)/.test(l);if(c||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f){x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText}else{if(c){var d=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];d?x.responseText=d.textContent?d.textContent:d.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}}else{"xml"==l&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText))}try{L=_(x,l,m)}catch(b){i="parsererror",x.error=r=b||i}}catch(b){a("error caught: ",b),i="error",x.error=r=b||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&300>x.status||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,L,"success",x),S.resolve(x.responseText,"success",x),p&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),p&&e.event.trigger("ajaxError",[x,m,r])),p&&e.event.trigger("ajaxComplete",[x,m]),p&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget||v.remove(),x.responseXML=null},100)}}}var l,c,m,p,d,v,g,x,b,y,T,j,w=f[0],S=e.Deferred();if(r){for(c=0;h.length>c;c++){l=e(h[c]),i?l.prop("disabled",!1):l.removeAttr("disabled")}}if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,d="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),y=v.attr2("name"),y?d=y:v.attr2("name",d)):(v=e('<iframe name="'+d+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),p&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},p=m.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1){return m.global&&e.active--,S.reject(),S}if(x.aborted){return S.reject(),S}b=w.clk,b&&(y=b.name,y&&!b.disabled&&(m.extraData=m.extraData||{},m.extraData[y]=b.value,"image"==b.type&&(m.extraData[y+".x"]=w.clk_x,m.extraData[y+".y"]=w.clk_y)));var k=1,D=2,A=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&A&&(m.extraData=m.extraData||{},m.extraData[E]=A),m.forceSync?o():setTimeout(o,10);var L,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length){return a("ajaxSubmit: skipping submit process - no element selected"),this}var u,l,c,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),l=t.url||this.attr2("action"),c="string"==typeof l?e.trim(l):"",c=c||window.location.href||"",c&&(c=(c.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:c,success:e.ajaxSettings.success,type:u||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto){return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this}if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1){return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this}var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var d,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,d=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1){return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this}if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto){return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this}var g=e.param(v,p);d&&(g=g?g+"&"+d:d),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(b,arguments)})}else{t.success&&x.push(t.success)}if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++){x[i].apply(n,[e,r,a||f,f])}},t.error){var y=t.error;t.error=function(e,r,a){var n=t.context||this;y.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e('input[type=file]:enabled[value!=""]',this),w=j.length>0,S="multipart/form-data",k=f.attr("enctype")==S||f.attr("encoding")==S,D=n.fileapi&&n.formdata;a("fileAPI :"+D);var A,E=(w||k)&&!D;t.iframe!==!1&&(t.iframe||E)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||k)&&D?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var L=0;h.length>L;L++){h[L]=null}return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return !e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length){return a}var i=this[0],o=t?i.getElementsByTagName("*"):i.elements;if(!o){return a}var s,u,l,c,f,m,p;for(s=0,m=o.length;m>s;s++){if(f=o[s],l=f.name,l&&!f.disabled){if(t&&i.clk&&"image"==f.type){i.clk==f&&(a.push({name:l,value:e(f).val(),type:f.type}),a.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}))}else{if(c=e.fieldValue(f,!0),c&&c.constructor==Array){for(r&&r.push(f),u=0,p=c.length;p>u;u++){a.push({name:l,value:c[u]})}}else{if(n.fileapi&&"file"==f.type){r&&r.push(f);var d=f.files;if(d.length){for(u=0;d.length>u;u++){a.push({name:l,value:d[u],type:f.type})}}else{a.push({name:l,value:"",type:f.type})}}else{null!==c&&c!==void 0&&(r&&r.push(f),a.push({name:l,value:c,type:f.type,required:f.required}))}}}}}if(!t&&i.clk){var h=e(i.clk),v=h[0];l=v.name,l&&!v.disabled&&"image"==v.type&&(a.push({name:l,value:h.val()}),a.push({name:l+".x",value:i.clk_x},{name:l+".y",value:i.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array){for(var i=0,o=n.length;o>i;i++){r.push({name:a,value:n[i]})}}else{null!==n&&n!==void 0&&r.push({name:this.name,value:n})}}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||void 0===o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex)){return null}if("select"==i){var o=t.selectedIndex;if(0>o){return null}for(var s=[],u=t.options,l="select-one"==n,c=l?o+1:u.length,f=l?o:0;c>f;f++){var m=u[f];if(m.selected){var p=m.value;if(p||(p=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),l){return p}s.push(p)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r){this.checked=t}else{if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}}})},e.fn.ajaxSubmit.debug=!1})(jQuery);(function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return !b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(x,w,v,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(y.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=x&&R(function(){I.removeChild(h)},50);for(var c in D[w]){D[w].hasOwnProperty(c)&&D[w][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(x),g=0,b=0,y={t:v,s:w,e:q,a:p,x:n};1===D[w]&&(b=1,D[w]=[]),"object"==x?h.data=w:(h.src=w,h.type=x),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,y),"img"!=x&&(b||2===D[w]?(I.insertBefore(h,J?null:Q),R(m,n)):D[w].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance" in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(x,w){function v(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,w,0,u)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,w,g,u))}}}}else{!h&&p()}}var u=!!x.test,s=x.load||x.both,r=x.callback||Y,q=r,p=x.complete||Y,o,g;v(u?x.yep:x.nope,!!s),s&&v(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}})(this,document);var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations;
/*!
 * jQuery blockUI plugin
 * Version 2.63.0-2013.07.08
 * @requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){function a(j){j.fn._fadeIn=j.fn.fadeIn;var d=j.noop||function(){};var n=/MSIE/.test(navigator.userAgent);var f=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var k=document.documentMode||0;var g=j.isFunction(document.createElement("div").style.setExpression);j.blockUI=function(r){e(window,r)};j.unblockUI=function(r){i(window,r)};j.growlUI=function(y,v,w,s){var u=j('<div class="growlUI"></div>');if(y){u.append("<h1>"+y+"</h1>")}if(v){u.append("<h2>"+v+"</h2>")}if(w===undefined){w=3000}var r=function(z){z=z||{};j.blockUI({message:u,fadeIn:typeof z.fadeIn!=="undefined"?z.fadeIn:700,fadeOut:typeof z.fadeOut!=="undefined"?z.fadeOut:1000,timeout:typeof z.timeout!=="undefined"?z.timeout:w,centerY:false,showOverlay:false,onUnblock:s,css:j.blockUI.defaults.growlCSS})};r();var x=u.css("opacity");u.mouseover(function(){r({fadeIn:0,timeout:30000});var z=j(".blockMsg");z.stop();z.fadeTo(300,1)}).mouseout(function(){j(".blockMsg").fadeOut(1000)})};j.fn.block=function(s){if(this[0]===window){j.blockUI(s);return this}var r=j.extend({},j.blockUI.defaults,s||{});this.each(function(){var u=j(this);if(r.ignoreIfBlocked&&u.data("blockUI.isBlocked")){return}u.unblock({fadeOut:0})});return this.each(function(){if(j.css(this,"position")=="static"){this.style.position="relative";j(this).data("blockUI.static",true)}this.style.zoom=1;e(this,s)})};j.fn.unblock=function(r){if(this[0]===window){j.unblockUI(r);return this}return this.each(function(){i(this,r)})};j.blockUI.version=2.6;j.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:9000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var c=null;var h=[];function e(v,H){var E,P;var C=(v==window);var y=(H&&H.message!==undefined?H.message:undefined);H=j.extend({},j.blockUI.defaults,H||{});if(H.ignoreIfBlocked&&j(v).data("blockUI.isBlocked")){return}H.overlayCSS=j.extend({},j.blockUI.defaults.overlayCSS,H.overlayCSS||{});E=j.extend({},j.blockUI.defaults.css,H.css||{});if(H.onOverlayClick){H.overlayCSS.cursor="pointer"}P=j.extend({},j.blockUI.defaults.themedCSS,H.themedCSS||{});y=y===undefined?H.message:y;if(C&&c){i(window,{fadeOut:0})}if(y&&typeof y!="string"&&(y.parentNode||y.jquery)){var K=y.jquery?y[0]:y;var R={};j(v).data("blockUI.history",R);R.el=K;R.parent=K.parentNode;R.display=K.style.display;R.position=K.style.position;if(R.parent){R.parent.removeChild(K)}}j(v).data("blockUI.onUnblock",H.onUnblock);var D=H.baseZ;var O,N,M,I;if(n||H.forceIframe){O=j('<iframe class="blockUI" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+H.iframeSrc+'"></iframe>')}else{O=j('<div class="blockUI" style="display:none"></div>')}if(H.theme){N=j('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(D++)+';display:none"></div>')}else{N=j('<div class="blockUI blockOverlay" style="z-index:'+(D++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(H.theme&&C){I='<div class="blockUI '+H.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:fixed">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(H.theme){I='<div class="blockUI '+H.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(D+10)+';display:none;position:absolute">';if(H.title){I+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(H.title||"&nbsp;")+"</div>"}I+='<div class="ui-widget-content ui-dialog-content"></div>';I+="</div>"}else{if(C){I='<div class="blockUI '+H.blockMsgClass+' blockPage" style="z-index:'+(D+10)+';display:none;position:fixed"></div>'}else{I='<div class="blockUI '+H.blockMsgClass+' blockElement" style="z-index:'+(D+10)+';display:none;position:absolute"></div>'}}}M=j(I);if(y){if(H.theme){M.css(P);M.addClass("ui-widget-content")}else{M.css(E)}}if(!H.theme){N.css(H.overlayCSS)}N.css("position",C?"fixed":"absolute");if(n||H.forceIframe){O.css("opacity",0)}var B=[O,N,M],Q=C?j("body"):j(v);j.each(B,function(){this.appendTo(Q)});if(H.theme&&H.draggable&&j.fn.draggable){M.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var x=g&&(!j.support.boxModel||j("object,embed",C?null:v).length>0);if(f||x){if(C&&H.allowBodyStretch&&j.support.boxModel){j("html,body").css("height","100%")}if((f||!j.support.boxModel)&&!C){var G=o(v,"borderTopWidth"),L=o(v,"borderLeftWidth");var A=G?"(0 - "+G+")":0;var F=L?"(0 - "+L+")":0}j.each(B,function(z,V){var S=V[0].style;S.position="absolute";if(z<2){if(C){S.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+H.quirksmodeOffsetHack+') + "px"')}else{S.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(C){S.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{S.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(F){S.setExpression("left",F)}if(A){S.setExpression("top",A)}}else{if(H.centerY){if(C){S.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}S.marginTop=0}else{if(!H.centerY&&C){var T=(H.css&&H.css.top)?parseInt(H.css.top,10):0;var U="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+T+') + "px"';S.setExpression("top",U)}}}})}if(y){if(H.theme){M.find(".ui-widget-content").append(y)}else{M.append(y)}if(y.jquery||y.nodeType){j(y).show()}}if((n||H.forceIframe)&&H.showOverlay){O.show()}if(H.fadeIn){var J=H.onBlock?H.onBlock:d;var u=(H.showOverlay&&!y)?J:d;var r=y?J:d;if(H.showOverlay){N._fadeIn(H.fadeIn,u)}if(y){M._fadeIn(H.fadeIn,r)}}else{if(H.showOverlay){N.show()}if(y){M.show()}if(H.onBlock){H.onBlock()}}m(1,v,H);if(C){c=M[0];h=j(H.focusableElements,c);if(H.focusInput){setTimeout(q,20)}}else{b(M[0],H.centerX,H.centerY)}if(H.timeout){var w=setTimeout(function(){if(C){j.unblockUI(H)}else{j(v).unblock(H)}},H.timeout);j(v).data("blockUI.timeout",w)}}function i(v,x){var w;var u=(v==window);var s=j(v);var y=s.data("blockUI.history");var z=s.data("blockUI.timeout");if(z){clearTimeout(z);s.removeData("blockUI.timeout")}x=j.extend({},j.blockUI.defaults,x||{});m(0,v,x);if(x.onUnblock===null){x.onUnblock=s.data("blockUI.onUnblock");s.removeData("blockUI.onUnblock")}var r;if(u){r=j("body").children().filter(".blockUI").add("body > .blockUI")}else{r=s.find(">.blockUI")}if(x.cursorReset){if(r.length>1){r[1].style.cursor=x.cursorReset}if(r.length>2){r[2].style.cursor=x.cursorReset}}if(u){c=h=null}if(x.fadeOut){w=r.length;r.stop().fadeOut(x.fadeOut,function(){if(--w===0){l(r,y,x,v)}})}else{l(r,y,x,v)}}function l(x,A,z,y){var v=j(y);x.each(function(w,B){if(this.parentNode){this.parentNode.removeChild(this)}});if(A&&A.el){A.el.style.display=A.display;A.el.style.position=A.position;if(A.parent){A.parent.appendChild(A.el)}v.removeData("blockUI.history")}if(v.data("blockUI.static")){v.css("position","static")}if(typeof z.onUnblock=="function"){z.onUnblock(y,z)}var r=j(document.body),u=r.width(),s=r[0].style.width;r.width(u-1).width(u);r[0].style.width=s}function m(r,w,x){var v=w==window,u=j(w);if(!r&&(v&&!c||!v&&!u.data("blockUI.isBlocked"))){return}u.data("blockUI.isBlocked",r);if(!v||!x.bindEvents||(r&&!x.showOverlay)){return}var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(r){j(document).bind(s,x,p)}else{j(document).unbind(s,p)}}function p(x){if(x.type==="keydown"&&x.keyCode&&x.keyCode==9){if(c&&x.data.constrainTabKey){var u=h;var s=!x.shiftKey&&x.target===u[u.length-1];var r=x.shiftKey&&x.target===u[0];if(s||r){setTimeout(function(){q(r)},10);return false}}}var v=x.data;var w=j(x.target);if(w.hasClass("blockOverlay")&&v.onOverlayClick){v.onOverlayClick()}if(w.parents("div."+v.blockMsgClass).length>0){return true}return w.parents().children().filter("div.blockUI").length===0}function q(r){if(!h){return}var s=h[r===true?h.length-1:0];if(s){s.focus()}}function b(z,r,B){var A=z.parentNode,w=z.style;var u=((A.offsetWidth-z.offsetWidth)/2)-o(A,"borderLeftWidth");var v=((A.offsetHeight-z.offsetHeight)/2)-o(A,"borderTopWidth");if(r){w.left=u>0?(u+"px"):"0"}if(B){w.top=v>0?(v+"px"):"0"}}function o(r,s){return parseInt(j.css(r,s),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();(function(a){a.fn.blockit=function(c){a.blockUI.defaults.css={textAlign:"center","padding-right":"14px"};var e=0,b=(a(".modal-scrollable").length>0?1:0);if(c){msg=c.message;e=c.simple;btntype=c.button}else{msg=false}var d={fadeIn:0,fadeOut:10,bindEvents:true,message:((msg)?("<strong>"+msg+"</strong>"):false),overlayCSS:{backgroundColor:(b?"transparent":(a("body").css("background-color"))),opacity:(b?0:0.96)},blockMsgClass:c.blockMsgClass?c.blockMsgClass:"alert alert-info infofix"};a.blockUI.defaults.centerX=true;a.blockUI.defaults.centerY=true;if(c!=undefined&&c.simple){a.blockUI.defaults.css=c.css?c.css:{padding:8,margin:0,border:0};d.overlayCSS={backgroundColor:(a("body").css("background-color"))}}if(c.usimple){d.overlayCSS.backgroundColor="#ffffff";d.overlayCSS.opacity=0.8;d.blockMsgClass=""}if(c!=undefined&&btntype){a.blockUI.defaults.centerX=false;a.blockUI.defaults.centerY=false;a.blockUI.defaults.css={left:"",right:"-20px",backgroundColor:"transparent",border:0,padding:0,margin:0}}if(b&&(c&&!c.simple)){c.message=null}jQuery.extend(true,d,c);this.block(d);c.usimple=false;return this}})(jQuery);(function(f){f.fn.activity=function(h){this.each(function(){var m=f(this);var k=m.data("activity");if(k){clearInterval(k.data("interval"));k.remove();m.removeData("activity")}if(h!==false){h=f.extend({color:m.css("color")},f.fn.activity.defaults,h);k=e(m,h).css("position","absolute").prependTo(h.outside?"body":m);var j=m.outerHeight()-k.height();var i=m.outerWidth()-k.width();var l={top:h.valign=="top"?h.padding:h.valign=="bottom"?j-h.padding:Math.floor(j/2),left:h.align=="left"?h.padding:h.align=="right"?i-h.padding:Math.floor(i/2)};var n=m.offset();if(h.outside){k.css({top:n.top+"px",left:n.left+"px"})}else{l.top-=k.offset().top-n.top;l.left-=k.offset().left-n.left}k.css({marginTop:l.top+"px",marginLeft:l.left+"px"});b(k,h.segments,Math.round(10/h.speed)/10);m.data("activity",k)}});return this};f.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};f.fn.activity.getOpacity=function(l,k){var j=l.steps||l.segments-1;var h=l.opacity!==undefined?l.opacity:1/j;return 1-Math.min(k,j)*(1-h)/j};var e=function(){return f("<div>").addClass("busy")};var b=function(){};function a(i,h){var j=document.createElementNS("http://www.w3.org/2000/svg",i||"svg");if(h){f.each(h,function(m,l){j.setAttributeNS(null,m,l)})}return f(j)}if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){e=function(n,o){var m=o.width*2+o.space;var l=(m+o.length+Math.ceil(o.width/2)+1);var j=a().width(l*2).height(l*2);var k=a("g",{"stroke-width":o.width,"stroke-linecap":"round",stroke:o.color}).appendTo(a("g",{transform:"translate("+l+","+l+")"}).appendTo(j));for(var h=0;h<o.segments;h++){k.append(a("line",{x1:0,y1:m,x2:0,y2:m+o.length,transform:"rotate("+(360/o.segments*h)+", 0, 0)",opacity:f.fn.activity.getOpacity(o,h)}))}return f("<div>").append(j).width(2*l).height(2*l)};if(document.createElement("div").style.WebkitAnimationName!==undefined){var g={};b=function(j,n,k){if(!g[n]){var h="spin"+n;var m="@-webkit-keyframes "+h+" {";for(var l=0;l<n;l++){var q=Math.round(100000/n*l)/1000;var p=Math.round(100000/n*(l+1)-1)/1000;var o="% { -webkit-transform:rotate("+Math.round(360/n*l)+"deg); }\n";m+=q+o+p+o}m+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(m);g[n]=h}j.css("-webkit-animation",g[n]+" "+k+"s linear infinite")}}else{b=function(j,h,l){var i=0;var k=j.find("g g").get(0);j.data("interval",setInterval(function(){k.setAttributeNS(null,"transform","rotate("+(++i%h*(360/h))+")")},l*1000/h))}}}else{var d=f("<shape>").css("behavior","url(#default#VML)").appendTo("body");if(d.get(0).adj){var c=document.createStyleSheet();f.each(["group","shape","stroke"],function(){c.addRule(this,"behavior:url(#default#VML);")});e=function(n,q){var m=q.width*2+q.space;var l=(m+q.length+Math.ceil(q.width/2)+1);var k=l*2;var p=-Math.ceil(k/2);var j=f("<group>",{coordsize:k+" "+k,coordorigin:p+" "+p}).css({top:p,left:p,width:k,height:k});for(var h=0;h<q.segments;h++){j.append(f("<shape>",{path:"m "+m+",0  l "+(m+q.length)+",0"}).css({width:k,height:k,rotation:(360/q.segments*h)+"deg"}).append(f("<stroke>",{color:q.color,weight:q.width+"px",endcap:"round",opacity:f.fn.activity.getOpacity(q,h)})))}return f("<group>",{coordsize:k+" "+k}).css({width:k,height:k,overflow:"hidden"}).append(j)};b=function(j,h,l){var i=0;var k=j.get(0);j.data("interval",setInterval(function(){k.style.rotation=++i%h*(360/h)},l*1000/h))}}f(d).remove()}})(jQuery);(function(a){if(typeof exports=="object"){a(require("jquery"),require("spin"))}else{if(typeof define=="function"&&define.amd){define(["jquery","spin"],a)}else{if(!$.isFunction($.fn.activity)){throw new Error("activity.js not present")}a(window.jQuery,window.activity)}}}(function(a,b){a.fn.spin=function(d,c){a.fn.spin.presets={main:{segments:12,steps:8,opacity:0.44,width:3,space:0.8,length:6,speed:0.8,align:"left"},big:{segments:18,steps:9,opacity:0.44,width:5,space:0.99,length:12,speed:1.8},mid:{segments:12,steps:8,opacity:0.44,width:3,space:0.8,length:6,speed:1.8}};return this.each(function(){var f=a(this),e=f.data();if(e.activity){f.activity(false)}if(d!==false){d=a.extend({color:c||f.css("color")},a.fn.spin.presets[d]||d);f.activity(d)}})}}));
/*!
 * bootstrap-filestyle
 * http://dev.tudosobreweb.com.br/bootstrap-filestyle/
 *
 * Copyright (c) 2013 Markus Vinicius da Silva Lima
 * Version 1.0.3
 * Licensed under the MIT license.
 */
(function(c){var b=function(e,d){this.options=d;this.$elementFilestyle=[];this.$element=c(e)};b.prototype={clear:function(){this.$element.val("");this.$elementFilestyle.find(":text").val("")},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val("");this.$elementFilestyle.remove()},icon:function(d){if(d===true){if(!this.options.icon){this.options.icon=true;this.$elementFilestyle.find("label").prepend(this.htmlIcon())}}else{if(d===false){if(this.options.icon){this.options.icon=false;this.$elementFilestyle.find("i").remove()}}else{return this.options.icon}}},input:function(g){if(g===true){if(!this.options.input){this.options.input=true;this.$elementFilestyle.prepend(this.htmlInput());var f="",e=[];if(this.$element[0].files===undefined){e[0]={name:this.$element[0].value}}else{e=this.$element[0].files}for(var d=0;d<e.length;d++){f+=e[d].name.split("\\").pop()+", "}if(f!==""){this.$elementFilestyle.find(":text").val(f.replace(/\, $/g,""))}}}else{if(g===false){if(this.options.input){this.options.input=false;this.$elementFilestyle.find(":text").remove()}}else{return this.options.input}}},buttonText:function(d){if(d!==undefined){this.options.buttonText=d;this.$elementFilestyle.find("label span").html(this.options.buttonText)}else{return this.options.buttonText}},classButton:function(d){if(d!==undefined){this.options.classButton=d;this.$elementFilestyle.find("label").attr({"class":this.options.classButton});if(this.options.classButton.search(/btn-inverse|btn-primary|btn-danger|btn-warning|btn-success/i)!==-1){this.$elementFilestyle.find("label i").addClass("icon-white")}else{this.$elementFilestyle.find("label i").removeClass("icon-white")}}else{return this.options.classButton}},classIcon:function(d){if(d!==undefined){this.options.classIcon=d;if(this.options.classButton.search(/btn-inverse|btn-primary|btn-danger|btn-warning|btn-success/i)!==-1){this.$elementFilestyle.find("label").find("i").attr({"class":"icon icon-white "+this.options.classIcon})}else{this.$elementFilestyle.find("label").find("i").attr({"class":"icon "+this.options.classIcon})}}else{return this.options.classIcon}},classInput:function(d){if(d!==undefined){this.options.classInput=d;this.$elementFilestyle.find(":text").addClass(this.options.classInput)}else{return this.options.classInput}},htmlIcon:function(){if(this.options.icon){var d="";if(this.options.classButton.search(/btn-inverse|btn-primary|btn-danger|btn-warning|btn-success/i)!==-1){d=" icon-white "}return'<i class="icon '+d+this.options.classIcon+'"></i> '}else{return""}},htmlInput:function(){if(this.options.input){return'<input type="text" class="'+this.options.classInput+'" disabled> '}else{return""}},constructor:function(){var e=this,f="",i=this.$element.attr("id"),h=[];if(i===""||!i){i="filestyle-"+c(".bootstrap-filestyle").length;this.$element.attr({id:i})}f=this.htmlInput()+'<label for="'+i+'" class="'+this.options.classButton+'">'+this.htmlIcon()+"<span>"+this.options.buttonText+"</span></label>";this.$elementFilestyle=c('<div class="bootstrap-filestyle" style="display: inline-block;">'+f+"</div>");var d=this.$elementFilestyle.find("label");var g=d.parent();g.attr("tabindex","0").keypress(function(j){if(j.keyCode===13||j.charCode===32){d.click()}});this.$element.css({position:"absolute",left:"-9999px"}).attr("tabindex","-1").after(this.$elementFilestyle);this.$element.change(function(){var k="";if(this.files===undefined){h[0]={name:this.value}}else{h=this.files}for(var j=0;j<h.length;j++){k+=h[j].name.split("\\").pop()+", "}if(k!==""){e.$elementFilestyle.find(":text").val(k.replace(/\, $/g,""))}});if(window.navigator.userAgent.search(/firefox/i)>-1){this.$elementFilestyle.find("label").click(function(){e.$element.click();return false})}}};var a=c.fn.filestyle;c.fn.filestyle=function(f,g){var d="",e=this.each(function(){if(c(this).attr("type")==="file"){var j=c(this),i=j.data("filestyle"),h=c.extend({},c.fn.filestyle.defaults,f,typeof f==="object"&&f);if(!i){j.data("filestyle",(i=new b(this,h)));i.constructor()}if(typeof f==="string"){d=i[f](g)}}});if(typeof d!==undefined){return d}else{return e}};c.fn.filestyle.defaults={buttonText:"Choose file",input:true,icon:true,classButton:"btn",classInput:"input-large",classIcon:"icon-folder-open"};c.fn.filestyle.noConflict=function(){c.fn.filestyle=a;return this};c(".filestyle").each(function(){var e=c(this),d={buttonText:e.attr("data-buttonText"),input:e.attr("data-input")==="false"?false:true,icon:e.attr("data-icon")==="false"?false:true,classButton:e.attr("data-classButton"),classInput:e.attr("data-classInput"),classIcon:e.attr("data-classIcon")};e.filestyle(d)})})(window.jQuery);(function(a){if(typeof(a.fn.xswitch)!="undefined"){return false}a.fn.xswitch=function(b,c){a.fn.xmdestroy=function(){a(this).each(function(){var d=a(this).parents(".xmwrap");d.children().not("input").remove();a(this).unwrap()});return true};a.fn.xmon=function(){a(this).each(function(){var e=a(this).parents(".xmwrap");var f=e.find("input");if(typeof(a.fn.prop)=="function"){e.find("input").prop("checked",true)}else{e.find("input").attr("checked",true)}e.find(".xmswitch").removeClass("xmoff").addClass("xmon");if(e.find(".xmswitch").hasClass("xmradio_switch")){var d=f.attr("name");e.parents("form").find("input[name="+d+"]").not(f).xmoff()}e.find("input").trigger("xmon");e.find("input").trigger("change")});return true};a.fn.xmoff=function(){a(this).each(function(){var d=a(this).parents(".xmwrap");if(typeof(a.fn.prop)=="function"){d.find("input").prop("checked",false)}else{d.find("input").attr("checked",false)}d.find(".xmswitch").removeClass("xmon").addClass("xmoff");d.find("input").trigger("xmoff");d.find("input").trigger("change")});return true};return this.each(function(){var j=a(this);b=j.data("on-label")?j.data("on-label"):b;c=j.data("off-label")?j.data("off-label"):c;if(!j.parent().hasClass("xmwrap")){var i=(typeof(b)=="undefined")?"ON":b;var g=(typeof(c)=="undefined")?"OFF":c;var h=(i)?'<div class="xmlabel xmlabel_on">'+i+"</div>":"";var l=(g)?'<div class="xmlabel xmlabel_off">'+g+"</div>":"";var f=(j.is(":disabled"))?true:false;var e=(j.is(":checked"))?true:false;var k="";k+=(e)?" xmon":" xmoff";if(f){k+=" xmdisabled"}var d='<div class="xmswitch '+k+'"><div class="xmcursor"></div>'+h+l+"</div>";if(j.is(":input")&&(j.attr("type")=="checkbox"||j.attr("type")=="radio")){j.wrap('<div class="xmwrap"></div>');j.parent().append(d);j.parent().find(".xmswitch").addClass("xm"+j.attr("type")+"_switch")}j.next(".xmswitch:not(.xmdisabled)").on("click tap",function(m){var n=a(this);if(n.hasClass("xmon")){if(!n.hasClass("xmradio_switch")){if(!n.hasClass("xmoff")){a(this).xmoff()}}}else{if(n.hasClass("xmoff")){a(this).xmon()}}return false});j.on("change",function(){if(j.is(":checked")){if(!j.next(".xmswitch:not(.xmdisabled)").hasClass("xmon")){a(this).xmon()}}else{if(j.next(".xmswitch:not(.xmdisabled)").hasClass("xmoff")){return}a(this).xmoff()}return false})}})};a(document).ready(function(){a('input[data-xswitch="true"]').each(function(){var b=a(this).data("callback");a(this).xswitch().on("change",function(){if(b){window[b]()}return false})})})})(jQuery);(function(d,c){if(typeof define==="function"&&define.amd){define(["jquery"],c)}else{if(typeof exports==="object"){module.exports=c(require("jquery"))}else{d.ppop=c(d.jQuery)}}}(this,function init(y,E){var u={dialog:'<div class="ppop modal fadeIn" tabindex="-1" data-backdrop="static" data-keyboard="true"><div class=\'modal-content\'><div class=\'modal-body\'><div class=\'ppop-body\'></div></div></div></div>',header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='ppop-close-button close' data-dismiss='modal'>&times;</button>",form:"<form class='ppop-form'></form>",inputs:{text:"<input class='ppop-input ppop-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='ppop-input ppop-input-textarea form-control'></textarea>",email:"<input class='ppop-input ppop-input-email form-control' autocomplete='off' type='email' />",select:"<select class='ppop-input ppop-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='ppop-input ppop-input-checkbox' type='checkbox' /></label></div>",date:"<input class='ppop-input ppop-input-date form-control' autocomplete=off type='date' />",time:"<input class='ppop-input ppop-input-time form-control' autocomplete=off type='time' />",number:"<input class='ppop-input ppop-input-number form-control' autocomplete=off type='number' />",password:"<input class='ppop-input ppop-input-password form-control' autocomplete='off' type='password' />"}};var B={locale:"en",backdrop:true,animate:false,className:null,closeButton:true,show:true,container:"body"};var z={};function q(a){var b=G[B.locale];return b?b[a]:G.en[a]}function D(c,e,a,d){c.stopPropagation();c.preventDefault();var f=y.isFunction(a)&&y.globalEval(a(c))===false;if(!f){e.modal("hide")}if(a===E){return}if(typeof a!=="function"){if(a.indexOf(":")!=-1){var b=a.split(":");window[b[0]](b[1],d)}else{y.globalEval(a)}}}function x(a){var c,b=0;for(c in a){b++}return b}function w(a,b){var c=0;y.each(a,function(e,d){b(e,d,c++)})}function F(c){var a;var b;if(typeof c!=="object"){throw new Error("Please supply an object of options")}if(!c.message){throw new Error("Please specify a message")}c=y.extend({},B,c);if(!c.buttons){c.buttons={}}c.backdrop=c.backdrop?"static":false;a=c.buttons;b=x(a);w(a,function(d,e,f){if(y.isFunction(e)){e=a[d]={callback:e}}if(y.type(e)!=="object"){throw new Error("button with key "+d+" must be an object")}if(!e.label){e.label=d}if(!e.className){if(b<=2&&f===b-1){e.className="btn-primary"}else{e.className="btn-default"}}if(e.value===E){e.value=1}});return c}function A(c,b){var a=c.length;var d={};if(a<1||a>2){throw new Error("Invalid argument length")}if(a===2||typeof c[0]==="string"){d[b[0]]=c[0];d[b[1]]=c[1]}else{d=c[0]}return d}function v(a,c,b){return y.extend(true,{},a,A(c,b))}function C(b,a,c,d){var e={className:"ppop-"+b,buttons:r.apply(null,a)};return s(v(e,d,c),a)}function r(){var b={};for(var d=0,f=arguments.length;d<f;d++){var c=arguments[d];var e=c.toLowerCase();var a=c.toUpperCase();b[e]={label:q(a)}}return b}function s(c,a){var b={};w(a,function(e,d){b[d]=true});w(c.buttons,function(d){if(b[d]===E){throw new Error("button key "+d+" is not allowed (options are "+a.join("\n")+")")}});return c}z.alert=function(){var a;a=C("alert",["ok"],["message","callback"],arguments);if(a.callback&&!y.isFunction(a.callback)){throw new Error("alert requires callback property to be a function when provided")}a.buttons.ok.callback=a.onEscape=function(){if(y.isFunction(a.callback)){return a.callback()}return true};return z.dialog(a)};z.confirm=function(){var a;a=C("confirm",["cancel","confirm"],["message","callback"],arguments);a.buttons.cancel.callback=a.onEscape=function(){return a.callback(false)};a.buttons.confirm.callback=function(){return a.callback(true)};if(!y.isFunction(a.callback)){throw new Error("confirm requires a callback")}return z.dialog(a)};z.prompt=function(){var c;var j;var f;var b;var e;var k;var g;b=y(u.form);j={className:"ppop-prompt",buttons:r("cancel","confirm"),value:"",inputType:"text"};c=s(v(j,arguments,["title","callback"]),["cancel","confirm"]);k=(c.show===E)?true:c.show;var h=["date","time","number"];var i=document.createElement("input");i.setAttribute("type",c.inputType);if(h[c.inputType]){c.inputType=i.type}c.message=b;c.buttons.cancel.callback=c.onEscape=function(){return c.callback(null)};c.buttons.confirm.callback=function(){var l;switch(c.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":l=e.val();break;case"checkbox":var m=e.find("input:checked");l=[];w(m,function(o,n){l.push(y(n).val())});break}return c.callback(l)};c.show=false;if(!c.title){throw new Error("prompt requires a title")}if(!y.isFunction(c.callback)){throw new Error("prompt requires a callback")}if(!u.inputs[c.inputType]){throw new Error("invalid prompt type")}e=y(u.inputs[c.inputType]);switch(c.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":e.val(c.value);break;case"select":var a={};g=c.inputOptions||[];if(!g.length){throw new Error("prompt with select requires options")}w(g,function(n,m){var l=e;if(m.value===E||m.text===E){throw new Error("given options in wrong format")}if(m.group){if(!a[m.group]){a[m.group]=y("<optgroup/>").attr("label",m.group)}l=a[m.group]}l.append("<option value='"+m.value+"'>"+m.text+"</option>")});w(a,function(m,l){e.append(l)});e.val(c.value);break;case"checkbox":var d=y.isArray(c.value)?c.value:[c.value];g=c.inputOptions||[];if(!g.length){throw new Error("prompt with checkbox requires options")}if(!g[0].value||!g[0].text){throw new Error("given options in wrong format")}e=y("<div/>");w(g,function(n,m){var l=y(u.inputs[c.inputType]);l.find("input").attr("value",m.value);l.find("label").append(m.text);w(d,function(p,o){if(o===m.value){l.find("input").prop("checked",true)}});e.append(l)});break}if(c.placeholder){e.attr("placeholder",c.placeholder)}if(c.pattern){e.attr("pattern",c.pattern)}b.append(e);b.on("submit",function(l){l.preventDefault();f.find(".btn-primary").click()});f=z.dialog(c);f.off("shown.bs.modal");f.on("shown.bs.modal",function(){e.focus()});if(k===true){f.modal("show")}return f};z.dialog=function(e){e=F(e);var d=y(u.dialog);var g=d.find(".modal-body");var a=e.buttons;var c="";var b={onEscape:e.onEscape};if(e.width){d.data("width",e.width)}d.bind("shownpp");w(a,function(i,h){c+="<button data-bb-handler='"+i+"' data-value='"+h.value+"' type='button' class='btn "+h.className+"'>"+h.label+"</button>";b[i]=h.callback});g.find(".ppop-body").html(e.message);if(e.animate===true){d.addClass("fadeIn")}if(e.className){d.addClass(e.className)}if(e.title){g.before(u.header)}if(e.closeButton){var f=y(u.closeButton);if(e.title){d.find(".modal-header").prepend(f)}else{f.css("margin-top","-10px").prependTo(g)}}if(e.title){d.find(".modal-title").html(e.title)}if(c.length){g.after(u.footer);d.find(".modal-footer").html(c)}d.on("hidden.bs.modal",function(h){if(h.target===this){d.remove()}});d.on("shown.bs.modal",function(){setTimeout(function(){d.removeClass("fadeIn");d.trigger("shownpp")},200)});d.on("escape.close.bb",function(h){if(b.onEscape){D(h,d,b.onEscape)}});d.on("click",".modal-footer button",function(i){var h=y(this).data("bb-handler");D(i,d,b[h],this)});d.on("click",".ppop-close-button",function(h){D(h,d,b.onEscape)});d.on("keyup",function(h){if(h.which===27){d.trigger("escape.close.bb")}});y(e.container).append(d);d.modal({backdrop:e.backdrop,keyboard:false,show:false});if(e.show){d.modal("show")}return d};z.setDefaults=function(){var a={};if(arguments.length===2){a[arguments[0]]=arguments[1]}else{a=arguments[0]}y.extend(B,a)};z.hideAll=function(){y(".ppop").modal("hide")};var G={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"}};z.init=function(a){return init(a||y)};return z}));
/*!
 * jquery.fancytree.js
 * Dynamic tree view control, with support for lazy loading of branches.
 * https://github.com/mar10/fancytree/
 *
 * Copyright (c) 2008-2015, Martin Wendt (http://wwWendt.de)
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version 2.8.1
 * @date 2015-03-01T20:28
 */
!function(af,ae,ad,ac){function ab(a,d){a||(d=d?": "+d:"",af.error("Fancytree assertion failed"+d))}function aa(b,l){var k,j,i=ae.console?ae.console[b]:null;if(i){try{i.apply(ae.console,l)}catch(h){for(j="",k=0;k<l.length;k++){j+=l[k]}i(j)}}}function Z(b){return !(!b.tree||b.statusNodeType===ac)}function Y(a){var l,k,j,i=af.map(af.trim(a).split("."),function(b){return parseInt(b,10)}),h=af.map(Array.prototype.slice.call(arguments,1),function(b){return parseInt(b,10)});for(l=0;l<h.length;l++){if(k=i[l]||0,j=h[l]||0,k!==j){return k>j}}return !0}function X(h,g,l,k,j){var i=function(){var m=g[h],e=k[h],d=g.ext[j],b=function(){return m.apply(g,arguments)},a=function(c){return m.apply(g,c)};return function(){var f=g._local,o=g._super,n=g._superApply;try{return g._local=d,g._super=b,g._superApply=a,e.apply(g,arguments)}finally{g._local=f,g._super=o,g._superApply=n}}}();return i}function W(a,j,i,h){for(var g in i){"function"==typeof i[g]?"function"==typeof a[g]?a[g]=X(g,a,j,i,h):"_"===g.charAt(0)?a.ext[h][g]=X(g,a,j,i,h):af.error("Could not override tree."+g+". Use prefix '_' to create tree."+h+"._"+g):"options"!==g&&(a.ext[h][g]=i[g])}}function V(a,d){return a===ac?af.Deferred(function(){this.resolve()}).promise():af.Deferred(function(){this.resolveWith(a,d)}).promise()}function U(a,d){return a===ac?af.Deferred(function(){this.reject()}).promise():af.Deferred(function(){this.rejectWith(a,d)}).promise()}function T(d,c){return function(){d.resolveWith(c)}}function S(a){var f=af.extend({},a.data()),e=f.json;return delete f.fancytree,e&&(delete f.json,f=af.extend(f,e)),f}function R(b){return b=b.toLowerCase(),function(a){return a.title.toLowerCase().indexOf(b)>=0}}function Q(d){var c=new RegExp("^"+d,"i");return function(b){return c.test(b.title)}}function O(a,l){var k,j,i,e;for(this.parent=a,this.tree=a.tree,this.ul=null,this.li=null,this.statusNodeType=null,this._isLoading=!1,this._error=null,this.data={},k=0,j=P.length;j>k;k++){i=P[k],this[i]=l[i]}l.data&&af.extend(this.data,l.data);for(i in l){N[i]||af.isFunction(l[i])||L[i]||(this.data[i]=l[i])}null==this.key?this.tree.options.defaultKey?(this.key=this.tree.options.defaultKey(this),ab(this.key,"defaultKey() must return a unique key")):this.key="_"+J._nextNodeKey++:this.key=""+this.key,l.active&&(ab(null===this.tree.activeNode,"only one active node allowed"),this.tree.activeNode=this),l.selected&&(this.tree.lastSelectedNode=this),this.children=null,e=l.children,e&&e.length&&this._setChildren(e),this.tree._callHook("treeRegisterNode",this.tree,!0,this)}function M(a){this.widget=a,this.$div=a.element,this.options=a.options,this.options&&(af.isFunction(this.options.lazyload)&&!af.isFunction(this.options.lazyLoad)&&(this.options.lazyLoad=function(){return J.warn("The 'lazyload' event is deprecated since 2014-02-25. Use 'lazyLoad' (with uppercase L) instead."),a.options.lazyload.apply(this,arguments)}),af.isFunction(this.options.loaderror)&&af.error("The 'loaderror' event was renamed since 2014-07-03. Use 'loadError' (with uppercase E) instead."),this.options.fx!==ac&&J.warn("The 'fx' options was replaced by 'toggleEffect' since 2014-11-30.")),this.ext={},this.data=S(this.$div),this._id=af.ui.fancytree._nextId++,this._ns=".fancytree-"+this._id,this.activeNode=null,this.focusNode=null,this._hasFocus=null,this.lastSelectedNode=null,this.systemFocusElement=null,this.lastQuicksearchTerm="",this.lastQuicksearchTime=0,this.statusClassPropName="span",this.ariaPropName="li",this.nodeContainerAttrName="li",this.$div.find(">ul.fancytree-container").remove();var f,d={tree:this};this.rootNode=new O(d,{title:"root",key:"root_"+this._id,children:null,expanded:!0}),this.rootNode.parent=null,f=af("<ul>",{"class":"ui-fancytree fancytree-container"}).appendTo(this.$div),this.$container=f,this.rootNode.ul=f[0],null==this.options.debugLevel&&(this.options.debugLevel=J.debugLevel),this.$container.attr("tabindex",this.options.tabbable?"0":"-1"),this.options.aria&&this.$container.attr("role","tree").attr("aria-multiselectable",!0)}if(af.ui&&af.ui.fancytree){return void af.ui.fancytree.warn("Fancytree: ignored duplicate include")}ab(af.ui,"Fancytree requires jQuery UI (http://jqueryui.com)");var K,J=null,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},H={16:!0,17:!0,18:!0},G={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},F={0:"",1:"left",2:"middle",3:"right"},E="active expanded focus folder hideCheckbox lazy selected unselectable".split(" "),D={},P="expanded extraClasses folder hideCheckbox key lazy refKey selected title tooltip unselectable".split(" "),N={},L={active:!0,children:!0,data:!0,focus:!0};for(K=0;K<E.length;K++){D[E[K]]=!0}for(K=0;K<P.length;K++){N[P[K]]=!0}O.prototype={_findDirectChild:function(f){var e,h,g=this.children;if(g){if("string"==typeof f){for(e=0,h=g.length;h>e;e++){if(g[e].key===f){return g[e]}}}else{if("number"==typeof f){return this.children[f]}if(f.parent===this){return f}}}return null},_setChildren:function(e){ab(e&&(!this.children||0===this.children.length),"only init supported"),this.children=[];for(var d=0,f=e.length;f>d;d++){this.children.push(new O(this,e[d]))}},addChildren:function(a,n){var m,l,k,j=null,e=[];for(af.isPlainObject(a)&&(a=[a]),this.children||(this.children=[]),m=0,l=a.length;l>m;m++){e.push(new O(this,a[m]))}return j=e[0],null==n?this.children=this.children.concat(e):(n=this._findDirectChild(n),k=af.inArray(n,this.children),ab(k>=0,"insertBefore must be an existing child"),this.children.splice.apply(this.children,[k,0].concat(e))),(!this.parent||this.parent.ul||this.tr)&&this.render(),3===this.tree.options.selectMode&&this.fixSelection3FromEndNodes(),j},addNode:function(e,d){switch((d===ac||"over"===d)&&(d="child"),d){case"after":return this.getParent().addChildren(e,this.getNextSibling());case"before":return this.getParent().addChildren(e,this);case"firstChild":var f=this.children?this.children[0]:null;return this.addChildren(e,f);case"child":case"over":return this.addChildren(e)}ab(!1,"Invalid mode: "+d)},appendSibling:function(b){return this.addNode(b,"after")},applyPatch:function(a){if(null===a){return this.remove(),V(this)}var j,i,h,g={children:!0,expanded:!0,parent:!0};for(j in a){h=a[j],g[j]||af.isFunction(h)||(N[j]?this[j]=h:this.data[j]=h)}return a.hasOwnProperty("children")&&(this.removeChildren(),a.children&&this._setChildren(a.children)),this.isVisible()&&(this.renderTitle(),this.renderStatus()),i=a.hasOwnProperty("expanded")?this.setExpanded(a.expanded):V(this)},collapseSiblings:function(){return this.tree._callHook("nodeCollapseSiblings",this)},copyTo:function(e,d,f){return e.addNode(this.toDict(!0,f),d)},countChildren:function(g){var f,j,i,h=this.children;if(!h){return 0}if(i=h.length,g!==!1){for(f=0,j=i;j>f;f++){i+=h[f].countChildren()}}return i},debug:function(){this.tree.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),aa("log",arguments))},discard:function(){return this.warn("FancytreeNode.discard() is deprecated since 2014-02-16. Use .resetLazy() instead."),this.resetLazy()},findAll:function(a){a=af.isFunction(a)?a:R(a);var d=[];return this.visit(function(b){a(b)&&d.push(b)}),d},findFirst:function(a){a=af.isFunction(a)?a:R(a);var d=null;return this.visit(function(b){return a(b)?(d=b,!1):void 0}),d},_changeSelectStatusAttrs:function(d){var c=!1;switch(d){case !1:c=this.selected||this.partsel,this.selected=!1,this.partsel=!1;break;case !0:c=!this.selected||!this.partsel,this.selected=!0,this.partsel=!0;break;case ac:c=this.selected||!this.partsel,this.selected=!1,this.partsel=!0;break;default:ab(!1,"invalid state: "+d)}return c&&this.renderStatus(),c},fixSelection3AfterClick:function(){var b=this.isSelected();this.visit(function(a){a._changeSelectStatusAttrs(b)}),this.fixSelection3FromEndNodes()},fixSelection3FromEndNodes:function(){function b(r){var q,p,o,n,m,l,d,a=r.children;if(a&&a.length){for(l=!0,d=!1,q=0,p=a.length;p>q;q++){o=a[q],n=b(o),n!==!1&&(d=!0),n!==!0&&(l=!1)}m=l?!0:d?ac:!1}else{m=!!r.selected}return r._changeSelectStatusAttrs(m),m}ab(3===this.tree.options.selectMode,"expected selectMode 3"),b(this),this.visitParents(function(j){var d,p,o,n,m=j.children,l=!0,k=!1;for(d=0,p=m.length;p>d;d++){o=m[d],(o.selected||o.partsel)&&(k=!0),o.unselectable||o.selected||(l=!1)}n=l?!0:k?ac:!1,j._changeSelectStatusAttrs(n)})},fromDict:function(a){for(var d in a){N[d]?this[d]=a[d]:"data"===d?af.extend(this.data,a.data):af.isFunction(a[d])||L[d]||(this.data[d]=a[d])}a.children&&(this.removeChildren(),this.addChildren(a.children)),this.renderTitle()},getChildren:function(){return this.hasChildren()===ac?ac:this.children},getFirstChild:function(){return this.children?this.children[0]:null},getIndex:function(){return af.inArray(this,this.parent.children)},getIndexHier:function(a){a=a||".";var d=[];return af.each(this.getParentList(!1,!0),function(e,c){d.push(c.getIndex()+1)}),d.join(a)},getKeyPath:function(e){var d=[],f=this.tree.options.keyPathSeparator;return this.visitParents(function(b){b.parent&&d.unshift(b.key)},!e),f+d.join(f)},getLastChild:function(){return this.children?this.children[this.children.length-1]:null},getLevel:function(){for(var d=0,c=this.parent;c;){d++,c=c.parent}return d},getNextSibling:function(){if(this.parent){var e,d,f=this.parent.children;for(e=0,d=f.length-1;d>e;e++){if(f[e]===this){return f[e+1]}}}return null},getParent:function(){return this.parent},getParentList:function(f,e){for(var h=[],g=e?this:this.parent;g;){(f||g.parent)&&h.unshift(g),g=g.parent}return h},getPrevSibling:function(){if(this.parent){var e,d,f=this.parent.children;for(e=1,d=f.length;d>e;e++){if(f[e]===this){return f[e-1]}}}return null},hasChildren:function(){return this.lazy?null==this.children?ac:0===this.children.length?!1:1===this.children.length&&this.children[0].isStatusNode()?ac:!0:!(!this.children||!this.children.length)},hasFocus:function(){return this.tree.hasFocus()&&this.tree.focusNode===this},info:function(){this.tree.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),aa("info",arguments))},isActive:function(){return this.tree.activeNode===this},isChildOf:function(b){return this.parent&&this.parent===b},isDescendantOf:function(d){if(!d||d.tree!==this.tree){return !1}for(var c=this.parent;c;){if(c===d){return !0}c=c.parent}return !1},isExpanded:function(){return !!this.expanded},isFirstSibling:function(){var b=this.parent;return !b||b.children[0]===this},isFolder:function(){return !!this.folder},isLastSibling:function(){var b=this.parent;return !b||b.children[b.children.length-1]===this},isLazy:function(){return !!this.lazy},isLoaded:function(){return !this.lazy||this.hasChildren()!==ac},isLoading:function(){return !!this._isLoading},isRoot:function(){return this.isRootNode()},isRootNode:function(){return this.tree.rootNode===this},isSelected:function(){return !!this.selected},isStatusNode:function(){return !!this.statusNodeType},isTopLevel:function(){return this.tree.rootNode===this.parent},isUndefined:function(){return this.hasChildren()===ac},isVisible:function(){var e,d,f=this.getParentList(!1,!1);for(e=0,d=f.length;d>e;e++){if(!f[e].expanded){return !1}}return !0},lazyLoad:function(b){return this.warn("FancytreeNode.lazyLoad() is deprecated since 2014-02-16. Use .load() instead."),this.load(b)},load:function(f){var e,h,g=this;return ab(this.isLazy(),"load() requires a lazy node"),f||this.isUndefined()?(this.isLoaded()&&this.resetLazy(),h=this.tree._triggerNodeEvent("lazyLoad",this),h===!1?V(this):(ab("boolean"!=typeof h,"lazyLoad event must return source in data.result"),e=this.tree._callHook("nodeLoadChildren",this,h),this.expanded&&e.always(function(){g.render()}),e)):V(this)},makeVisible:function(r){var q,p=this,o=[],n=new af.Deferred,m=this.getParentList(!1,!1),l=m.length,k=!(r&&r.noAnimation===!0),a=!(r&&r.scrollIntoView===!1);for(q=l-1;q>=0;q--){o.push(m[q].setExpanded(!0,r))}return af.when.apply(af,o).done(function(){a?p.scrollIntoView(k).done(function(){n.resolve()}):n.resolve()}),n.promise()},moveTo:function(a,l,k){(l===ac||"over"===l)&&(l="child");var j,e=this.parent,d="child"===l?a:a.parent;if(this!==a){if(!this.parent){throw"Cannot move system root"}if(d.isDescendantOf(this)){throw"Cannot move a node to its own descendant"}if(1===this.parent.children.length){if(this.parent===d){return}this.parent.children=this.parent.lazy?[]:null,this.parent.expanded=!1}else{j=af.inArray(this,this.parent.children),ab(j>=0),this.parent.children.splice(j,1)}if(this.parent=d,d.hasChildren()){switch(l){case"child":d.children.push(this);break;case"before":j=af.inArray(a,d.children),ab(j>=0),d.children.splice(j,0,this);break;case"after":j=af.inArray(a,d.children),ab(j>=0),d.children.splice(j+1,0,this);break;default:throw"Invalid mode "+l}}else{d.children=[this]}k&&a.visit(k,!0),this.tree!==a.tree&&(this.warn("Cross-tree moveTo is experimantal!"),this.visit(function(b){b.tree=a.tree},!0)),e.isDescendantOf(d)||e.render(),d.isDescendantOf(e)||d===e||d.render()}},navigate:function(a,p){function o(c){if(c){try{c.makeVisible()}catch(b){}return af(c.span).is(":visible")?p===!1?c.setFocus():c.setActive():(c.debug("Navigate: skipping hidden node"),void c.navigate(a,p))}}var n,m,l=!0,k=af.ui.keyCode,j=null;switch(a){case k.BACKSPACE:this.parent&&this.parent.parent&&o(this.parent);break;case k.LEFT:this.expanded?(this.setExpanded(!1),o(this)):this.parent&&this.parent.parent&&o(this.parent);break;case k.RIGHT:this.expanded||!this.children&&!this.lazy?this.children&&this.children.length&&o(this.children[0]):(this.setExpanded(),o(this));break;case k.UP:for(j=this.getPrevSibling();j&&!af(j.span).is(":visible");){j=j.getPrevSibling()}for(;j&&j.expanded&&j.children&&j.children.length;){j=j.children[j.children.length-1]}!j&&this.parent&&this.parent.parent&&(j=this.parent),o(j);break;case k.DOWN:if(this.expanded&&this.children&&this.children.length){j=this.children[0]}else{for(m=this.getParentList(!1,!0),n=m.length-1;n>=0;n--){for(j=m[n].getNextSibling();j&&!af(j.span).is(":visible");){j=j.getNextSibling()}if(j){break}}}o(j);break;default:l=!1}},remove:function(){return this.parent.removeChild(this)},removeChild:function(b){return this.tree._callHook("nodeRemoveChild",this,b)},removeChildren:function(){return this.tree._callHook("nodeRemoveChildren",this)},render:function(d,c){return this.tree._callHook("nodeRender",this,d,c)},renderTitle:function(){return this.tree._callHook("nodeRenderTitle",this)},renderStatus:function(){return this.tree._callHook("nodeRenderStatus",this)},resetLazy:function(){this.removeChildren(),this.expanded=!1,this.lazy=!0,this.children=ac,this.renderStatus()},scheduleAction:function(e,d){this.tree.timer&&clearTimeout(this.tree.timer),this.tree.timer=null;var f=this;switch(e){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){f.tree.debug("setTimeout: trigger expand"),f.setExpanded(!0)},d);break;case"activate":this.tree.timer=setTimeout(function(){f.tree.debug("setTimeout: trigger activate"),f.setActive(!0)},d);break;default:throw"Invalid mode "+e}},scrollIntoView:function(ao,an){an!==ac&&Z(an)&&(this.warn("scrollIntoView() with 'topNode' option is deprecated since 2014-05-08. Use 'options.topNode' instead."),an={topNode:an});var am,al,ak,aj,ai=af.extend({effects:ao===!0?{duration:200,queue:!1}:ao,scrollOfs:this.tree.options.scrollOfs,scrollParent:this.tree.options.scrollParent||this.tree.$container,topNode:null},an),ah=new af.Deferred,ag=this,C=af(this.span).height(),B=af(ai.scrollParent),A=ai.scrollOfs.top||0,k=ai.scrollOfs.bottom||0,g=B.height(),e=B.scrollTop(),d=B,c=B[0]===ae,b=ai.topNode||null,a=null;return af(this.span).is(":visible")?(c?(al=af(this.span).offset().top,am=b&&b.span?af(b.span).offset().top:0,d=af("html,body")):(ab(B[0]!==ad&&B[0]!==ad.body,"scrollParent should be an simple element or `window`, not document or body."),aj=B.offset().top,al=af(this.span).offset().top-aj+e,am=b?af(b.span).offset().top-aj+e:0,ak=Math.max(0,B.innerHeight()-B[0].clientHeight),g-=ak),e+A>al?a=al-A:al+C>e+g-k&&(a=al+C-g+k,b&&(ab(b.isRoot()||af(b.span).is(":visible"),"topNode must be visible"),a>am&&(a=am-A))),null!==a?ai.effects?(ai.effects.complete=function(){ah.resolveWith(ag)},d.stop(!0).animate({scrollTop:a},ai.effects)):(d[0].scrollTop=a,ah.resolveWith(this)):ah.resolveWith(this),ah.promise()):(this.warn("scrollIntoView(): node is invisible."),V())},setActive:function(d,c){return this.tree._callHook("nodeSetActive",this,d,c)},setExpanded:function(d,c){return this.tree._callHook("nodeSetExpanded",this,d,c)},setFocus:function(b){return this.tree._callHook("nodeSetFocus",this,b)},setSelected:function(b){return this.tree._callHook("nodeSetSelected",this,b)},setStatus:function(e,d,f){return this.tree._callHook("nodeSetStatus",this,e,d,f)},setTitle:function(b){this.title=b,this.renderTitle()},sortChildren:function(g,f){var j,i,h=this.children;if(h){if(g=g||function(k,e){var m=k.title.toLowerCase(),l=e.title.toLowerCase();return m===l?0:m>l?1:-1},h.sort(g),f){for(j=0,i=h.length;i>j;j++){h[j].children&&h[j].sortChildren(g,"$norender$")}}"$norender$"!==f&&this.render()}},toDict:function(a,n){var m,l,k,j={},i=this;if(af.each(P,function(d,c){(i[c]||i[c]===!1)&&(j[c]=i[c])}),af.isEmptyObject(this.data)||(j.data=af.extend({},this.data),af.isEmptyObject(j.data)&&delete j.data),n&&n(j),a&&this.hasChildren()){for(j.children=[],m=0,l=this.children.length;l>m;m++){k=this.children[m],k.isStatusNode()||j.children.push(k.toDict(!0,n))}}return j},toggleExpanded:function(){return this.tree._callHook("nodeToggleExpanded",this)},toggleSelected:function(){return this.tree._callHook("nodeToggleSelected",this)},toString:function(){return"<FancytreeNode(#"+this.key+", '"+this.title+"')>"},visit:function(h,g){var l,k,j=!0,i=this.children;if(g===!0&&(j=h(this),j===!1||"skip"===j)){return j}if(i){for(l=0,k=i.length;k>l&&(j=i[l].visit(h,!0),j!==!1);l++){}}return j},visitAndLoad:function(a,n,m){var l,k,j,i=this;return a&&n===!0&&(k=a(i),k===!1||"skip"===k)?m?k:V():i.children||i.lazy?(l=new af.Deferred,j=[],i.load().done(function(){for(var e=0,b=i.children.length;b>e;e++){if(k=i.children[e].visitAndLoad(a,!0,!0),k===!1){l.reject();break}"skip"!==k&&j.push(k)}af.when.apply(this,j).then(function(){l.resolve()})}),l.promise()):V()},visitParents:function(e,d){if(d&&e(this)===!1){return !1}for(var f=this.parent;f;){if(e(f)===!1){return !1}f=f.parent}return !0},warn:function(){Array.prototype.unshift.call(arguments,this.toString()),aa("warn",arguments)}},M.prototype={_makeHookContext:function(a,j,i){var h,d;return a.node!==ac?(j&&a.originalEvent!==j&&af.error("invalid args"),h=a):a.tree?(d=a.tree,h={node:a,tree:d,widget:d.widget,options:d.widget.options,originalEvent:j}):a.widget?h={node:null,tree:a,widget:a.widget,options:a.widget.options,originalEvent:j}:af.error("invalid args"),i&&af.extend(h,i),h},_callHook:function(a,j){var i=this._makeHookContext(j),h=this[a],g=Array.prototype.slice.call(arguments,2);return af.isFunction(h)||af.error("_callHook('"+a+"') is not a function"),g.unshift(i),h.apply(this,g)},_requireExtension:function(r,q,p,o){p=!!p;var n=this._local.name,m=this.options.extensions,l=af.inArray(r,m)<af.inArray(n,m),e=q&&null==this.ext[r],a=!e&&null!=p&&p!==l;return ab(n&&n!==r),e||a?(o||(e||q?(o="'"+n+"' extension requires '"+r+"'",a&&(o+=" to be registered "+(p?"before":"after")+" itself")):o="If used together, `"+r+"` must be registered "+(p?"before":"after")+" `"+n+"`"),af.error(o),!1):!0},activateKey:function(d){var c=this.getNodeByKey(d);return c?c.setActive():this.activeNode&&this.activeNode.setActive(!1),c},applyPatch:function(r){var q,p,o,n,m,l,e=r.length,a=[];for(p=0;e>p;p++){o=r[p],ab(2===o.length,"patchList must be an array of length-2-arrays"),n=o[0],m=o[1],l=null===n?this.rootNode:this.getNodeByKey(n),l?(q=new af.Deferred,a.push(q),l.applyPatch(m).always(T(q,l))):this.warn("could not find node with key '"+n+"'")}return af.when.apply(af,a).promise()},count:function(){return this.rootNode.countChildren()},debug:function(){this.options.debugLevel>=2&&(Array.prototype.unshift.call(arguments,this.toString()),aa("log",arguments))},findNextNode:function(a,l){var k=null,j=l.parent.children,i=null,h=function(m,g,s){var r,q,p=m.children,o=p.length,n=p[g];if(n&&s(n)===!1){return !1}if(n&&n.children&&n.expanded&&h(n,0,s)===!1){return !1}for(r=g+1;o>r;r++){if(h(m,r,s)===!1){return !1}}return q=m.parent,q?h(q,q.children.indexOf(m)+1,s):h(m,0,s)};return a="string"==typeof a?Q(a):a,l=l||this.getFirstChild(),h(l.parent,j.indexOf(l),function(b){return b===k?!1:(k=k||b,af(b.span).is(":visible")?a(b)&&(i=b,i!==l)?!1:void 0:void b.debug("quicksearch: skipping hidden node"))}),i},generateFormElements:function(r,q,p){p=p||{};var o,n="string"==typeof r?r:"ft_"+this._id+"[]",m="string"==typeof q?q:"ft_"+this._id+"_active",l="fancytree_result_"+this._id,k=af("#"+l),a=3===this.options.selectMode&&p.stopOnParents!==!1;k.length?k.empty():k=af("<div>",{id:l}).hide().insertAfter(this.$container),r!==!1&&(o=this.getSelectedNodes(a),af.each(o,function(d,e){k.append(af("<input>",{type:"checkbox",name:n,value:e.key,checked:!0}))})),q!==!1&&this.activeNode&&k.append(af("<input>",{type:"radio",name:m,value:this.activeNode.key,checked:!0}))},getActiveNode:function(){return this.activeNode},getFirstChild:function(){return this.rootNode.getFirstChild()},getFocusNode:function(){return this.focusNode},getNodeByKey:function(f,c){var h,g;return !c&&(h=ad.getElementById(this.options.idPrefix+f))?h.ftnode?h.ftnode:null:(c=c||this.rootNode,g=null,c.visit(function(a){return a.key===f?(g=a,!1):void 0},!0),g)},getRootNode:function(){return this.rootNode},getSelectedNodes:function(d){var c=[];return this.rootNode.visit(function(a){return a.selected&&(c.push(a),d===!0)?"skip":void 0}),c},hasFocus:function(){return !!this._hasFocus},info:function(){this.options.debugLevel>=1&&(Array.prototype.unshift.call(arguments,this.toString()),aa("info",arguments))},loadKeyPath:function(ah,ag,C){function B(e,c,f){ag.call(a,c,"loading"),c.load().done(function(){a.loadKeyPath.call(a,v[e],ag,c).always(T(f,a))}).fail(function(){a.warn("loadKeyPath: error loading: "+e+" (parent: "+s+")"),ag.call(a,c,"error"),f.reject()})}var A,z,y,x,w,v,u,s,m,d=this.options.keyPathSeparator,a=this;for(af.isArray(ah)||(ah=[ah]),v={},y=0;y<ah.length;y++){for(s=C||this.rootNode,x=ah[y],x.charAt(0)===d&&(x=x.substr(1)),m=x.split(d);m.length;){if(w=m.shift(),u=s._findDirectChild(w),!u){this.warn("loadKeyPath: key not found: "+w+" (parent: "+s+")"),ag.call(this,w,"error");break}if(0===m.length){ag.call(this,u,"ok");break}if(u.lazy&&u.hasChildren()===ac){ag.call(this,u,"loaded"),v[w]?v[w].push(m.join(d)):v[w]=[m.join(d)];break}ag.call(this,u,"loaded"),s=u}}A=[];for(w in v){u=s._findDirectChild(w),z=new af.Deferred,A.push(z),B(w,u,z)}return af.when.apply(af,A).promise()},reactivate:function(e){var d,f=this.activeNode;return f?(this.activeNode=null,d=f.setActive(),e&&f.setFocus(),d):V()},reload:function(b){return this._callHook("treeClear",this),this._callHook("treeLoad",this,b)},render:function(d,c){return this.rootNode.render(d,c)},setFocus:function(b){return this._callHook("treeSetFocus",this,b)},toDict:function(e,d){var f=this.rootNode.toDict(!0,d);return e?f:f.children},toString:function(){return"<Fancytree(#"+this._id+")>"},_triggerNodeEvent:function(h,d,l,k){var j=this._makeHookContext(d,l,k),i=this.widget._trigger(h,l,j);return i!==!1&&j.result!==ac?j.result:i},_triggerTreeEvent:function(g,d,j){var i=this._makeHookContext(this,d,j),h=this.widget._trigger(g,d,i);return h!==!1&&i.result!==ac?i.result:h},visit:function(b){return this.rootNode.visit(b,!1)},warn:function(){Array.prototype.unshift.call(arguments,this.toString()),aa("warn",arguments)}},af.extend(M.prototype,{nodeClick:function(g){var f,j,i=g.targetType,h=g.node;if("expander"===i){this._callHook("nodeToggleExpanded",g)}else{if("checkbox"===i){this._callHook("nodeToggleSelected",g),g.options.focusOnSelect&&this._callHook("nodeSetFocus",g,!0)}else{if(j=!1,f=!0,h.folder){switch(g.options.clickFolderMode){case 2:j=!0,f=!1;break;case 3:f=!0,j=!0}}f&&(this.nodeSetFocus(g),this._callHook("nodeSetActive",g,!0)),j&&this._callHook("nodeToggleExpanded",g)}}},nodeCollapseSiblings:function(h,g){var l,k,j,i=h.node;if(i.parent){for(l=i.parent.children,k=0,j=l.length;j>k;k++){l[k]!==i&&l[k].expanded&&this._callHook("nodeSetExpanded",l[k],!1,g)}}},nodeDblclick:function(b){"title"===b.targetType&&4===b.options.clickFolderMode&&this._callHook("nodeToggleExpanded",b),"title"===b.targetType&&b.originalEvent.preventDefault()},nodeKeydown:function(C){var B,A,z,y=C.originalEvent,x=C.node,w=C.tree,v=C.options,u=y.which,s=String.fromCharCode(u),r=!(y.altKey||y.ctrlKey||y.metaKey||y.shiftKey),q=af(y.target),p=!0,a=!(y.ctrlKey||!v.autoActivate);if(x||((this.getActiveNode()||this.getFirstChild()).setFocus(),x=C.node=this.focusNode,x.debug("Keydown force focus on active node")),v.quicksearch&&r&&/\w/.test(s)&&!q.is(":input:enabled")){return A=(new Date).getTime(),A-w.lastQuicksearchTime>500&&(w.lastQuicksearchTerm=""),w.lastQuicksearchTime=A,w.lastQuicksearchTerm+=s,B=w.findNextNode(w.lastQuicksearchTerm,w.getActiveNode()),B&&B.setActive(),void y.preventDefault()}switch(J.eventToString(y)){case"+":case"=":w.nodeSetExpanded(C,!0);break;case"-":w.nodeSetExpanded(C,!1);break;case"space":v.checkbox?w.nodeToggleSelected(C):w.nodeSetActive(C,!0);break;case"enter":w.nodeSetActive(C,!0);break;case"backspace":case"left":case"right":case"up":case"down":z=x.navigate(y.which,a);break;default:p=!1}p&&y.preventDefault()},nodeLoadChildren:function(a,n){var m,l,k,j=a.tree,e=a.node;return af.isFunction(n)&&(n=n()),n.url&&(m=af.extend({},a.options.ajax,n),m.debugDelay?(l=m.debugDelay,af.isArray(l)&&(l=l[0]+Math.random()*(l[1]-l[0])),e.debug("nodeLoadChildren waiting debug delay "+Math.round(l)+"ms"),m.debugDelay=!1,k=af.Deferred(function(c){setTimeout(function(){af.ajax(m).done(function(){c.resolveWith(this,arguments)}).fail(function(){c.rejectWith(this,arguments)})},l)})):k=af.ajax(m),n=new af.Deferred,k.done(function(g){var c,b;if("string"==typeof g&&af.error("Ajax request returned a string (did you get the JSON dataType wrong?)."),a.options.postProcess){if(b=j._triggerNodeEvent("postProcess",a,a.originalEvent,{response:g,error:null,dataType:this.dataType}),b.error){return c=af.isPlainObject(b.error)?b.error:{message:b.error},c=j._makeHookContext(e,null,c),void n.rejectWith(this,[c])}g=af.isArray(b)?b:g}else{g&&g.hasOwnProperty("d")&&a.options.enableAspx&&(g="string"==typeof g.d?af.parseJSON(g.d):g.d)}n.resolveWith(this,[g])}).fail(function(f,c,h){var g=j._makeHookContext(e,null,{error:f,args:Array.prototype.slice.call(arguments),message:h,details:f.status+": "+h});n.rejectWith(this,[g])})),af.isFunction(n.then)&&af.isFunction(n["catch"])&&(k=n,n=new af.Deferred,k.then(function(b){n.resolve(b)},function(b){n.reject(b)})),af.isFunction(n.promise)&&(ab(!e.isLoading()),j.nodeSetStatus(a,"loading"),n.done(function(){j.nodeSetStatus(a,"ok")}).fail(function(b){var d;d=b.node&&b.error&&b.message?b:j._makeHookContext(e,null,{error:b,args:Array.prototype.slice.call(arguments),message:b?b.message||b.toString():""}),j._triggerNodeEvent("loadError",d,null)!==!1&&j.nodeSetStatus(a,"error",d.message,d.details)})),af.when(n).done(function(d){var f;af.isPlainObject(d)&&(ab(af.isArray(d.children),"source must contain (or be) an array of children"),ab(e.isRoot(),"source may only be an object for root nodes"),f=d,d=d.children,delete f.children,af.extend(j.data,f)),ab(af.isArray(d),"expected array of children"),e._setChildren(d),j._triggerNodeEvent("loadChildren",e)})},nodeLoadKeyPath:function(){},nodeRemoveChild:function(a,n){var m,l=a.node,k=a.options,j=af.extend({},a,{node:n}),e=l.children;return 1===e.length?(ab(n===e[0]),this.nodeRemoveChildren(a)):(this.activeNode&&(n===this.activeNode||this.activeNode.isDescendantOf(n))&&this.activeNode.setActive(!1),this.focusNode&&(n===this.focusNode||this.focusNode.isDescendantOf(n))&&(this.focusNode=null),this.nodeRemoveMarkup(j),this.nodeRemoveChildren(j),m=af.inArray(n,e),ab(m>=0),n.visit(function(b){b.parent=null},!0),this._callHook("treeRegisterNode",this,!1,n),k.removeNode&&k.removeNode.call(a.tree,{type:"removeNode"},j),void e.splice(m,1))},nodeRemoveChildMarkup:function(a){var d=a.node;d.ul&&(d.isRoot()?af(d.ul).empty():(af(d.ul).remove(),d.ul=null),d.visit(function(b){b.li=b.ul=null}))},nodeRemoveChildren:function(a){var l,k=a.tree,j=a.node,i=j.children,h=a.options;i&&(this.activeNode&&this.activeNode.isDescendantOf(j)&&this.activeNode.setActive(!1),this.focusNode&&this.focusNode.isDescendantOf(j)&&(this.focusNode=null),this.nodeRemoveChildMarkup(a),l=af.extend({},a),j.visit(function(b){b.parent=null,k._callHook("treeRegisterNode",k,!1,b),h.removeNode&&(l.node=b,h.removeNode.call(a.tree,{type:"removeNode"},l))}),j.children=j.lazy?[]:null,this.nodeRenderStatus(a))},nodeRemoveMarkup:function(a){var d=a.node;d.li&&(af(d.li).remove(),d.li=null),this.nodeRemoveChildMarkup(a)},nodeRender:function(aq,ap,ao,an,am){var al,ak,aj,ai,ah,ag,C,B=aq.node,A=aq.tree,z=aq.options,y=z.aria,x=!1,e=B.parent,c=!e,a=B.children;if(c||e.ul){if(ab(c||e.ul,"parent UL must exist"),c||(B.li&&(ap||B.li.parentNode!==B.parent.ul)&&(B.li.parentNode!==B.parent.ul&&this.debug("Unlinking "+B+" (must be child of "+B.parent+")"),this.nodeRemoveMarkup(aq)),B.li?this.nodeRenderStatus(aq):(x=!0,B.li=ad.createElement("li"),B.li.ftnode=B,B.key&&z.generateIds&&(B.li.id=z.idPrefix+B.key),B.span=ad.createElement("span"),B.span.className="fancytree-node",y&&af(B.span).attr("aria-labelledby","ftal_"+B.key),B.li.appendChild(B.span),this.nodeRenderTitle(aq),z.createNode&&z.createNode.call(A,{type:"createNode"},aq)),z.renderNode&&z.renderNode.call(A,{type:"renderNode"},aq)),a){if(c||B.expanded||ao===!0){for(B.ul||(B.ul=ad.createElement("ul"),(an===!0&&!am||!B.expanded)&&(B.ul.style.display="none"),y&&af(B.ul).attr("role","group"),B.li?B.li.appendChild(B.ul):B.tree.$div.append(B.ul)),ai=0,ah=a.length;ah>ai;ai++){C=af.extend({},aq,{node:a[ai]}),this.nodeRender(C,ap,ao,!1,!0)}for(al=B.ul.firstChild;al;){aj=al.ftnode,aj&&aj.parent!==B?(B.debug("_fixParent: remove missing "+aj,al),ag=al.nextSibling,al.parentNode.removeChild(al),al=ag):al=al.nextSibling}for(al=B.ul.firstChild,ai=0,ah=a.length-1;ah>ai;ai++){ak=a[ai],aj=al.ftnode,ak!==aj?B.ul.insertBefore(ak.li,aj.li):al=al.nextSibling}}}else{B.ul&&(this.warn("remove child markup for "+B),this.nodeRemoveChildMarkup(aq))}c||x&&e.ul.appendChild(B.li)}},nodeRenderTitle:function(ah,ag){var C,B,A,z,y,x,w=ah.node,v=ah.tree,u=ah.options,s=u.aria,r=w.getLevel(),q=[],d=w.data.icon;ag!==ac&&(w.title=ag),w.span&&(r<u.minExpandLevel?(w.lazy||(w.expanded=!0),r>1&&q.push(s?"<span role='button' class='fancytree-expander fancytree-expander-fixed'></span>":"<span class='fancytree-expander fancytree-expander-fixed''></span>")):q.push(s?"<span role='button' class='fancytree-expander'></span>":"<span class='fancytree-expander'></span>"),u.checkbox&&w.hideCheckbox!==!0&&!w.isStatusNode()&&q.push(s?"<span role='checkbox' class='fancytree-checkbox'></span>":"<span class='fancytree-checkbox'></span>"),z=s?" role='img'":"",(d===!0||d!==!1&&u.icons!==!1)&&(d&&"string"==typeof d?(d="/"===d.charAt(0)?d:(u.imagePath||"")+d,q.push("<img src='"+d+"' class='fancytree-icon' alt='' />")):(B=u.iconClass&&u.iconClass.call(v,w,ah)||w.data.iconclass||null,q.push(B?"<span "+z+" class='fancytree-custom-icon "+B+"'></span>":"<span "+z+" class='fancytree-icon'></span>"))),A="",u.renderTitle&&(A=u.renderTitle.call(v,{type:"renderTitle"},ah)||""),A||(x=w.tooltip?" title='"+J.escapeHtml(w.tooltip)+"'":"",C=s?" id='ftal_"+w.key+"'":"",z=s?" role='treeitem'":"",y=u.titlesTabbable?" tabindex='0'":"",A="<span "+z+" class='fancytree-title'"+C+x+y+">"+w.title+"</span>"),q.push(A),w.span.innerHTML=q.join(""),this.nodeRenderStatus(ah))},nodeRenderStatus:function(w){var v=w.node,u=w.tree,s=w.options,r=v.hasChildren(),q=v.isLastSibling(),p=s.aria,o=af(v.span).find(".fancytree-title"),n=s._classNames,m=[],a=v[u.statusClassPropName];a&&(m.push(n.node),u.activeNode===v&&m.push(n.active),u.focusNode===v?(m.push(n.focused),p&&o.attr("aria-activedescendant",!0)):p&&o.removeAttr("aria-activedescendant"),v.expanded?(m.push(n.expanded),p&&o.attr("aria-expanded",!0)):p&&o.removeAttr("aria-expanded"),v.folder&&m.push(n.folder),r!==!1&&m.push(n.hasChildren),q&&m.push(n.lastsib),v.lazy&&null==v.children&&m.push(n.lazy),v.partsel&&m.push(n.partsel),v.unselectable&&m.push(n.unselectable),v._isLoading&&m.push(n.loading),v._error&&m.push(n.error),v.selected?(m.push(n.selected),p&&o.attr("aria-selected",!0)):p&&o.attr("aria-selected",!1),v.extraClasses&&m.push(v.extraClasses),m.push(r===!1?n.combinedExpanderPrefix+"n"+(q?"l":""):n.combinedExpanderPrefix+(v.expanded?"e":"c")+(v.lazy&&null==v.children?"d":"")+(q?"l":"")),m.push(n.combinedIconPrefix+(v.expanded?"e":"c")+(v.folder?"f":"")),a.className=m.join(" "),v.li&&(v.li.className=q?n.lastsib:""))},nodeSetActive:function(u,s,r){r=r||{};var q,p=u.node,o=u.tree,l=u.options,k=r.noEvents===!0,e=r.noFocus===!0,a=p===o.activeNode;return s=s!==!1,a===s?V(p):s&&!k&&this._triggerNodeEvent("beforeActivate",p,u.originalEvent)===!1?U(p,["rejected"]):void (s?(o.activeNode&&(ab(o.activeNode!==p,"node was active (inconsistency)"),q=af.extend({},u,{node:o.activeNode}),o.nodeSetActive(q,!1),ab(null===o.activeNode,"deactivate was out of sync?")),l.activeVisible&&p.makeVisible({scrollIntoView:!1}),o.activeNode=p,o.nodeRenderStatus(u),e||o.nodeSetFocus(u),k||o._triggerNodeEvent("activate",p,u.originalEvent)):(ab(o.activeNode===p,"node was not active (inconsistency)"),o.activeNode=null,this.nodeRenderStatus(u),k||u.tree._triggerNodeEvent("deactivate",p,u.originalEvent)))},nodeSetExpanded:function(C,B,A){A=A||{};var z,y,x,w,v,u,s=C.node,l=C.tree,k=C.options,d=A.noAnimation===!0,a=A.noEvents===!0;if(B=B!==!1,s.expanded&&B||!s.expanded&&!B){return V(s)}if(B&&!s.lazy&&!s.hasChildren()){return V(s)}if(!B&&s.getLevel()<k.minExpandLevel){return U(s,["locked"])}if(!a&&this._triggerNodeEvent("beforeExpand",s,C.originalEvent)===!1){return U(s,["rejected"])}if(d||s.isVisible()||(d=A.noAnimation=!0),y=new af.Deferred,B&&!s.expanded&&k.autoCollapse){v=s.getParentList(!1,!0),u=k.autoCollapse;try{for(k.autoCollapse=!1,x=0,w=v.length;w>x;x++){this._callHook("nodeCollapseSiblings",v[x],A)}}finally{k.autoCollapse=u}}return y.done(function(){B&&k.autoScroll&&!d?s.getLastChild().scrollIntoView(!0,{topNode:s}).always(function(){a||C.tree._triggerNodeEvent(B?"expand":"collapse",C)}):a||C.tree._triggerNodeEvent(B?"expand":"collapse",C)}),z=function(i){var h,c,b=k.toggleEffect;if(s.expanded=B,l._callHook("nodeRender",C,!1,!1,!0),s.ul){if(h="none"!==s.ul.style.display,c=!!s.expanded,h===c){s.warn("nodeSetExpanded: UL.style.display already set")}else{if(b&&!d){return void af(s.ul).toggle(b.effect,b.options,b.duration,function(){i()})}s.ul.style.display=s.expanded||!parent?"":"none"}}i()},B&&s.lazy&&s.hasChildren()===ac?s.load().done(function(){y.notifyWith&&y.notifyWith(s,["loaded"]),z(function(){y.resolveWith(s)})}).fail(function(b){z(function(){y.rejectWith(s,["load failed ("+b+")"])})}):z(function(){y.resolveWith(s)}),y.promise()},nodeSetFocus:function(a,j){var i,h=a.tree,g=a.node;if(j=j!==!1,h.focusNode){if(h.focusNode===g&&j){return}i=af.extend({},a,{node:h.focusNode}),h.focusNode=null,this._triggerNodeEvent("blur",i),this._callHook("nodeRenderStatus",i)}j&&(this.hasFocus()||(g.debug("nodeSetFocus: forcing container focus"),this._callHook("treeSetFocus",a,!0,{calledByNode:!0})),g.makeVisible({scrollIntoView:!1}),h.focusNode=g,this._triggerNodeEvent("focus",a),a.options.autoScroll&&g.scrollIntoView(),this._callHook("nodeRenderStatus",a))},nodeSetSelected:function(g,f){var j=g.node,i=g.tree,h=g.options;if(f=f!==!1,j.debug("nodeSetSelected("+f+")",g),!j.unselectable){if(j.selected&&f||!j.selected&&!f){return !!j.selected}if(this._triggerNodeEvent("beforeSelect",j,g.originalEvent)===!1){return !!j.selected}f&&1===h.selectMode?i.lastSelectedNode&&i.lastSelectedNode.setSelected(!1):3===h.selectMode&&(j.selected=f,j.fixSelection3AfterClick()),j.selected=f,this.nodeRenderStatus(g),i.lastSelectedNode=f?j:null,i._triggerNodeEvent("select",g)}},nodeSetStatus:function(a,p,o,n){function m(){var d=k.children?k.children[0]:null;if(d&&d.isStatusNode()){try{k.ul&&(k.ul.removeChild(d.li),d.li=null)}catch(c){}1===k.children.length?k.children=[]:k.children.shift()}}function l(e,g){var f=k.children?k.children[0]:null;return f&&f.isStatusNode()?(af.extend(f,e),j._callHook("nodeRenderTitle",f)):(e.key="_statusNode",k._setChildren([e]),k.children[0].statusNodeType=g,j.render()),k.children[0]}var k=a.node,j=a.tree;switch(p){case"ok":m(),k._isLoading=!1,k._error=null,k.renderStatus();break;case"loading":k.parent||l({title:j.options.strings.loading+(o?" ("+o+") ":""),tooltip:n,extraClasses:"fancytree-statusnode-wait"},p),k._isLoading=!0,k._error=null,k.renderStatus();break;case"error":l({title:j.options.strings.loadError+(o?" ("+o+") ":""),tooltip:n,extraClasses:"fancytree-statusnode-error"},p),k._isLoading=!1,k._error={message:o,details:n},k.renderStatus();break;default:af.error("invalid node status "+p)}},nodeToggleExpanded:function(b){return this.nodeSetExpanded(b,!b.node.expanded)},nodeToggleSelected:function(b){return this.nodeSetSelected(b,!b.node.selected)},treeClear:function(d){var c=d.tree;c.activeNode=null,c.focusNode=null,c.$div.find(">ul.fancytree-container").empty(),c.rootNode.children=null},treeCreate:function(){},treeDestroy:function(){},treeInit:function(b){this.treeLoad(b)},treeLoad:function(a,p){var o,n,m,l=a.tree,k=a.widget.element,j=af.extend({},a,{node:this.rootNode});if(l.rootNode.children&&this.treeClear(a),p=p||this.options.source){"string"==typeof p&&af.error("Not implemented")}else{switch(o=k.data("type")||"html"){case"html":n=k.find(">ul:first"),n.addClass("ui-fancytree-source ui-helper-hidden"),p=af.ui.fancytree.parseHtml(n),this.data=af.extend(this.data,S(n));break;case"json":p=af.parseJSON(k.text()),p.children&&(p.title&&(l.title=p.title),p=p.children);break;default:af.error("Invalid data-type: "+o)}}return m=this.nodeLoadChildren(j,p).done(function(){l.render(),3===a.options.selectMode&&l.rootNode.fixSelection3FromEndNodes(),l._triggerTreeEvent("init",null,{status:!0})}).fail(function(){l.render(),l._triggerTreeEvent("init",null,{status:!1})})},treeRegisterNode:function(){},treeSetFocus:function(d,c){c=c!==!1,c!==this.hasFocus()&&(this._hasFocus=c,!c&&this.focusNode&&this.focusNode.setFocus(!1),this.$container.toggleClass("fancytree-treefocus",c),this._triggerTreeEvent(c?"focusTree":"blurTree"))}}),af.widget("ui.fancytree",{options:{activeVisible:!0,ajax:{type:"GET",cache:!1,dataType:"json"},aria:!1,autoActivate:!0,autoCollapse:!1,autoScroll:!1,checkbox:!1,clickFolderMode:4,debugLevel:null,disabled:!1,enableAspx:!0,extensions:[],toggleEffect:{effect:"blind",options:{direction:"vertical",scale:"box"},duration:200},generateIds:!1,icons:!0,idPrefix:"ft_",focusOnSelect:!1,keyboard:!0,keyPathSeparator:"/",minExpandLevel:1,quicksearch:!1,scrollOfs:{top:0,bottom:0},scrollParent:null,selectMode:2,strings:{loading:"Loading&#8230;",loadError:"Load error!"},tabbable:!0,titlesTabbable:!1,_classNames:{node:"fancytree-node",folder:"fancytree-folder",combinedExpanderPrefix:"fancytree-exp-",combinedIconPrefix:"fancytree-ico-",hasChildren:"fancytree-has-children",active:"fancytree-active",selected:"fancytree-selected",expanded:"fancytree-expanded",lazy:"fancytree-lazy",focused:"fancytree-focused",partsel:"fancytree-partsel",unselectable:"fancytree-unselectable",lastsib:"fancytree-lastsib",loading:"fancytree-loading",error:"fancytree-error"},lazyLoad:null,postProcess:null},_create:function(){this.tree=new M(this),this.$source=this.source||"json"===this.element.data("type")?this.element:this.element.find(">ul:first");var a,j,i,e=this.options.extensions,d=this.tree;for(i=0;i<e.length;i++){j=e[i],a=af.ui.fancytree._extensions[j],a||af.error("Could not apply extension '"+j+"' (it is not registered, did you forget to include it?)"),this.tree.options[j]=af.extend(!0,{},a.options,this.tree.options[j]),ab(this.tree.ext[j]===ac,"Extension name must not exist as Fancytree.ext attribute: '"+j+"'"),this.tree.ext[j]={},W(this.tree,d,a,j),d=a}this.tree._callHook("treeCreate",this.tree)},_init:function(){this.tree._callHook("treeInit",this.tree),this._bind()},_setOption:function(a,h){var g=!0,f=!1;switch(a){case"aria":case"checkbox":case"icons":case"minExpandLevel":case"tabbable":this.tree._callHook("treeCreate",this.tree),f=!0;break;case"source":g=!1,this.tree._callHook("treeLoad",this.tree,h)}this.tree.debug("set option "+a+"="+h+" <"+typeof h+">"),g&&af.Widget.prototype._setOption.apply(this,arguments),f&&this.tree.render(!0,!1)},destroy:function(){this._unbind(),this.tree._callHook("treeDestroy",this.tree),this.tree.$div.find(">ul.fancytree-container").remove(),this.$source&&this.$source.removeClass("ui-helper-hidden"),af.Widget.prototype.destroy.call(this)},_unbind:function(){var a=this.tree._ns;this.element.unbind(a),this.tree.$container.unbind(a),af(ad).unbind(a)},_bind:function(){var f=this,e=this.options,h=this.tree,g=h._ns;this._unbind(),h.$container.on("focusin"+g+" focusout"+g,function(i){var c=J.getNode(i),j="focusin"===i.type;c?h._callHook("nodeSetFocus",c,j):h._callHook("treeSetFocus",h,j)}).on("selectstart"+g,"span.fancytree-title",function(b){b.preventDefault()}).on("keydown"+g,function(b){if(e.disabled||e.keyboard===!1){return !0}var k,j=h.focusNode,i=h._makeHookContext(j||h,b),c=h.phase;try{return h.phase="userEvent",k=j?h._triggerNodeEvent("keydown",j,b):h._triggerTreeEvent("keydown",b),"preventNav"===k?k=!0:k!==!1&&(k=h._callHook("nodeKeydown",i)),k}finally{h.phase=c}}).on("click"+g+" dblclick"+g,function(l){if(e.disabled){return !0}var k,j=J.getEventTarget(l),i=j.node,b=f.tree,a=b.phase;if(!i){return !0}k=b._makeHookContext(i,l);try{switch(b.phase="userEvent",l.type){case"click":return k.targetType=j.type,b._triggerNodeEvent("click",k,l)===!1?!1:b._callHook("nodeClick",k);case"dblclick":return k.targetType=j.type,b._triggerNodeEvent("dblclick",k,l)===!1?!1:b._callHook("nodeDblclick",k)}}finally{b.phase=a}})},getActiveNode:function(){return this.tree.activeNode},getNodeByKey:function(b){return this.tree.getNodeByKey(b)},getRootNode:function(){return this.tree.rootNode},getTree:function(){return this.tree}}),J=af.ui.fancytree,af.extend(af.ui.fancytree,{version:"2.8.1",buildType:"production",debugLevel:1,_nextId:1,_nextNodeKey:1,_extensions:{},_FancytreeClass:M,_FancytreeNodeClass:O,jquerySupports:{positionMyOfs:Y(af.ui.version,1,9)},assert:function(d,c){return ab(d,c)},debounce:function(g,f,j,i){var h;return 3===arguments.length&&"boolean"!=typeof j&&(i=j,j=!1),function(){var a=arguments;i=i||this,j&&!h&&f.apply(i,a),clearTimeout(h),h=setTimeout(function(){j||f.apply(i,a),h=null},g)}},debug:function(){af.ui.fancytree.debugLevel>=2&&aa("log",arguments)},error:function(){aa("error",arguments)},escapeHtml:function(b){return(""+b).replace(/[&<>"'\/]/g,function(c){return I[c]})},fixPositionOptions:function(a){if((a.offset||(""+a.my+a.at).indexOf("%")>=0)&&af.error("expected new position syntax (but '%' is not supported)"),!af.ui.fancytree.jquerySupports.positionMyOfs){var j=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(a.my),i=/(\w+)([+-]?\d+)?\s+(\w+)([+-]?\d+)?/.exec(a.at),h=(j[2]?+j[2]:0)+(i[2]?+i[2]:0),g=(j[4]?+j[4]:0)+(i[4]?+i[4]:0);a=af.extend({},a,{my:j[1]+" "+j[3],at:i[1]+" "+i[3]}),(h||g)&&(a.offset=""+h+" "+g)}return a},getEventTargetType:function(b){return this.getEventTarget(b).type},getEventTarget:function(a){var f=a&&a.target?a.target.className:"",d={node:this.getNode(a.target),type:ac};return/\bfancytree-title\b/.test(f)?d.type="title":/\bfancytree-expander\b/.test(f)?d.type=d.node.hasChildren()===!1?"prefix":"expander":/\bfancytree-checkbox\b/.test(f)||/\bfancytree-radio\b/.test(f)?d.type="checkbox":/\bfancytree-icon\b/.test(f)?d.type="icon":/\bfancytree-node\b/.test(f)?d.type="title":a&&a.target&&af(a.target).closest(".fancytree-title").length&&(d.type="title"),d},getNode:function(b){if(b instanceof O){return b}for(b.selector!==ac?b=b[0]:b.originalEvent!==ac&&(b=b.target);b;){if(b.ftnode){return b.ftnode}b=b.parentNode}return null},info:function(){af.ui.fancytree.debugLevel>=1&&aa("info",arguments)},eventToString:function(f){var e=f.which,h=f.type,g=[];return f.altKey&&g.push("alt"),f.ctrlKey&&g.push("ctrl"),f.metaKey&&g.push("meta"),f.shiftKey&&g.push("shift"),"click"===h||"dblclick"===h?g.push(F[f.button]+h):H[e]||g.push(G[e]||String.fromCharCode(e).toLowerCase()),g.join("+")},keyEventToString:function(b){return this.warn("keyEventToString() is deprecated: use eventToString()"),this.eventToString(b)},parseHtml:function(w){var v,u,s,r,q,p,o,n,d=w.find(">li"),a=[];return d.each(function(){var b,g=af(this),f=g.find(">span:first",this),e=f.length?null:g.find(">a:first"),c={tooltip:null,data:{}};for(f.length?c.title=f.html():e&&e.length?(c.title=e.html(),c.data.href=e.attr("href"),c.data.target=e.attr("target"),c.tooltip=e.attr("title")):(c.title=g.html(),r=c.title.search(/<ul/i),r>=0&&(c.title=c.title.substring(0,r))),c.title=af.trim(c.title),u=0,s=E.length;s>u;u++){c[E[u]]=ac}for(o=this.className.split(" "),v=[],u=0,s=o.length;s>u;u++){n=o[u],D[n]?c[n]=!0:v.push(n)}if(c.extraClasses=v.join(" "),q=g.attr("title"),q&&(c.tooltip=q),q=g.attr("id"),q&&(c.key=q),b=S(g),b&&!af.isEmptyObject(b)){for(u=0,s=P.length;s>u;u++){q=P[u],p=b[q],null!=p&&(delete b[q],c[q]=p)}af.extend(c.data,b)}w=g.find(">ul:first"),c.children=w.length?af.ui.fancytree.parseHtml(w):c.lazy?ac:null,a.push(c)}),a},registerExtension:function(a){ab(null!=a.name,"extensions must have a `name` property."),ab(null!=a.version,"extensions must have a `version` property."),af.ui.fancytree._extensions[a.name]=a},unescapeHtml:function(d){var c=ad.createElement("div");return c.innerHTML=d,0===c.childNodes.length?"":c.childNodes[0].nodeValue},warn:function(){aa("warn",arguments)}})}(jQuery,window,document);(function(c,a){var b=function(e,d,g,f){e.$container.on("mousedown.contextMenu",function(i){var h=c.ui.fancytree.getNode(i);if(h){c.contextMenu("destroy","."+d);h.setFocus(true);h.setActive(true);c.contextMenu({selector:"."+d,className:"dropdown-menu fdropdownActions",build:function(j,l){h=c.ui.fancytree.getNode(j);var k={};if(c.isFunction(g)){k=g(h)}else{if(c.isPlainObject(g)){k=g}}return{callback:function(n,m){if(c.isFunction(f)){f(h,n,m)}else{if(c.isPlainObject(f)){if(f.hasOwnProperty(n)&&c.isFunction(f[n])){f[n](h,m)}}}},items:k}}})}})};c.ui.fancytree.registerExtension({name:"contextMenu",version:"1.0",contextMenu:{selector:"fancytree-title",menu:{},actions:{}},treeInit:function(d){this._superApply(arguments);b(d.tree,d.options.contextMenu.selector||"fancytree-title",d.options.contextMenu.menu,d.options.contextMenu.actions)}})}(jQuery,document));
/*!
 * jquery.fancytree.dnd.js
 *
 * Drag-and-drop support.
 * (Extension module for jquery.fancytree.js: https://github.com/mar10/fancytree/)
 *
 * Copyright (c) 2014, Martin Wendt (http://wwWendt.de)
 *
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version @VERSION
 * @date @DATE
 */
(function(d,e,f,b){var i=d.ui.fancytree.debug,c=false;function h(j){return j===0?"":((j>0)?("+"+j):(""+j))}function g(j){var k=j.options.dnd||null;if(k){a()}if(k&&k.dragStart){j.widget.element.draggable({addClasses:false,appendTo:"body",containment:false,delay:0,distance:4,revert:false,scroll:true,scrollSpeed:7,scrollSensitivity:10,connectToFancytree:true,helper:function(m){var l=d.ui.fancytree.getNode(m.target);if(!l){return"<div>ERROR?: helper requested but sourceNode not found</div>"}return l.tree.ext.dnd._onDragEvent("helper",l,null,m,null,null)},start:function(m,n){var l=n.helper.data("ftSourceNode");return !!l}})}if(k&&k.dragDrop){j.widget.element.droppable({addClasses:false,tolerance:"intersect",greedy:false})}}function a(){if(c){return}d.ui.plugin.add("draggable","connectToFancytree",{start:function(l,m){var j=d(this).data("ui-draggable")||d(this).data("draggable"),k=m.helper.data("ftSourceNode")||null;if(k){j.offset.click.top=-2;j.offset.click.left=+16;return k.tree.ext.dnd._onDragEvent("start",k,null,l,m,j)}},drag:function(m,n){var k,j=d(this).data("ui-draggable")||d(this).data("draggable"),l=n.helper.data("ftSourceNode")||null,p=n.helper.data("ftTargetNode")||null,o=d.ui.fancytree.getNode(m.target);if(m.target&&!o){k=d(m.target).closest("div.fancytree-drag-helper,#fancytree-drop-marker").length>0;if(k){i("Drag event over helper: ignored.");return}}n.helper.data("ftTargetNode",o);if(p&&p!==o){p.tree.ext.dnd._onDragEvent("leave",p,l,m,n,j)}if(o){if(!o.tree.options.dnd.dragDrop){}else{if(o===p){o.tree.ext.dnd._onDragEvent("over",o,l,m,n,j)}else{o.tree.ext.dnd._onDragEvent("enter",o,l,m,n,j)}}}},stop:function(m,n){var j=d(this).data("ui-draggable")||d(this).data("draggable"),l=n.helper.data("ftSourceNode")||null,o=n.helper.data("ftTargetNode")||null,k=m.type,p=(k==="mouseup"&&m.which===1);if(!p){i("Drag was cancelled")}if(o){if(p){o.tree.ext.dnd._onDragEvent("drop",o,l,m,n,j)}o.tree.ext.dnd._onDragEvent("leave",o,l,m,n,j)}if(l){l.tree.ext.dnd._onDragEvent("stop",l,null,m,n,j)}}});c=true}d.ui.fancytree.registerExtension({name:"dnd",version:"0.1.0",options:{dragStart:null,dragStop:null,autoExpandMS:1000,preventVoidMoves:true,preventRecursiveMoves:true,dragEnter:null,dragOver:null,dragDrop:null,dragLeave:null},treeInit:function(k){var j=k.tree;this._super(k);g(j)},nodeKeydown:function(j){var k=j.originalEvent;if(k.which===d.ui.keyCode.ESCAPE){this._local._cancelDrag()}return this._super(j)},_setDndStatus:function(m,r,l,o,n){var j,p=0,s="center",u=this._local,q=m?d(m.span):null,k=d(r.span);if(!u.$dropMarker){u.$dropMarker=d("<div id='fancytree-drop-marker'></div>").hide().css({"z-index":1000}).prependTo(d(this.$div).parent())}if(o==="after"||o==="before"||o==="over"){switch(o){case"before":u.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-over");u.$dropMarker.addClass("fancytree-drop-before");s="top";break;case"after":u.$dropMarker.removeClass("fancytree-drop-before fancytree-drop-over");u.$dropMarker.addClass("fancytree-drop-after");s="bottom";break;default:u.$dropMarker.removeClass("fancytree-drop-after fancytree-drop-before");u.$dropMarker.addClass("fancytree-drop-over");k.addClass("fancytree-drop-target");p=8}if(d.ui.fancytree.jquerySupports.positionMyOfs){j={my:"left"+h(p)+" center",at:"left "+s,of:k}}else{j={my:"left center",at:"left "+s,of:k,offset:""+p+" 0"}}u.$dropMarker.show().position(j)}else{k.removeClass("fancytree-drop-target");u.$dropMarker.hide()}if(o==="after"){k.addClass("fancytree-drop-after")}else{k.removeClass("fancytree-drop-after")}if(o==="before"){k.addClass("fancytree-drop-before")}else{k.removeClass("fancytree-drop-before")}if(n===true){if(q){q.addClass("fancytree-drop-accept")}k.addClass("fancytree-drop-accept");l.addClass("fancytree-drop-accept")}else{if(q){q.removeClass("fancytree-drop-accept")}k.removeClass("fancytree-drop-accept");l.removeClass("fancytree-drop-accept")}if(n===false){if(q){q.addClass("fancytree-drop-reject")}k.addClass("fancytree-drop-reject");l.addClass("fancytree-drop-reject")}else{if(q){q.removeClass("fancytree-drop-reject")}k.removeClass("fancytree-drop-reject");l.removeClass("fancytree-drop-reject")}},_onDragEvent:function(n,w,v,y,s,l){if(n!=="over"){i("tree.ext.dnd._onDragEvent(%s, %o, %o) - %o",n,w,v,this)}var m,z,B,o,k,A,q,p=this.options,u=p.dnd,x=this._makeHookContext(w,y,{otherNode:v,ui:s,draggable:l}),C=null,j=d(w.span);switch(n){case"helper":m=d("<div class='fancytree-drag-helper'><span class='fancytree-drag-helper-img' /></div>").append(j.find("span.fancytree-title").clone());d("ul.fancytree-container",w.tree.$div).append(m);m.data("ftSourceNode",w);C=m;break;case"start":if(w.isStatusNode()){C=false}else{if(u.dragStart){C=u.dragStart(w,x)}}if(C===false){this.debug("tree.dragStart() cancelled");s.helper.trigger("mouseup");s.helper.hide()}else{j.addClass("fancytree-drag-source")}break;case"enter":if(u.preventRecursiveMoves&&w.isDescendantOf(v)){q=false}else{q=u.dragEnter?u.dragEnter(w,x):null}if(!q){C=false}else{if(d.isArray(q)){C={over:(d.inArray("over",q)>=0),before:(d.inArray("before",q)>=0),after:(d.inArray("after",q)>=0)}}else{C={over:((q===true)||(q==="over")),before:((q===true)||(q==="before")),after:((q===true)||(q==="after"))}}}s.helper.data("enterResponse",C);i("helper.enterResponse: %o",C);break;case"over":k=s.helper.data("enterResponse");A=null;if(k===false){}else{if(typeof k==="string"){A=k}else{z=j.offset();B={x:y.pageX-z.left,y:y.pageY-z.top};o={x:B.x/j.width(),y:B.y/j.height()};if(k.after&&o.y>0.75){A="after"}else{if(!k.over&&k.after&&o.y>0.5){A="after"}else{if(k.before&&o.y<=0.25){A="before"}else{if(!k.over&&k.before&&o.y<=0.5){A="before"}else{if(k.over){A="over"}}}}}if(u.preventVoidMoves){if(w===v){i("    drop over source node prevented");A=null}else{if(A==="before"&&v&&w===v.getNextSibling()){i("    drop after source node prevented");A=null}else{if(A==="after"&&v&&w===v.getPrevSibling()){i("    drop before source node prevented");A=null}else{if(A==="over"&&v&&v.parent===w&&v.isLastSibling()){i("    drop last child over own parent prevented");A=null}}}}}s.helper.data("hitMode",A)}}if(A==="over"&&u.autoExpandMS&&w.hasChildren()!==false&&!w.expanded){w.scheduleAction("expand",u.autoExpandMS)}if(A&&u.dragOver){x.hitMode=A;C=u.dragOver(w,x)}this._local._setDndStatus(v,w,s.helper,A,C!==false&&A!==null);break;case"drop":A=s.helper.data("hitMode");if(A&&u.dragDrop){x.hitMode=A;u.dragDrop(w,x)}break;case"leave":w.scheduleAction("cancel");s.helper.data("enterResponse",null);s.helper.data("hitMode",null);this._local._setDndStatus(v,w,s.helper,"out",b);if(u.dragLeave){u.dragLeave(w,x)}break;case"stop":j.removeClass("fancytree-drag-source");if(u.dragStop){u.dragStop(w,x)}break;default:throw"Unsupported drag event: "+n}return C},_cancelDrag:function(){var j=d.ui.ddmanager.current;if(j){j.cancel()}}})}(jQuery,window,document));
/*!
 * jquery.fancytree.filter.js
 *
 * Remove or highlight tree nodes, based on a filter.
 * (Extension module for jquery.fancytree.js: https://github.com/mar10/fancytree/)
 *
 * Copyright (c) 2014, Martin Wendt (http://wwWendt.de)
 *
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version @VERSION
 * @date @DATE
 */
(function(d,c,b,e){function a(f){return(f+"").replace(/([.?*+\^\$\[\]\\(){}|-])/g,"\\$1")}d.ui.fancytree._FancytreeClass.prototype.applyFilter=function(i){var f,h,j=0,g=this.options.filter.leavesOnly;if(typeof i==="string"){f=a(i);h=new RegExp(".*"+f+".*","i");i=function(k){return !!h.exec(k.title)}}this.enableFilter=true;this.$div.addClass("fancytree-ext-filter");if(this.options.filter.mode==="hide"){this.$div.addClass("fancytree-ext-filter-hide")}else{this.$div.addClass("fancytree-ext-filter-dimm")}this.visit(function(k){k.hide=true;delete k.match;delete k.subMatch});this.visit(function(k){if((!g||k.children==null)&&i(k)){j++;k.hide=false;k.match=true;k.visitParents(function(l){l.hide=false;l.subMatch=true})}});this.render();return j};d.ui.fancytree._FancytreeClass.prototype.clearFilter=function(){this.visit(function(f){delete f.hide;delete f.match;delete f.subMatch});this.enableFilter=false;this.$div.removeClass("fancytree-ext-filter fancytree-ext-filter-dimm fancytree-ext-filter-hide");this.render()};d.ui.fancytree.registerExtension({name:"filter",version:"0.0.2",options:{mode:"dimm",leavesOnly:false},treeInit:function(f){this._super(f)},treeDestroy:function(f){this._super(f)},nodeRenderStatus:function(h){var i,j=h.node,f=h.tree,g=d(j[f.statusClassPropName]);i=this._super(h);if(!g.length){return i}if(!f.enableFilter){return i}g.toggleClass("fancytree-match",!!j.match);g.toggleClass("fancytree-submatch",!!j.subMatch);g.toggleClass("fancytree-hide",!!j.hide);return i}})}(jQuery,window,document));
/*!
 * jquery.fancytree.childcounter.js
 *
 * Add a child counter bubble to tree nodes.
 * (Extension module for jquery.fancytree.js: https://github.com/mar10/fancytree/)
 *
 * Copyright (c) 2014, Martin Wendt (http://wwWendt.de)
 *
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version @VERSION
 * @date @DATE
 */
(function(a,b){a.ui.fancytree._FancytreeClass.prototype.countSelected=function(d){var c=this,e=c.options;return c.getSelectedNodes(d).length};a.ui.fancytree._FancytreeNodeClass.prototype.toUpper=function(){var c=this;return c.setTitle(c.title.toUpperCase())};a.ui.fancytree.prototype.widgetMethod1=function(d){var c=this.tree;return d};a.ui.fancytree.registerExtension({name:"childcounter",version:"1.0.0",options:{deep:true,hideZeros:true,hideExpanded:false},foo:42,_appendCounter:function(d){var c=this},treeInit:function(d){var c=this,e=d.options,f=d.options.childcounter;this._super(d);this.$container.addClass("fancytree-ext-childcounter")},treeDestroy:function(c){this._super(c)},nodeRenderTitle:function(c,g){var e=c.node,f=c.options.childcounter,d=e.countChildren(f.deep);this._super(c,g);if((d||!f.hideZeros)&&(!e.isExpanded()||!f.hideExpanded)){a("span.fancytree-icon",e.span).append(a("<span class='fancytree-childcounter'/>").text(d))}},nodeSetExpanded:function(e,d,g){var c=e.tree,f=e.node;return this._super(e,d,g).always(function(){c.nodeRenderTitle(e)})}})}(jQuery));
/*!
 * jquery.fancytree.glyph.js
 *
 * Use glyph fonts as instead of icon sprites.
 * (Extension module for jquery.fancytree.js: https://github.com/mar10/fancytree/)
 *
 * Copyright (c) 2014, Martin Wendt (http://wwWendt.de)
 *
 * Released under the MIT license
 * https://github.com/mar10/fancytree/wiki/LicenseInfo
 *
 * @version @VERSION
 * @date @DATE
 */
(function(c,b,a,e){function d(g,f){return g.map[f]}c.ui.fancytree.registerExtension({name:"glyph",version:"0.0.2",options:{prefix:"icon-",extra:null,map:{doc:"icon-file-alt",docOpen:"icon-file-alt",checkbox:"icon-check-empty",checkboxSelected:"icon-check",checkboxUnknown:"icon-check icon-muted",error:"icon-exclamation-sign",expanderClosed:"icon-caret-right",expanderLazy:"icon-angle-right",expanderOpen:"icon-caret-down",folder:"icon-folder-close-alt",folderOpen:"icon-folder-open-alt",loading:"icon-refresh icon-spin"},icon:null},treeInit:function(g){var f=g.tree;this._super(g);f.$container.addClass("fancytree-ext-glyph")},nodeRenderStatus:function(f){var h,g,j=f.node,i=f.options.glyph,k=i.map;this._super(f);if(j.isRoot()){return}g=c("span.fancytree-expander",j.span).get(0);if(g){if(j.isLoading()){h="loading"}else{if(j.expanded){h="expanderOpen"}else{if(j.isUndefined()){h="expanderLazy"}else{h="expanderClosed"}}}g.className="fancytree-expander "+k[h]}g=c("span.fancytree-checkbox",j.span).get(0);if(g){h=j.selected?"checkboxSelected":(j.partsel?"checkboxUnknown":"checkbox");g.className="fancytree-checkbox "+k[h]}g=c("span.fancytree-icon",j.span).get(0);if(g){if(j.folder){h=j.expanded?d(i,"folderOpen"):d(i,"folder")}else{h=j.expanded?d(i,"docOpen"):d(i,"doc")}g.className="fancytree-icon "+h}},nodeSetStatus:function(g,f,l,h){var i,k=g.options.glyph,j=g.node;this._super(g,f,l,h);if(j.parent){i=c("span.fancytree-expander",j.span).get(0)}else{i=c(".fancytree-statusnode-wait, .fancytree-statusnode-error",j[this.nodeContainerAttrName]).find("span.fancytree-expander").get(0)}if(f==="loading"){i.className="fancytree-expander "+d(k,"loading")}else{if(f==="error"){i.className="fancytree-expander "+d(k,"error")}}}})}(jQuery,window,document));String.prototype.trunc=function(c,e){if(this.length<=c){return this}e=e||"...";var f=e.length,a=c-f,d=Math.ceil(a/2),b=Math.floor(a/2);return this.substr(0,d)+e+this.substr(this.length-b)};String.prototype.strip=function(){var c=/(<([^>]+)>)/ig,b=this,a=b.replace(c,"");return a};(function(n){var r="0.4.2",m="hasOwnProperty",v=/[\.\/]/,w="*",p=function(){},q=function(a,b){return a-b},s,o,l={n:{}},u=function(i,c){i=String(i);var D=l,G=o,z=Array.prototype.slice.call(arguments,2),j=u.listeners(i),k=0,E=false,e,g=[],F={},b=[],h=s,f=[];s=i;o=0;for(var a=0,d=j.length;a<d;a++){if("zIndex" in j[a]){g.push(j[a].zIndex);if(j[a].zIndex<0){F[j[a].zIndex]=j[a]}}}g.sort(q);while(g[k]<0){e=F[g[k++]];b.push(e.apply(c,z));if(o){o=G;return b}}for(a=0;a<d;a++){e=j[a];if("zIndex" in e){if(e.zIndex==g[k]){b.push(e.apply(c,z));if(o){break}do{k++;e=F[g[k]];e&&b.push(e.apply(c,z));if(o){break}}while(e)}else{F[e.zIndex]=e}}else{b.push(e.apply(c,z));if(o){break}}}o=G;s=h;return b.length?b:null};u._events=l;u.listeners=function(g){var y=g.split(v),a=l,h,z,f,c,i,d,b,k,j=[a],e=[];for(c=0,i=y.length;c<i;c++){k=[];for(d=0,b=j.length;d<b;d++){a=j[d].n;z=[a[y[c]],a[w]];f=2;while(f--){h=z[f];if(h){k.push(h);e=e.concat(h.f||[])}}}j=k}return e};u.on=function(b,e){b=String(b);if(typeof e!="function"){return function(){}}var c=b.split(v),d=l;for(var a=0,f=c.length;a<f;a++){d=d.n;d=d.hasOwnProperty(c[a])&&d[c[a]]||(d[c[a]]={n:{}})}d.f=d.f||[];for(a=0,f=d.f.length;a<f;a++){if(d.f[a]==e){return p}}d.f.push(e);return function(g){if(+g==+g){e.zIndex=+g}}};u.f=function(a){var b=[].slice.call(arguments,1);return function(){u.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}};u.stop=function(){o=1};u.nt=function(a){if(a){return new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(s)}return s};u.nts=function(){return s.split(v)};u.off=u.unbind=function(f,a){if(!f){u._events=l={n:{}};return}var k=f.split(v),x,i,e,c,h,d,b,j=[l];for(c=0,h=k.length;c<h;c++){for(d=0;d<j.length;d+=e.length-2){e=[d,1];x=j[d].n;if(k[c]!=w){if(x[k[c]]){e.push(x[k[c]])}}else{for(i in x){if(x[m](i)){e.push(x[i])}}}j.splice.apply(j,e)}}for(c=0,h=j.length;c<h;c++){x=j[c];while(x.n){if(a){if(x.f){for(d=0,b=x.f.length;d<b;d++){if(x.f[d]==a){x.f.splice(d,1);break}}!x.f.length&&delete x.f}for(i in x.n){if(x.n[m](i)&&x.n[i].f){var g=x.n[i].f;for(d=0,b=g.length;d<b;d++){if(g[d]==a){g.splice(d,1);break}}!g.length&&delete x.n[i].f}}}else{delete x.f;for(i in x.n){if(x.n[m](i)&&x.n[i].f){delete x.n[i].f}}}x=x.n}}};u.once=function(b,a){var c=function(){u.unbind(b,c);return a.apply(this,arguments)};return u.on(b,c)};u.version=r;u.toString=function(){return"You are running Eve "+r};(typeof module!="undefined"&&module.exports)?(module.exports=u):(typeof define!="undefined"?(define("eve",[],function(){return u})):(n.eve=u))})(window||this);(function(c,d){if(typeof define==="function"&&define.amd){define(["eve"],function(a){return d(c,a)})}else{d(c,c.eve)}}(this,function(dC,cI){function cw(c){if(cw.is(c,"function")){return cD?c():cI.on("raphael.DOMload",c)}else{if(cw.is(c,bO)){return cw._engine.create[ce](cw,c.splice(0,3+cw.is(c[0],cu))).add(c)}else{var a=Array.prototype.slice.call(arguments,0);if(cw.is(a[a.length-1],"function")){var e=a.pop();return cD?e.call(cw._engine.create[ce](cw,a)):cI.on("raphael.DOMload",function(){e.call(cw._engine.create[ce](cw,a))})}else{return cw._engine.create[ce](cw,arguments)}}}}cw.version="2.1.2";cw.eve=cI;var cD,b9=/[, ]+/,cX={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ch=/\{(\d+)\}/g,b5="prototype",b8="hasOwnProperty",i={doc:document,win:dC},dR={was:Object.prototype[b8].call(i.win,"Raphael"),is:i.win.Raphael},dc=function(){this.ca=this.customAttributes={}},c2,dv="appendChild",ce="apply",cW="concat",cv=("ontouchstart" in i.win)||i.win.DocumentTouch&&i.doc instanceof DocumentTouch,co="",cy=" ",bY=String,bX="split",du="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[bX](cy),ck={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},db=bY.prototype.toLowerCase,dN=Math,de=dN.max,dd=dN.min,c8=dN.abs,dD=dN.pow,dg=dN.PI,cu="number",b4="string",bO="array",bQ="toString",cR="fill",dJ=Object.prototype.toString,dr={},bR="push",dt=cw._ISURL=/^url\(['"]?([^\)]+?)['"]?\)[ ]*(.*)$/i,cb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,cQ={"NaN":1,"Infinity":1,"-Infinity":1},c3=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,cP=dN.round,ct="setAttribute",c6=parseFloat,da=parseInt,dB=bY.prototype.toUpperCase,ci=cw._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},cm=cw._availableAnimAttrs={blur:cu,"clip-rect":"csv",cx:cu,cy:cu,fill:"colour","fill-opacity":cu,"font-size":cu,height:cu,opacity:cu,path:"path",r:cu,rx:cu,ry:cu,stroke:"colour","stroke-opacity":cu,"stroke-width":cu,transform:"transform",width:cu,x:cu,y:cu},cc=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,cC=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,cU={hs:1,rg:1},dI=/,?([achlmqrstvxz]),?/gi,cA=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,dp=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,c1=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,S=cw._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,cz={},a6=function(a,c){return a.key-c.key},ca=function(a,c){return c6(a)-c6(c)},dm=function(){},cV=function(a){return a},bS=cw._rectPath=function(a,f,h,e,c){if(c){return[["M",a+c,f],["l",h-c*2,0],["a",c,c,0,0,1,c,c],["l",0,e-c*2],["a",c,c,0,0,1,-c,c],["l",c*2-h,0],["a",c,c,0,0,1,-c,-c],["l",0,c*2-e],["a",c,c,0,0,1,c,-c],["z"]]}return[["M",a,f],["l",h,0],["l",0,e],["l",-h,0],["z"]]},cl=function(a,c,e,f){if(f==null){f=e}return[["M",a,c],["m",0,-f],["a",e,f,0,1,1,0,2*f],["a",e,f,0,1,1,0,-2*f],["z"]]},di=cw._getPath={path:function(a){return a.attr("path")},circle:function(c){var a=c.attrs;return cl(a.cx,a.cy,a.r)},ellipse:function(c){var a=c.attrs;return cl(a.cx,a.cy,a.rx,a.ry)},rect:function(c){var a=c.attrs;return bS(a.x,a.y,a.width,a.height,a.r)},image:function(c){var a=c.attrs;return bS(a.x,a.y,a.width,a.height)},text:function(a){var c=a._getBBox();return bS(c.x,c.y,c.width,c.height)},set:function(a){var c=a._getBBox();return bS(c.x,c.y,c.width,c.height)}},cr=cw.mapPath=function(a,c){if(!c){return a}var h,e,j,l,f,m,k;a=cs(a);for(j=0,f=a.length;j<f;j++){k=a[j];for(l=1,m=k.length;l<m;l+=2){h=c.x(k[l],k[l+1]);e=c.y(k[l],k[l+1]);k[l]=h;k[l+1]=e}}return a};cw._g=i;cw.type=(i.win.SVGAngle||i.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");if(cw.type=="VML"){var d=i.doc.createElement("div"),b;d.innerHTML='<v:shape adj="1"/>';b=d.firstChild;b.style.behavior="url(#default#VML)";if(!(b&&typeof b.adj=="object")){return(cw.type=co)}d=null}cw.svg=!(cw.vml=cw.type=="VML");cw._Paper=dc;cw.fn=c2=dc.prototype=cw.prototype;cw._id=0;cw._oid=0;cw.is=function(c,a){a=db.call(a);if(a=="finite"){return !cQ[b8](+c)}if(a=="array"){return c instanceof Array}return(a=="null"&&c===null)||(a==typeof c&&c!==null)||(a=="object"&&c===Object(c))||(a=="array"&&Array.isArray&&Array.isArray(c))||dJ.call(c).slice(8,-1).toLowerCase()==a};function cq(c){if(typeof c=="function"||Object(c)!==c){return c}var e=new c.constructor;for(var a in c){if(c[b8](a)){e[a]=cq(c[a])}}return e}cw.angle=function(k,e,j,f,l,c){if(l==null){var a=k-j,h=e-f;if(!a&&!h){return 0}return(180+dN.atan2(-h,-a)*180/dg+360)%360}else{return cw.angle(k,e,l,c)-cw.angle(j,f,l,c)}};cw.rad=function(a){return a%360*dg/180};cw.deg=function(a){return a*180/dg%360};cw.snapTo=function(h,f,a){a=cw.is(a,"finite")?a:10;if(cw.is(h,bO)){var e=h.length;while(e--){if(c8(h[e]-f)<=a){return h[e]}}}else{h=+h;var c=f%h;if(c<a){return f-c}if(c>h-a){return f-c+h}}return f};var dF=cw.createUUID=(function(a,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,c).toUpperCase()}})(/[xy]/g,function(c){var e=dN.random()*16|0,a=c=="x"?e:(e&3|8);return a.toString(16)});cw.setWindow=function(a){cI("raphael.setWindow",cw,i.win,a);i.win=a;i.doc=i.win.document;if(cw._engine.initWin){cw._engine.initWin(i.win)}};var cF=function(h){if(cw.vml){var a=/^\s+|\s+$/g;var e;try{var c=new ActiveXObject("htmlfile");c.write("<body>");c.close();e=c.body}catch(f){e=createPopup().document.body}var k=e.createTextRange();cF=cJ(function(m){try{e.style.color=bY(m).replace(a,co);var n=k.queryCommandValue("ForeColor");n=((n&255)<<16)|(n&65280)|((n&16711680)>>>16);return"#"+("000000"+n.toString(16)).slice(-6)}catch(l){return"none"}})}else{var j=i.doc.createElement("i");j.title="Rapha\xebl Colour Picker";j.style.display="none";i.doc.body.appendChild(j);cF=cJ(function(l){j.style.color=l;return i.doc.defaultView.getComputedStyle(j,co).getPropertyValue("color")})}return cF(h)},cS=function(){return"hsb("+[this.h,this.s,this.b]+")"},cp=function(){return"hsl("+[this.h,this.s,this.l]+")"},a7=function(){return this.hex},cL=function(c,e,f){if(e==null&&cw.is(c,"object")&&"r" in c&&"g" in c&&"b" in c){f=c.b;e=c.g;c=c.r}if(e==null&&cw.is(c,b4)){var a=cw.getRGB(c);c=a.r;e=a.g;f=a.b}if(c>1||e>1||f>1){c/=255;e/=255;f/=255}return[c,e,f]},cx=function(e,f,h,c){e*=255;f*=255;h*=255;var a={r:e,g:f,b:h,hex:cw.rgb(e,f,h),toString:a7};cw.is(c,"finite")&&(a.opacity=c);return a};cw.color=function(a){var c;if(cw.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){c=cw.hsb2rgb(a);a.r=c.r;a.g=c.g;a.b=c.b;a.hex=c.hex}else{if(cw.is(a,"object")&&"h" in a&&"s" in a&&"l" in a){c=cw.hsl2rgb(a);a.r=c.r;a.g=c.g;a.b=c.b;a.hex=c.hex}else{if(cw.is(a,"string")){a=cw.getRGB(a)}if(cw.is(a,"object")&&"r" in a&&"g" in a&&"b" in a){c=cw.rgb2hsl(a);a.h=c.h;a.s=c.s;a.l=c.l;c=cw.rgb2hsb(a);a.v=c.b}else{a={hex:"none"};a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1}}}a.toString=a7;return a};cw.hsb2rgb=function(a,c,h,f){if(this.is(a,"object")&&"h" in a&&"s" in a&&"b" in a){h=a.b;c=a.s;a=a.h;f=a.o}a*=360;var m,e,k,j,l;a=(a%360)/60;l=h*c;j=l*(1-c8(a%2-1));m=e=k=h-l;a=~~a;m+=[l,j,0,0,j,l][a];e+=[j,l,l,j,0,0][a];k+=[0,0,j,l,l,j][a];return cx(m,e,k,f)};cw.hsl2rgb=function(h,a,m,f){if(this.is(h,"object")&&"h" in h&&"s" in h&&"l" in h){m=h.l;a=h.s;h=h.h}if(h>1||a>1||m>1){h/=360;a/=100;m/=100}h*=360;var c,e,k,j,l;h=(h%360)/60;l=2*a*(m<0.5?m:1-m);j=l*(1-c8(h%2-1));c=e=k=m-l/2;h=~~h;c+=[l,j,0,0,j,l][h];e+=[j,l,l,j,0,0][h];k+=[0,0,j,l,l,j][h];return cx(c,e,k,f)};cw.rgb2hsb=function(f,h,k){k=cL(f,h,k);f=k[0];h=k[1];k=k[2];var e,j,c,a;c=de(f,h,k);a=c-dd(f,h,k);e=(a==0?null:c==f?(h-k)/a:c==h?(k-f)/a+2:(f-h)/a+4);e=((e+360)%6)*60/360;j=a==0?0:a/c;return{h:e,s:j,b:c,toString:cS}};cw.rgb2hsl=function(l,k,c){c=cL(l,k,c);l=c[0];k=c[1];c=c[2];var a,h,e,j,m,f;j=de(l,k,c);m=dd(l,k,c);f=j-m;a=(f==0?null:j==l?(k-c)/f:j==k?(c-l)/f+2:(l-k)/f+4);a=((a+360)%6)*60/360;e=(j+m)/2;h=(f==0?0:e<0.5?f/(2*e):f/(2-2*e));return{h:a,s:h,l:e,toString:cp}};cw._path2string=function(){return this.join(",").replace(dI,"$1")};function b3(e,c){for(var a=0,f=e.length;a<f;a++){if(e[a]===c){return e.push(e.splice(a,1)[0])}}}function cJ(c,f,a){function e(){var l=Array.prototype.slice.call(arguments,0),h=l.join("\u2400"),j=e.cache=e.cache||{},k=e.count=e.count||[];if(j[b8](h)){b3(k,h);return a?a(j[h]):j[h]}k.length>=1000&&delete j[k.shift()];k.push(h);j[h]=c[ce](f,l);return a?a(j[h]):j[h]}return e}var cO=cw._preload=function(c,e){var a=i.doc.createElement("img");a.style.cssText="position:absolute;left:-9999em;top:-9999em";a.onload=function(){e.call(this);this.onload=null;i.doc.body.removeChild(this)};a.onerror=function(){i.doc.body.removeChild(this)};i.doc.body.appendChild(a);a.src=c};function b0(){return this.hex}cw.getRGB=cJ(function(l){if(!l||!!((l=bY(l)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:b0}}if(l=="none"){return{r:-1,g:-1,b:-1,hex:"none",toString:b0}}!(cU[b8](l.toLowerCase().substring(0,2))||l.charAt()=="#")&&(l=cF(l));var m,k,j,a,f,e,h,c=l.match(cb);if(c){if(c[2]){a=da(c[2].substring(5),16);j=da(c[2].substring(3,5),16);k=da(c[2].substring(1,3),16)}if(c[3]){a=da((e=c[3].charAt(3))+e,16);j=da((e=c[3].charAt(2))+e,16);k=da((e=c[3].charAt(1))+e,16)}if(c[4]){h=c[4][bX](cC);k=c6(h[0]);h[0].slice(-1)=="%"&&(k*=2.55);j=c6(h[1]);h[1].slice(-1)=="%"&&(j*=2.55);a=c6(h[2]);h[2].slice(-1)=="%"&&(a*=2.55);c[1].toLowerCase().slice(0,4)=="rgba"&&(f=c6(h[3]));h[3]&&h[3].slice(-1)=="%"&&(f/=100)}if(c[5]){h=c[5][bX](cC);k=c6(h[0]);h[0].slice(-1)=="%"&&(k*=2.55);j=c6(h[1]);h[1].slice(-1)=="%"&&(j*=2.55);a=c6(h[2]);h[2].slice(-1)=="%"&&(a*=2.55);(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\xb0")&&(k/=360);c[1].toLowerCase().slice(0,4)=="hsba"&&(f=c6(h[3]));h[3]&&h[3].slice(-1)=="%"&&(f/=100);return cw.hsb2rgb(k,j,a,f)}if(c[6]){h=c[6][bX](cC);k=c6(h[0]);h[0].slice(-1)=="%"&&(k*=2.55);j=c6(h[1]);h[1].slice(-1)=="%"&&(j*=2.55);a=c6(h[2]);h[2].slice(-1)=="%"&&(a*=2.55);(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\xb0")&&(k/=360);c[1].toLowerCase().slice(0,4)=="hsla"&&(f=c6(h[3]));h[3]&&h[3].slice(-1)=="%"&&(f/=100);return cw.hsl2rgb(k,j,a,f)}c={r:k,g:j,b:a,toString:b0};c.hex="#"+(16777216|a|(j<<8)|(k<<16)).toString(16).slice(1);cw.is(f,"finite")&&(c.opacity=f);return c}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:b0}},cw);cw.hsb=cJ(function(a,c,e){return cw.hsb2rgb(a,c,e).hex});cw.hsl=cJ(function(c,e,a){return cw.hsl2rgb(c,e,a).hex});cw.rgb=cJ(function(c,a,e){return"#"+(16777216|e|(a<<8)|(c<<16)).toString(16).slice(1)});cw.getColor=function(e){var c=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},a=this.hsb2rgb(c.h,c.s,c.b);c.h+=0.075;if(c.h>1){c.h=0;c.s-=0.2;c.s<=0&&(this.getColor.start={h:0,s:1,b:c.b})}return a.hex};cw.getColor.reset=function(){delete this.start};function c4(j,h){var c=[];for(var f=0,a=j.length;a-2*!h>f;f+=2){var e=[{x:+j[f-2],y:+j[f-1]},{x:+j[f],y:+j[f+1]},{x:+j[f+2],y:+j[f+3]},{x:+j[f+4],y:+j[f+5]}];if(h){if(!f){e[0]={x:+j[a-2],y:+j[a-1]}}else{if(a-4==f){e[3]={x:+j[0],y:+j[1]}}else{if(a-2==f){e[2]={x:+j[0],y:+j[1]};e[3]={x:+j[2],y:+j[3]}}}}}else{if(a-4==f){e[3]=e[2]}else{if(!f){e[0]={x:+j[f],y:+j[f+1]}}}}c.push(["C",(-e[0].x+6*e[1].x+e[2].x)/6,(-e[0].y+6*e[1].y+e[2].y)/6,(e[1].x+6*e[2].x-e[3].x)/6,(e[1].y+6*e[2].y-e[3].y)/6,e[2].x,e[2].y])}return c}cw.parsePathString=function(a){if(!a){return null}var e=dE(a);if(e.arr){return dx(e.arr)}var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},f=[];if(cw.is(a,bO)&&cw.is(a[0],bO)){f=dx(a)}if(!f.length){bY(a).replace(cA,function(k,m,j){var l=[],h=m.toLowerCase();j.replace(c1,function(n,o){o&&l.push(+o)});if(h=="m"&&l.length>2){f.push([m][cW](l.splice(0,2)));h="l";m=m=="m"?"l":"L"}if(h=="r"){f.push([m][cW](l))}else{while(l.length>=c[h]){f.push([m][cW](l.splice(0,c[h])));if(!c[h]){break}}}})}f.toString=cw._path2string;e.arr=dx(f);return f};cw.parseTransformString=cJ(function(e){if(!e){return null}var c={r:3,s:4,t:2,m:6},a=[];if(cw.is(e,bO)&&cw.is(e[0],bO)){a=dx(e)}if(!a.length){bY(e).replace(dp,function(l,h,k){var f=[],j=db.call(h);k.replace(c1,function(m,n){n&&f.push(+n)});a.push([h][cW](f))})}a.toString=cw._path2string;return a});var dE=function(c){var a=dE.ps=dE.ps||{};if(a[c]){a[c].sleep=100}else{a[c]={sleep:100}}setTimeout(function(){for(var e in a){if(a[b8](e)&&e!=c){a[e].sleep--;!a[e].sleep&&delete a[e]}}});return a[c]};cw.findDotsAtSegment=function(C,D,a,h,c,q,x,z,n){var r=1-n,l=dD(r,3),k=dD(r,2),v=n*n,y=v*n,s=l*C+k*3*n*a+r*3*n*n*c+y*x,w=l*D+k*3*n*h+r*3*n*n*q+y*z,m=C+2*n*(a-C)+v*(c-2*a+C),o=D+2*n*(h-D)+v*(q-2*h+D),f=a+2*n*(c-a)+v*(x-2*c+a),j=h+2*n*(q-h)+v*(z-2*q+h),p=r*C+n*a,u=r*D+n*h,A=r*c+n*x,B=r*q+n*z,e=(90-dN.atan2(m-f,o-j)*180/dg);(m>f||o<j)&&(e+=180);return{x:s,y:w,m:{x:m,y:o},n:{x:f,y:j},start:{x:p,y:u},end:{x:A,y:B},alpha:e}};cw.bezierBBox=function(k,l,f,j,c,a,e,m){if(!cw.is(k,"array")){k=[k,l,f,j,c,a,e,m]}var h=dy.apply(null,k);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}};cw.isPointInsideBBox=function(e,a,c){return a>=e.x&&a<=e.x2&&c>=e.y&&c<=e.y2};cw.isBBoxIntersect=function(c,e){var a=cw.isPointInsideBBox;return a(e,c.x,c.y)||a(e,c.x2,c.y)||a(e,c.x,c.y2)||a(e,c.x2,c.y2)||a(c,e.x,e.y)||a(c,e.x2,e.y)||a(c,e.x,e.y2)||a(c,e.x2,e.y2)||(c.x<e.x2&&c.x>e.x||e.x<c.x2&&e.x>c.x)&&(c.y<e.y2&&c.y>e.y||e.y<c.y2&&e.y>c.y)};function dT(a,e,f,j,c){var h=-3*e+9*f-9*j+3*c,k=a*h+6*e-12*f+6*j;return a*k-3*e+3*f}function cK(f,c,h,v,j,w,n,x,q){if(q==null){q=1}q=q>1?1:q<0?0:q;var p=q/2,o=12,u=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],k=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],l=0;for(var m=0;m<o;m++){var s=p*u[m]+p,r=dT(s,f,h,j,n),e=dT(s,c,v,w,x),a=r*r+e*e;l+=k[m]*dN.sqrt(a)}return p*l}function dL(o,e,p,f,q,m,a,n,j){if(j<0||cK(o,e,p,f,q,m,a,n)<j){return}var c=1,l=c/2,k=c-l,r,h=0.01;r=cK(o,e,p,f,q,m,a,n,k);while(c8(r-j)>h){l/=2;k+=(r<j?1:-1)*l;r=cK(o,e,p,f,q,m,a,n,k)}return k}function E(n,e,p,h,r,k,a,m){if(de(n,p)<dd(r,a)||dd(n,p)>de(r,a)||de(e,h)<dd(k,m)||dd(e,h)>de(k,m)){return}var o=(n*h-e*p)*(r-a)-(n-p)*(r*m-k*a),j=(n*h-e*p)*(k-m)-(e-h)*(r*m-k*a),s=(n-p)*(k-m)-(e-h)*(r-a);if(!s){return}var c=o/s,f=j/s,l=+c.toFixed(2),q=+f.toFixed(2);if(l<+dd(n,p).toFixed(2)||l>+de(n,p).toFixed(2)||l<+dd(r,a).toFixed(2)||l>+de(r,a).toFixed(2)||q<+dd(e,h).toFixed(2)||q>+de(e,h).toFixed(2)||q<+dd(k,m).toFixed(2)||q>+de(k,m).toFixed(2)){return}return{x:c,y:f}}function dA(c,a){return dG(c,a)}function dK(c,a){return dG(c,a,1)}function dG(e,h,j){var r=cw.bezierBBox(e),C=cw.bezierBBox(h);if(!cw.isBBoxIntersect(r,C)){return j?0:[]}var o=cK.apply(0,e),p=cK.apply(0,h),z=de(~~(o/5),1),A=de(~~(p/5),1),s=[],u=[],B={},a=j?0:[];for(var m=0;m<z+1;m++){var q=cw.findDotsAtSegment.apply(cw,e.concat(m/z));s.push({x:q.x,y:q.y,t:m/z})}for(m=0;m<A+1;m++){q=cw.findDotsAtSegment.apply(cw,h.concat(m/A));u.push({x:q.x,y:q.y,t:m/A})}for(m=0;m<z;m++){for(var n=0;n<A;n++){var k=s[m],D=s[m+1],l=u[n],c=u[n+1],v=c8(D.x-k.x)<0.001?"y":"x",w=c8(c.x-l.x)<0.001?"y":"x",f=E(k.x,k.y,D.x,D.y,l.x,l.y,c.x,c.y);if(f){if(B[f.x.toFixed(4)]==f.y.toFixed(4)){continue}B[f.x.toFixed(4)]=f.y.toFixed(4);var x=k.t+c8((f[v]-k[v])/(D[v]-k[v]))*(D.t-k.t),y=l.t+c8((f[w]-l[w])/(c[w]-l[w]))*(c.t-l.t);if(x>=0&&x<=1.001&&y>=0&&y<=1.001){if(j){a++}else{a.push({x:f.x,y:f.y,t1:dd(x,1),t2:dd(y,1)})}}}}}return a}cw.pathIntersection=function(c,a){return dn(c,a)};cw.pathIntersectionNumber=function(c,a){return dn(c,a,1)};function dn(z,B,l){z=cw._path2curve(z);B=cw._path2curve(B);var n,a,o,p,r,y,A,v,f,h,e=l?0:[];for(var q=0,x=z.length;q<x;q++){var j=z[q];if(j[0]=="M"){n=r=j[1];a=y=j[2]}else{if(j[0]=="C"){f=[n,a].concat(j.slice(1));n=f[6];a=f[7]}else{f=[n,a,n,a,r,y,r,y];n=r;a=y}for(var s=0,m=B.length;s<m;s++){var k=B[s];if(k[0]=="M"){o=A=k[1];p=v=k[2]}else{if(k[0]=="C"){h=[o,p].concat(k.slice(1));o=h[6];p=h[7]}else{h=[o,p,o,p,A,v,A,v];o=A;p=v}var w=dG(f,h,l);if(l){e+=w}else{for(var u=0,c=w.length;u<c;u++){w[u].segment1=q;w[u].segment2=s;w[u].bez1=f;w[u].bez2=h}e=e.concat(w)}}}}}return e}cw.isPointInsidePath=function(f,a,c){var e=cw.pathBBox(f);return cw.isPointInsideBBox(e,a,c)&&dn(f,[["M",a,c],["H",e.x2+10]],1)%2==1};cw._removedFactory=function(a){return function(){cI("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+a+"\u201d of removed object",a)}};var cH=cw.pathBBox=function(a){var l=dE(a);if(l.bbox){return cq(l.bbox)}if(!a){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}a=cs(a);var h=0,j=0,n=[],r=[],v;for(var p=0,c=a.length;p<c;p++){v=a[p];if(v[0]=="M"){h=v[1];j=v[2];n.push(h);r.push(j)}else{var m=dy(h,j,v[1],v[2],v[3],v[4],v[5],v[6]);n=n[cW](m.min.x,m.max.x);r=r[cW](m.min.y,m.max.y);h=v[5];j=v[6]}}var u=dd[ce](0,n),f=dd[ce](0,r),q=de[ce](0,n),o=de[ce](0,r),s=q-u,e=o-f,k={x:u,y:f,x2:q,y2:o,width:s,height:e,cx:u+s/2,cy:f+e/2};l.bbox=cq(k);return k},dx=function(c){var a=cq(c);a.toString=cw._path2string;return a},bZ=cw._pathToRelative=function(v){var p=dE(v);if(p.rel){return dx(p.rel)}if(!cw.is(v,bO)||!cw.is(v&&v[0],bO)){v=cw.parsePathString(v)}var k=[],h=0,j=0,c=0,e=0,r=0;if(v[0][0]=="M"){h=v[0][1];j=v[0][2];c=h;e=j;r++;k.push(["M",h,j])}for(var q=r,a=v.length;q<a;q++){var u=k[q]=[],f=v[q];if(f[0]!=db.call(f[0])){u[0]=db.call(f[0]);switch(u[0]){case"a":u[1]=f[1];u[2]=f[2];u[3]=f[3];u[4]=f[4];u[5]=f[5];u[6]=+(f[6]-h).toFixed(3);u[7]=+(f[7]-j).toFixed(3);break;case"v":u[1]=+(f[1]-j).toFixed(3);break;case"m":c=f[1];e=f[2];default:for(var n=1,m=f.length;n<m;n++){u[n]=+(f[n]-((n%2)?h:j)).toFixed(3)}}}else{u=k[q]=[];if(f[0]=="m"){c=f[1]+h;e=f[2]+j}for(var o=0,s=f.length;o<s;o++){k[q][o]=f[o]}}var l=k[q].length;switch(k[q][0]){case"z":h=c;j=e;break;case"h":h+=+k[q][l-1];break;case"v":j+=+k[q][l-1];break;default:h+=+k[q][l-2];j+=+k[q][l-1]}}k.toString=cw._path2string;p.rel=dx(k);return k},bT=cw._pathToAbsolute=function(n){var u=dE(n);if(u.abs){return dx(u.abs)}if(!cw.is(n,bO)||!cw.is(n&&n[0],bO)){n=cw.parsePathString(n)}if(!n||!n.length){return[["M",0,0]]}var e=[],s=0,a=0,p=0,q=0,k=0;if(n[0][0]=="M"){s=+n[0][1];a=+n[0][2];p=s;q=a;k++;e[0]=["M",s,a]}var f=n.length==3&&n[0][0]=="M"&&n[1][0].toUpperCase()=="R"&&n[2][0].toUpperCase()=="Z";for(var o,w,j=k,r=n.length;j<r;j++){e.push(o=[]);w=n[j];if(w[0]!=dB.call(w[0])){o[0]=dB.call(w[0]);switch(o[0]){case"A":o[1]=w[1];o[2]=w[2];o[3]=w[3];o[4]=w[4];o[5]=w[5];o[6]=+(w[6]+s);o[7]=+(w[7]+a);break;case"V":o[1]=+w[1]+a;break;case"H":o[1]=+w[1]+s;break;case"R":var c=[s,a][cW](w.slice(1));for(var l=2,h=c.length;l<h;l++){c[l]=+c[l]+s;c[++l]=+c[l]+a}e.pop();e=e[cW](c4(c,f));break;case"M":p=+w[1]+s;q=+w[2]+a;default:for(l=1,h=w.length;l<h;l++){o[l]=+w[l]+((l%2)?s:a)}}}else{if(w[0]=="R"){c=[s,a][cW](w.slice(1));e.pop();e=e[cW](c4(c,f));o=["R"][cW](w.slice(-2))}else{for(var m=0,v=w.length;m<v;m++){o[m]=w[m]}}}switch(o[0]){case"Z":s=p;a=q;break;case"H":s=o[1];break;case"V":a=o[1];break;case"M":p=o[o.length-2];q=o[o.length-1];default:s=o[o.length-2];a=o[o.length-1]}}e.toString=cw._path2string;u.abs=dx(e);return e},dz=function(f,c,a,e){return[f,c,a,e,a,e]},a4=function(l,e,c,k,a,j){var f=1/3,h=2/3;return[f*l+h*c,f*e+h*k,f*a+h*c,f*j+h*k,a,j]},ds=function(h,D,z,B,f,p,s,j,G,e){var C=dg*120/180,aa=dg/180*(+f||0),v=[],y,J=cJ(function(af,ab,ad){var ac=af*dN.cos(ad)-ab*dN.sin(ad),ae=af*dN.sin(ad)+ab*dN.cos(ad);return{x:ac,y:ae}});if(!e){y=J(h,D,-aa);h=y.x;D=y.y;y=J(j,G,-aa);j=y.x;G=y.y;var Z=dN.cos(dg/180*f),n=dN.sin(dg/180*f),X=(h-j)/2,u=(D-G)/2;var L=(X*X)/(z*z)+(u*u)/(B*B);if(L>1){L=dN.sqrt(L);z=L*z;B=L*B}var Y=z*z,U=B*B,Q=(p==s?-1:1)*dN.sqrt(c8((Y*U-Y*u*u-U*X*X)/(Y*u*u+U*X*X))),a=Q*z*u/B+(h+j)/2,c=Q*-B*X/z+(D+G)/2,q=dN.asin(((D-c)/B).toFixed(9)),r=dN.asin(((G-c)/B).toFixed(9));q=h<a?dg-q:q;r=j<a?dg-r:r;q<0&&(q=dg*2+q);r<0&&(r=dg*2+r);if(s&&q>r){q=q-dg*2}if(!s&&r>q){r=r-dg*2}}else{q=e[0];r=e[1];a=e[2];c=e[3]}var l=r-q;if(c8(l)>C){var F=r,A=j,o=G;r=q+C*(s&&r>q?1:-1);j=a+z*dN.cos(r);G=c+B*dN.sin(r);v=ds(j,G,z,B,f,0,s,A,o,[r,F,a,c])}l=r-q;var k=dN.cos(q),H=dN.sin(q),m=dN.cos(r),I=dN.sin(r),W=dN.tan(l/4),T=4/3*z*W,V=4/3*B*W,K=[h,D],M=[h+T*H,D-V*k],N=[j+T*I,G-V*m],P=[j,G];M[0]=2*K[0]-M[0];M[1]=2*K[1]-M[1];if(e){return[M,N,P][cW](v)}else{v=[M,N,P][cW](v).join()[bX](",");var x=[];for(var O=0,w=v.length;O<w;O++){x[O]=O%2?J(v[O-1],v[O],aa).y:J(v[O],v[O+1],aa).x}return x}},c9=function(l,m,h,k,e,j,c,f,a){var n=1-a;return{x:dD(n,3)*l+dD(n,2)*3*a*h+n*3*a*a*e+dD(a,3)*c,y:dD(n,3)*m+dD(n,2)*3*a*k+n*3*a*a*j+dD(a,3)*f}},dy=cJ(function(p,s,o,u,a,c,h,m){var e=(a-2*o+p)-(h-2*a+o),j=2*(o-p)-2*(a-o),n=p-o,q=(-j+dN.sqrt(j*j-4*e*n))/2/e,l=(-j-dN.sqrt(j*j-4*e*n))/2/e,k=[s,m],f=[p,h],r;c8(q)>"1e12"&&(q=0.5);c8(l)>"1e12"&&(l=0.5);if(q>0&&q<1){r=c9(p,s,o,u,a,c,h,m,q);f.push(r.x);k.push(r.y)}if(l>0&&l<1){r=c9(p,s,o,u,a,c,h,m,l);f.push(r.x);k.push(r.y)}e=(c-2*u+s)-(m-2*c+u);j=2*(u-s)-2*(c-u);n=s-u;q=(-j+dN.sqrt(j*j-4*e*n))/2/e;l=(-j-dN.sqrt(j*j-4*e*n))/2/e;c8(q)>"1e12"&&(q=0.5);c8(l)>"1e12"&&(l=0.5);if(q>0&&q<1){r=c9(p,s,o,u,a,c,h,m,q);f.push(r.x);k.push(r.y)}if(l>0&&l<1){r=c9(p,s,o,u,a,c,h,m,l);f.push(r.x);k.push(r.y)}return{min:{x:dd[ce](0,f),y:dd[ce](0,k)},max:{x:de[ce](0,f),y:de[ce](0,k)}}}),cs=cw._path2curve=cJ(function(a,j){var l=!j&&dE(a);if(!j&&l.curve){return dx(l.curve)}var u=bT(a),h=j&&bT(j),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m=function(y,w,A){var x,v,z={T:1,Q:1};if(!y){return["C",w.x,w.y,w.x,w.y,w.x,w.y]}!(y[0] in z)&&(w.qx=w.qy=null);switch(y[0]){case"M":w.X=y[1];w.Y=y[2];break;case"A":y=["C"][cW](ds[ce](0,[w.x,w.y][cW](y.slice(1))));break;case"S":if(A=="C"||A=="S"){x=w.x*2-w.bx;v=w.y*2-w.by}else{x=w.x;v=w.y}y=["C",x,v][cW](y.slice(1));break;case"T":if(A=="Q"||A=="T"){w.qx=w.x*2-w.qx;w.qy=w.y*2-w.qy}else{w.qx=w.x;w.qy=w.y}y=["C"][cW](a4(w.x,w.y,w.qx,w.qy,y[1],y[2]));break;case"Q":w.qx=y[1];w.qy=y[2];y=["C"][cW](a4(w.x,w.y,y[1],y[2],y[3],y[4]));break;case"L":y=["C"][cW](dz(w.x,w.y,y[1],y[2]));break;case"H":y=["C"][cW](dz(w.x,w.y,y[1],w.y));break;case"V":y=["C"][cW](dz(w.x,w.y,w.x,y[1]));break;case"Z":y=["C"][cW](dz(w.x,w.y,w.X,w.Y));break}return y},s=function(x,w){if(x[w].length>7){x[w].shift();var v=x[w];while(v.length){x.splice(w++,0,["C"][cW](v.splice(0,6)))}x.splice(w,1);e=de(u.length,h&&h.length||0)}},q=function(v,w,y,z,x){if(v&&w&&v[x][0]=="M"&&w[x][0]!="M"){w.splice(x,0,["M",z.x,z.y]);y.bx=0;y.by=0;y.x=v[x][1];y.y=v[x][2];e=de(u.length,h&&h.length||0)}};for(var o=0,e=de(u.length,h&&h.length||0);o<e;o++){u[o]=m(u[o],f);s(u,o);h&&(h[o]=m(h[o],r));h&&s(h,o);q(u,h,f,r,o);q(h,u,r,f,o);var p=u[o],c=h&&h[o],n=p.length,k=h&&c.length;f.x=p[n-2];f.y=p[n-1];f.bx=c6(p[n-4])||f.x;f.by=c6(p[n-3])||f.y;r.bx=h&&(c6(c[k-4])||r.x);r.by=h&&(c6(c[k-3])||r.y);r.x=h&&c[k-2];r.y=h&&c[k-1]}if(!h){l.curve=dx(u)}return h?[u,h]:u},null,dx),cM=cw._parseDots=cJ(function(c){var e=[];for(var f=0,a=c.length;f<a;f++){var m={},j=c[f].match(/^([^:]*):?([\d\.]*)/);m.color=cw.getRGB(j[1]);if(m.color.error){return null}m.color=m.color.hex;j[2]&&(m.offset=j[2]+"%");e.push(m)}for(f=1,a=e.length-1;f<a;f++){if(!e[f].offset){var l=c6(e[f-1].offset||0),n=0;for(var h=f+1;h<a;h++){if(e[h].offset){n=e[h].offset;break}}if(!n){n=100;h=a}n=c6(n);var k=(n-l)/(h-f+1);for(;f<h;f++){l+=k;e[f].offset=l+"%"}}}return e}),dO=cw._tear=function(a,c){a==c.top&&(c.top=a.prev);a==c.bottom&&(c.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},cB=cw._tofront=function(a,c){if(c.top===a){return}dO(a,c);a.next=null;a.prev=c.top;c.top.next=a;c.top=a},a5=cw._toback=function(a,c){if(c.bottom===a){return}dO(a,c);a.next=c.bottom;a.prev=null;c.bottom.prev=a;c.bottom=a},cZ=cw._insertafter=function(e,a,c){dO(e,c);a==c.top&&(c.top=e);a.next&&(a.next.prev=e);e.next=a.next;e.prev=a;a.next=e},bW=cw._insertbefore=function(e,a,c){dO(e,c);a==c.bottom&&(c.bottom=e);a.prev&&(a.prev.next=e);e.prev=a.prev;a.prev=e;e.next=a},bP=cw.toMatrix=function(e,a){var c=cH(e),f={_:{transform:co},getBBox:function(){return c}};cd(f,a);return f.matrix},cT=cw.transformPath=function(c,a){return cr(c,bP(c,a))},cd=cw._extractTransform=function(z,f){if(f==null){return z._.transform}f=bY(f).replace(/\.{3}|\u2026/g,z._.transform||co);var q=cw.parseTransformString(f),s=0,v=0,w=0,n=1,p=1,e=z._,m=new dW;e.transform=q||[];if(q){for(var l=0,u=q.length;l<u;l++){var r=q[l],A=r.length,c=bY(r[0]).toLowerCase(),h=r[0]!=c,x=h?m.invert():0,j,o,k,y,a;if(c=="t"&&A==3){if(h){j=x.x(0,0);o=x.y(0,0);k=x.x(r[1],r[2]);y=x.y(r[1],r[2]);m.translate(k-j,y-o)}else{m.translate(r[1],r[2])}}else{if(c=="r"){if(A==2){a=a||z.getBBox(1);m.rotate(r[1],a.x+a.width/2,a.y+a.height/2);s+=r[1]}else{if(A==4){if(h){k=x.x(r[2],r[3]);y=x.y(r[2],r[3]);m.rotate(r[1],k,y)}else{m.rotate(r[1],r[2],r[3])}s+=r[1]}}}else{if(c=="s"){if(A==2||A==3){a=a||z.getBBox(1);m.scale(r[1],r[A-1],a.x+a.width/2,a.y+a.height/2);n*=r[1];p*=r[A-1]}else{if(A==5){if(h){k=x.x(r[3],r[4]);y=x.y(r[3],r[4]);m.scale(r[1],r[2],k,y)}else{m.scale(r[1],r[2],r[3],r[4])}n*=r[1];p*=r[2]}}}else{if(c=="m"&&A==7){m.add(r[1],r[2],r[3],r[4],r[5],r[6])}}}}e.dirtyT=1;z.matrix=m}}z.matrix=m;e.sx=n;e.sy=p;e.deg=s;e.dx=v=m.e;e.dy=w=m.f;if(n==1&&p==1&&!s&&e.bbox){e.bbox.x+=+v;e.bbox.y+=+w}else{e.dirtyT=1}},bU=function(c){var a=c[0];switch(a.toLowerCase()){case"t":return[a,0,0];case"m":return[a,1,0,0,1,0,0];case"r":if(c.length==4){return[a,0,c[2],c[3]]}else{return[a,0]}case"s":if(c.length==5){return[a,1,1,c[3],c[4]]}else{if(c.length==3){return[a,1,1]}else{return[a,1]}}}},cG=cw._equaliseTransform=function(h,n){n=bY(n).replace(/\.{3}|\u2026/g,h);h=cw.parseTransformString(h)||[];n=cw.parseTransformString(n)||[];var m=de(h.length,n.length),c=[],a=[],k=0,l,e,f,j;for(;k<m;k++){f=h[k]||bU(n[k]);j=n[k]||bU(f);if((f[0]!=j[0])||(f[0].toLowerCase()=="r"&&(f[2]!=j[2]||f[3]!=j[3]))||(f[0].toLowerCase()=="s"&&(f[3]!=j[3]||f[4]!=j[4]))){return}c[k]=[];a[k]=[];for(l=0,e=de(f.length,j.length);l<e;l++){l in f&&(c[k][l]=f[l]);l in j&&(a[k][l]=j[l])}}return{from:c,to:a}};cw._getContainer=function(a,f,e,c){var h;h=c==null&&!cw.is(a,"object")?i.doc.getElementById(a):a;if(h==null){return}if(h.tagName){if(f==null){return{container:h,width:h.style.pixelWidth||h.offsetWidth,height:h.style.pixelHeight||h.offsetHeight}}else{return{container:h,width:f,height:e}}}return{container:1,x:a,y:f,width:e,height:c}};cw.pathToRelative=bZ;cw._engine={};cw.path2curve=cs;cw.matrix=function(c,h,f,a,e,j){return new dW(c,h,f,a,e,j)};function dW(c,h,f,a,e,j){if(c!=null){this.a=+c;this.b=+h;this.c=+f;this.d=+a;this.e=+e;this.f=+j}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0}}(function(c){c.add=function(f,k,m,p,o,q){var u=[[],[],[]],r=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[f,m,o],[k,p,q],[0,0,1]],j,l,n,s;if(f&&f instanceof dW){h=[[f.a,f.c,f.e],[f.b,f.d,f.f],[0,0,1]]}for(j=0;j<3;j++){for(l=0;l<3;l++){s=0;for(n=0;n<3;n++){s+=r[j][n]*h[n][l]}u[j][l]=s}}this.a=u[0][0];this.b=u[1][0];this.c=u[0][1];this.d=u[1][1];this.e=u[0][2];this.f=u[1][2]};c.invert=function(){var h=this,f=h.a*h.d-h.b*h.c;return new dW(h.d/f,-h.b/f,-h.c/f,h.a/f,(h.c*h.f-h.d*h.e)/f,(h.b*h.e-h.a*h.f)/f)};c.clone=function(){return new dW(this.a,this.b,this.c,this.d,this.e,this.f)};c.translate=function(f,h){this.add(1,0,0,1,f,h)};c.scale=function(k,h,f,j){h==null&&(h=k);(f||j)&&this.add(1,0,0,1,f,j);this.add(k,0,0,h,0,0);(f||j)&&this.add(1,0,0,1,-f,-j)};c.rotate=function(l,h,k){l=cw.rad(l);h=h||0;k=k||0;var f=+dN.cos(l).toFixed(9),j=+dN.sin(l).toFixed(9);this.add(f,j,-j,f,h,k);this.add(1,0,0,1,-h,-k)};c.x=function(f,h){return f*this.a+h*this.c+this.e};c.y=function(f,h){return f*this.b+h*this.d+this.f};c.get=function(f){return +this[bY.fromCharCode(97+f)].toFixed(4)};c.toString=function(){return cw.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};c.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};function e(f){return f[0]*f[0]+f[1]*f[1]}function a(f){var h=dN.sqrt(e(f));f[0]&&(f[0]/=h);f[1]&&(f[1]/=h)}c.split=function(){var k={};k.dx=this.e;k.dy=this.f;var h=[[this.a,this.c],[this.b,this.d]];k.scalex=dN.sqrt(e(h[0]));a(h[0]);k.shear=h[0][0]*h[1][0]+h[0][1]*h[1][1];h[1]=[h[1][0]-h[0][0]*k.shear,h[1][1]-h[0][1]*k.shear];k.scaley=dN.sqrt(e(h[1]));a(h[1]);k.shear/=k.scaley;var f=-h[0][1],j=h[1][1];if(j<0){k.rotate=cw.deg(dN.acos(j));if(f<0){k.rotate=360-k.rotate}}else{k.rotate=cw.deg(dN.asin(f))}k.isSimple=!+k.shear.toFixed(9)&&(k.scalex.toFixed(9)==k.scaley.toFixed(9)||!k.rotate);k.isSuperSimple=!+k.shear.toFixed(9)&&k.scalex.toFixed(9)==k.scaley.toFixed(9)&&!k.rotate;k.noRotation=!+k.shear.toFixed(9)&&!k.rotate;return k};c.toTransformString=function(f){var h=f||this[bX]();if(h.isSimple){h.scalex=+h.scalex.toFixed(4);h.scaley=+h.scaley.toFixed(4);h.rotate=+h.rotate.toFixed(4);return(h.dx||h.dy?"t"+[h.dx,h.dy]:co)+(h.scalex!=1||h.scaley!=1?"s"+[h.scalex,h.scaley,0,0]:co)+(h.rotate?"r"+[h.rotate,0,0]:co)}else{return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}})(dW.prototype);var c7=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);if((navigator.vendor=="Apple Computer, Inc.")&&(c7&&c7[1]<4||navigator.platform.slice(0,2)=="iP")||(navigator.vendor=="Google Inc."&&c7&&c7[1]<8)){c2.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}}else{c2.safari=dm}var dq=function(){this.returnValue=false},bV=function(){return this.originalEvent.preventDefault()},dM=function(){this.cancelBubble=true},cj=function(){return this.originalEvent.stopPropagation()},dk=function(e){var a=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,c=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;return{x:e.clientX+c,y:e.clientY+a}},cN=(function(){if(i.doc.addEventListener){return function(h,f,j,a){var c=function(k){var l=dk(k);return j.call(a,k,l.x,l.y)};h.addEventListener(f,c,false);if(cv&&ck[f]){var e=function(m){var k=dk(m),o=m;for(var l=0,n=m.targetTouches&&m.targetTouches.length;l<n;l++){if(m.targetTouches[l].target==h){m=m.targetTouches[l];m.originalEvent=o;m.preventDefault=bV;m.stopPropagation=cj;break}}return j.call(a,m,k.x,k.y)};h.addEventListener(ck[f],e,false)}return function(){h.removeEventListener(f,c,false);if(cv&&ck[f]){h.removeEventListener(ck[f],c,false)}return true}}}else{if(i.doc.attachEvent){return function(e,c,f,j){var h=function(n){n=n||i.win.event;var o=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,m=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,l=n.clientX+m,k=n.clientY+o;n.preventDefault=n.preventDefault||dq;n.stopPropagation=n.stopPropagation||dM;return f.call(j,n,l,k)};e.attachEvent("on"+c,h);var a=function(){e.detachEvent("on"+c,h);return true};return a}}}})(),dV=[],cg=function(m){var f=m.clientX,h=m.clientY,c=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,a=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,o,r=dV.length;while(r--){o=dV[r];if(cv&&m.touches){var k=m.touches.length,l;while(k--){l=m.touches[k];if(l.identifier==o.el._drag.id){f=l.clientX;h=l.clientY;(m.originalEvent?m.originalEvent:m).preventDefault();break}}}else{m.preventDefault()}var p=o.el.node,q,n=p.nextSibling,e=p.parentNode,j=p.style.display;i.win.opera&&e.removeChild(p);p.style.display="none";q=o.el.paper.getElementByPoint(f,h);p.style.display=j;i.win.opera&&(n?e.insertBefore(p,n):e.appendChild(p));q&&cI("raphael.drag.over."+o.el.id,o.el,q);f+=a;h+=c;cI("raphael.drag.move."+o.el.id,o.move_scope||o.el,f-o.el._drag.x,h-o.el._drag.y,f,h,m)}},b2=function(c){cw.unmousemove(cg).unmouseup(b2);var e=dV.length,a;while(e--){a=dV[e];a.el._drag={};cI("raphael.drag.end."+a.el.id,a.end_scope||a.start_scope||a.move_scope||a.el,c)}dV=[]},c0=cw.el={};for(var R=du.length;R--;){(function(a){cw[a]=c0[a]=function(c,e){if(cw.is(c,"function")){this.events=this.events||[];this.events.push({name:a,f:c,unbind:cN(this.shape||this.node||i.doc,a,c,e||this)})}return this};cw["un"+a]=c0["un"+a]=function(c){var e=this.events||[],f=e.length;while(f--){if(e[f].name==a&&(cw.is(c,"undefined")||e[f].f==c)){e[f].unbind();e.splice(f,1);!e.length&&delete this.events}}return this}})(du[R])}c0.data=function(f,e){var c=cz[this.id]=cz[this.id]||{};if(arguments.length==0){return c}if(arguments.length==1){if(cw.is(f,"object")){for(var a in f){if(f[b8](a)){this.data(a,f[a])}}return this}cI("raphael.data.get."+this.id,this,c[f],f);return c[f]}c[f]=e;cI("raphael.data.set."+this.id,this,e,f);return this};c0.removeData=function(a){if(a==null){cz[this.id]={}}else{cz[this.id]&&delete cz[this.id][a]}return this};c0.getData=function(){return cq(cz[this.id]||{})};c0.hover=function(c,a,e,f){return this.mouseover(c,e).mouseout(a,f||e)};c0.unhover=function(c,a){return this.unmouseover(c).unmouseout(a)};var df=[];c0.drag=function(k,f,j,a,h,e){function c(o){(o.originalEvent||o).preventDefault();var r=o.clientX,l=o.clientY,p=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,n=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;this._drag.id=o.identifier;if(cv&&o.touches){var q=o.touches.length,m;while(q--){m=o.touches[q];this._drag.id=m.identifier;if(m.identifier==this._drag.id){r=m.clientX;l=m.clientY;break}}}this._drag.x=r+n;this._drag.y=l+p;!dV.length&&cw.mousemove(cg).mouseup(b2);dV.push({el:this,move_scope:a,start_scope:h,end_scope:e});f&&cI.on("raphael.drag.start."+this.id,f);k&&cI.on("raphael.drag.move."+this.id,k);j&&cI.on("raphael.drag.end."+this.id,j);cI("raphael.drag.start."+this.id,h||a||this,o.clientX+n,o.clientY+p,o)}this._drag={};df.push({el:this,start:c});this.mousedown(c);return this};c0.onDragOver=function(a){a?cI.on("raphael.drag.over."+this.id,a):cI.unbind("raphael.drag.over."+this.id)};c0.undrag=function(){var a=df.length;while(a--){if(df[a].el==this){this.unmousedown(df[a].start);df.splice(a,1);cI.unbind("raphael.drag.*."+this.id)}}!df.length&&cw.unmousemove(cg).unmouseup(b2);dV=[]};c2.circle=function(a,c,e){var f=cw._engine.circle(this,a||0,c||0,e||0);this.__set__&&this.__set__.push(f);return f};c2.rect=function(a,e,j,c,h){var f=cw._engine.rect(this,a||0,e||0,j||0,c||0,h||0);this.__set__&&this.__set__.push(f);return f};c2.ellipse=function(a,f,c,e){var h=cw._engine.ellipse(this,a||0,f||0,c||0,e||0);this.__set__&&this.__set__.push(h);return h};c2.path=function(a){a&&!cw.is(a,b4)&&!cw.is(a[0],bO)&&(a+=co);var c=cw._engine.path(cw.format[ce](cw,arguments),this);this.__set__&&this.__set__.push(c);return c};c2.image=function(h,a,e,j,c){var f=cw._engine.image(this,h||"about:blank",a||0,e||0,j||0,c||0);this.__set__&&this.__set__.push(f);return f};c2.text=function(a,c,e){var f=cw._engine.text(this,a||0,c||0,bY(e));this.__set__&&this.__set__.push(f);return f};c2.set=function(c){!cw.is(c,"array")&&(c=Array.prototype.splice.call(arguments,0,arguments.length));var a=new cf(c);this.__set__&&this.__set__.push(a);a.paper=this;a.type="set";return a};c2.setStart=function(a){this.__set__=a||this.set()};c2.setFinish=function(c){var a=this.__set__;delete this.__set__;return a};c2.setSize=function(c,a){return cw._engine.setSize.call(this,c,a)};c2.setViewBox=function(a,f,h,c,e){return cw._engine.setViewBox.call(this,a,f,h,c,e)};c2.top=c2.bottom=null;c2.raphael=cw;var c5=function(j){var m=j.getBoundingClientRect(),c=j.ownerDocument,e=c.body,l=c.documentElement,f=l.clientTop||e.clientTop||0,a=l.clientLeft||e.clientLeft||0,h=m.top+(i.win.pageYOffset||l.scrollTop||e.scrollTop)-f,k=m.left+(i.win.pageXOffset||l.scrollLeft||e.scrollLeft)-a;return{y:h,x:k}};c2.getElementByPoint=function(l,j){var e=this,h=e.canvas,f=i.doc.elementFromPoint(l,j);if(i.win.opera&&f.tagName=="svg"){var k=c5(h),c=h.createSVGRect();c.x=l-k.x;c.y=j-k.y;c.width=c.height=1;var a=h.getIntersectionList(c,null);if(a.length){f=a[a.length-1]}}if(!f){return null}while(f.parentNode&&f!=h.parentNode&&!f.raphael){f=f.parentNode}f==e.canvas.parentNode&&(f=h);f=f&&f.raphael?e.getById(f.raphaelid):null;return f};c2.getElementsByBBox=function(a){var c=this.set();this.forEach(function(e){if(cw.isBBoxIntersect(e.getBBox(),a)){c.push(e)}});return c};c2.getById=function(c){var a=this.bottom;while(a){if(a.id==c){return a}a=a.next}return null};c2.forEach=function(c,a){var e=this.bottom;while(e){if(c.call(a,e)===false){return this}e=e.next}return this};c2.getElementsByPoint=function(a,c){var e=this.set();this.forEach(function(f){if(f.isPointInside(a,c)){e.push(f)}});return e};function b7(){return this.x+cy+this.y}function g(){return this.x+cy+this.y+cy+this.width+" \xd7 "+this.height}c0.isPointInside=function(a,c){var e=this.realPath=di[this.type](this);if(this.attr("transform")&&this.attr("transform").length){e=cw.transformPath(e,this.attr("transform"))}return cw.isPointInsidePath(e,a,c)};c0.getBBox=function(c){if(this.removed){return{}}var a=this._;if(c){if(a.dirty||!a.bboxwt){this.realPath=di[this.type](this);a.bboxwt=cH(this.realPath);a.bboxwt.toString=g;a.dirty=0}return a.bboxwt}if(a.dirty||a.dirtyT||!a.bbox){if(a.dirty||!this.realPath){a.bboxwt=0;this.realPath=di[this.type](this)}a.bbox=cH(cr(this.realPath,this.matrix));a.bbox.toString=g;a.dirty=a.dirtyT=0}return a.bbox};c0.clone=function(){if(this.removed){return null}var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};c0.glow=function(h){if(this.type=="text"){return null}h=h||{};var f={width:(h.width||10)+(+this.attr("stroke-width")||1),fill:h.fill||false,opacity:h.opacity||0.5,offsetx:h.offsetx||0,offsety:h.offsety||0,color:h.color||"#000"},c=f.width/2,j=this.paper,a=j.set(),e=this.realPath||di[this.type](this);e=this.matrix?cr(e,this.matrix):e;for(var k=1;k<c+1;k++){a.push(j.path(e).attr({stroke:f.color,fill:f.fill?f.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(f.width/c*k).toFixed(3),opacity:+(f.opacity/c).toFixed(3)}))}return a.insertBefore(this).translate(f.offsetx,f.offsety)};var dw={},dH=function(k,l,m,f,c,h,a,e,j){if(j==null){return cK(k,l,m,f,c,h,a,e)}else{return cw.findDotsAtSegment(k,l,m,f,c,h,a,e,dL(k,l,m,f,c,h,a,e,j))}},dS=function(a,c){return function(e,p,n){e=cs(e);var k,l,r,q,s="",f={},j,m=0;for(var o=0,h=e.length;o<h;o++){r=e[o];if(r[0]=="M"){k=+r[1];l=+r[2]}else{q=dH(k,l,r[1],r[2],r[3],r[4],r[5],r[6]);if(m+q>p){if(c&&!f.start){j=dH(k,l,r[1],r[2],r[3],r[4],r[5],r[6],p-m);s+=["C"+j.start.x,j.start.y,j.m.x,j.m.y,j.x,j.y];if(n){return s}f.start=s;s=["M"+j.x,j.y+"C"+j.n.x,j.n.y,j.end.x,j.end.y,r[5],r[6]].join();m+=q;k=+r[5];l=+r[6];continue}if(!a&&!c){j=dH(k,l,r[1],r[2],r[3],r[4],r[5],r[6],p-m);return{x:j.x,y:j.y,alpha:j.alpha}}}m+=q;k=+r[5];l=+r[6]}s+=r.shift()+r}f.end=s;j=a?m:c?f:cw.findDotsAtSegment(k,l,r[0],r[1],r[2],r[3],r[4],r[5],1);j.alpha&&(j={x:j.x,y:j.y,alpha:j.alpha});return j}};var dj=dS(1),b6=dS(),dU=dS(0,1);cw.getTotalLength=dj;cw.getPointAtLength=b6;cw.getSubpath=function(f,c,e){if(this.getTotalLength(f)-e<0.000001){return dU(f,c).end}var a=dU(f,e,1);return c?dU(a,c).end:a};c0.getTotalLength=function(){var a=this.getPath();if(!a){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return dj(a)};c0.getPointAtLength=function(a){var c=this.getPath();if(!c){return}return b6(c,a)};c0.getPath=function(){var c,a=cw._getPath[this.type];if(this.type=="text"||this.type=="set"){return}if(a){c=a(this)}return c};c0.getSubpath=function(c,e){var a=this.getPath();if(!a){return}return cw.getSubpath(a,c,e)};var dP=cw.easing_formulas={linear:function(a){return a},"<":function(a){return dD(a,1.7)},">":function(a){return dD(a,0.48)},"<>":function(j){var e=0.48-j/1.04,h=dN.sqrt(0.1734+e*e),a=h-e,c=dD(c8(a),1/3)*(a<0?-1:1),f=-h-e,k=dD(c8(f),1/3)*(f<0?-1:1),l=c+k+0.5;return(1-l)*3*l*l+l*l*l},backIn:function(c){var a=1.70158;return c*c*((a+1)*c-a)},backOut:function(c){c=c-1;var a=1.70158;return c*c*((a+1)*c+a)+1},elastic:function(a){if(a==!!a){return a}return dD(2,-10*a)*dN.sin((a-0.075)*(2*dg)/0.3)+1},bounce:function(c){var f=7.5625,e=2.75,a;if(c<(1/e)){a=f*c*c}else{if(c<(2/e)){c-=(1.5/e);a=f*c*c+0.75}else{if(c<(2.5/e)){c-=(2.25/e);a=f*c*c+0.9375}else{c-=(2.625/e);a=f*c*c+0.984375}}}return a}};dP.easeIn=dP["ease-in"]=dP["<"];dP.easeOut=dP["ease-out"]=dP[">"];dP.easeInOut=dP["ease-in-out"]=dP["<>"];dP["back-in"]=dP.backIn;dP["back-out"]=dP.backOut;var dl=[],dh=dC.requestAnimationFrame||dC.webkitRequestAnimationFrame||dC.mozRequestAnimationFrame||dC.oRequestAnimationFrame||dC.msRequestAnimationFrame||function(a){setTimeout(a,16)},cY=function(){var y=+new Date,o=0;for(;o<dl.length;o++){var h=dl[o];if(h.el.removed||h.paused){continue}var p=y-h.start,r=h.ms,s=h.easing,n=h.from,v=h.diff,A=h.to,w=h.t,a=h.el,u={},B,k={},e;if(h.initstatus){p=(h.initstatus*h.anim.top-h.prev)/(h.percent-h.prev)*r;h.status=h.initstatus;delete h.initstatus;h.stop&&dl.splice(o--,1)}else{h.status=(h.prev+(h.percent-h.prev)*(p/r))/h.anim.top}if(p<0){continue}if(p<r){var z=s(p/r);for(var q in n){if(n[b8](q)){switch(cm[q]){case cu:B=+n[q]+z*r*v[q];break;case"colour":B="rgb("+[a2(cP(n[q].r+z*r*v[q].r)),a2(cP(n[q].g+z*r*v[q].g)),a2(cP(n[q].b+z*r*v[q].b))].join(",")+")";break;case"path":B=[];for(var l=0,x=n[q].length;l<x;l++){B[l]=[n[q][l][0]];for(var m=1,j=n[q][l].length;m<j;m++){B[l][m]=+n[q][l][m]+z*r*v[q][l][m]}B[l]=B[l].join(cy)}B=B.join(cy);break;case"transform":if(v[q].real){B=[];for(l=0,x=n[q].length;l<x;l++){B[l]=[n[q][l][0]];for(m=1,j=n[q][l].length;m<j;m++){B[l][m]=n[q][l][m]+z*r*v[q][l][m]}}}else{var f=function(C){return +n[q][C]+z*r*v[q][C]};B=[["m",f(0),f(1),f(2),f(3),f(4),f(5)]]}break;case"csv":if(q=="clip-rect"){B=[];l=4;while(l--){B[l]=+n[q][l]+z*r*v[q][l]}}break;default:var c=[][cW](n[q]);B=[];l=a.paper.customAttributes[q].length;while(l--){B[l]=+c[l]+z*r*v[q][l]}break}u[q]=B}}a.attr(u);(function(D,C,F){setTimeout(function(){cI("raphael.anim.frame."+D,C,F)})})(a.id,a,h.anim)}else{(function(D,F,C){setTimeout(function(){cI("raphael.anim.frame."+F.id,F,C);cI("raphael.anim.finish."+F.id,F,C);cw.is(D,"function")&&D.call(F)})})(h.callback,a,h.anim);a.attr(A);dl.splice(o--,1);if(h.repeat>1&&!h.next){for(e in A){if(A[b8](e)){k[e]=h.totalOrigin[e]}}h.el.attr(k);cn(h.anim,h.el,h.anim.percents[0],null,h.totalOrigin,h.repeat-1)}if(h.next&&!h.stop){cn(h.anim,h.el,h.next,null,h.totalOrigin,h.repeat)}}}cw.svg&&a&&a.paper&&a.paper.safari();dl.length&&dh(cY)},a2=function(a){return a>255?255:a<0?0:a};c0.animateWith=function(n,p,m,o,l,a){var h=this;if(h.removed){a&&a.call(h);return h}var e=m instanceof b1?m:cw.animation(m,o,l,a),f,k;cn(e,h,e.percents[0],null,h.attr());for(var j=0,c=dl.length;j<c;j++){if(dl[j].anim==p&&dl[j].el==n){dl[c-1].start=dl[j].start;break}}return h};function a3(c,n,q,e,f,o){var m=3*n,h=3*(e-n)-m,r=1-m-h,k=3*q,j=3*(f-q)-k,a=1-k-j;function l(u){return((r*u+h)*u+m)*u}function p(w,u){var v=s(w,u);return((a*v+j)*v+k)*v}function s(B,u){var v,w,y,A,x,z;for(y=B,z=0;z<8;z++){A=l(y)-B;if(c8(A)<u){return y}x=(3*r*y+2*h)*y+m;if(c8(x)<0.000001){break}y=y-A/x}v=0;w=1;y=B;if(y<v){return v}if(y>w){return w}while(v<w){A=l(y);if(c8(A-B)<u){return y}if(B>A){v=y}else{w=y}y=(w-v)/2+v}return y}return p(c,1/(200*o))}c0.onAnimation=function(a){a?cI.on("raphael.anim.frame."+this.id,a):cI.unbind("raphael.anim.frame."+this.id);return this};function b1(f,e){var h=[],c={};this.ms=e;this.times=1;if(f){for(var a in f){if(f[b8](a)){c[c6(a)]=f[a];h.push(c6(a))}}h.sort(ca)}this.anim=c;this.top=h[h.length-1];this.percents=h}b1.prototype.delay=function(c){var a=new b1(this.anim,this.ms);a.times=this.times;a.del=+c||0;return a};b1.prototype.repeat=function(c){var a=new b1(this.anim,this.ms);a.del=this.del;a.times=dN.floor(de(c,0))||1;return a};function cn(f,M,O,k,L,F){O=c6(O);var C,j,H,A=[],r,s,l,p=f.ms,h={},y={},z={};if(k){for(a=0,B=dl.length;a<B;a++){var G=dl[a];if(G.el.id==M.id&&G.anim==f){if(G.percent!=O){dl.splice(a,1);H=1}else{j=G}M.attr(G.totalOrigin);break}}}else{k=+y}for(var a=0,B=f.percents.length;a<B;a++){if(f.percents[a]==O||f.percents[a]>k*f.top){O=f.percents[a];s=f.percents[a-1]||0;p=p/f.top*(O-s);r=f.percents[a+1];C=f.anim[O];break}else{if(k){M.attr(f.anim[f.percents[a]])}}}if(!C){return}if(!j){for(var n in C){if(C[b8](n)){if(cm[b8](n)||M.paper.customAttributes[b8](n)){h[n]=M.attr(n);(h[n]==null)&&(h[n]=ci[n]);y[n]=C[n];switch(cm[n]){case cu:z[n]=(y[n]-h[n])/p;break;case"colour":h[n]=cw.getRGB(h[n]);var m=cw.getRGB(y[n]);z[n]={r:(m.r-h[n].r)/p,g:(m.g-h[n].g)/p,b:(m.b-h[n].b)/p};break;case"path":var K=cs(h[n],y[n]),v=K[1];h[n]=K[0];z[n]=[];for(a=0,B=h[n].length;a<B;a++){z[n][a]=[0];for(var c=1,J=h[n][a].length;c<J;c++){z[n][a][c]=(v[a][c]-h[n][a][c])/p}}break;case"transform":var u=M._,x=cG(u[n],y[n]);if(x){h[n]=x.from;y[n]=x.to;z[n]=[];z[n].real=true;for(a=0,B=h[n].length;a<B;a++){z[n][a]=[h[n][a][0]];for(c=1,J=h[n][a].length;c<J;c++){z[n][a][c]=(y[n][a][c]-h[n][a][c])/p}}}else{var o=(M.matrix||new dW),D={_:{transform:u.transform},getBBox:function(){return M.getBBox(1)}};h[n]=[o.a,o.b,o.c,o.d,o.e,o.f];cd(D,y[n]);y[n]=D._.transform;z[n]=[(D.matrix.a-o.a)/p,(D.matrix.b-o.b)/p,(D.matrix.c-o.c)/p,(D.matrix.d-o.d)/p,(D.matrix.e-o.e)/p,(D.matrix.f-o.f)/p]}break;case"csv":var N=bY(C[n])[bX](b9),I=bY(h[n])[bX](b9);if(n=="clip-rect"){h[n]=I;z[n]=[];a=I.length;while(a--){z[n][a]=(N[a]-h[n][a])/p}}y[n]=N;break;default:N=[][cW](C[n]);I=[][cW](h[n]);z[n]=[];a=M.paper.customAttributes[n].length;while(a--){z[n][a]=((N[a]||0)-(I[a]||0))/p}break}}}}var q=C.easing,e=cw.easing_formulas[q];if(!e){e=bY(q).match(c3);if(e&&e.length==5){var w=e;e=function(P){return a3(P,+w[1],+w[2],+w[3],+w[4],p)}}else{e=cV}}l=C.start||f.start||+new Date;G={anim:f,percent:O,timestamp:l,start:l+(f.del||0),status:0,initstatus:k||0,stop:false,ms:p,easing:e,from:h,diff:z,to:y,el:M,callback:C.callback,prev:s,next:r,repeat:F||f.times,origin:M.attr(),totalOrigin:L};dl.push(G);if(k&&!j&&!H){G.stop=true;G.start=new Date-p*k;if(dl.length==1){return cY()}}if(H){G.start=new Date-G.ms*k}dl.length==1&&dh(cY)}else{j.initstatus=k;j.start=new Date-j.ms*k}cI("raphael.anim.start."+M.id,M,f)}cw.animation=function(j,k,e,f){if(j instanceof b1){return j}if(cw.is(e,"function")||!e){f=f||e||null;e=null}j=Object(j);k=+k||0;var c={},h,a;for(a in j){if(j[b8](a)&&c6(a)!=a&&c6(a)+"%"!=a){h=true;c[a]=j[a]}}if(!h){return new b1(j,k)}else{e&&(c.easing=e);f&&(c.callback=f);return new b1({100:c},k)}};c0.animate=function(c,a,e,h){var j=this;if(j.removed){h&&h.call(j);return j}var f=c instanceof b1?c:cw.animation(c,a,e,h);cn(f,j,f.percents[0],null,j.attr());return j};c0.setTime=function(c,a){if(c&&a!=null){this.status(c,dd(a,c.ms)/c.ms)}return this};c0.status=function(e,h){var j=[],f=0,a,c;if(h!=null){cn(e,this,-1,dd(h,1));return this}else{a=dl.length;for(;f<a;f++){c=dl[f];if(c.el.id==this.id&&(!e||c.anim==e)){if(e){return c.status}j.push({anim:c.anim,status:c.status})}}if(e){return 0}return j}};c0.pause=function(c){for(var a=0;a<dl.length;a++){if(dl[a].el.id==this.id&&(!c||dl[a].anim==c)){if(cI("raphael.anim.pause."+this.id,this,dl[a].anim)!==false){dl[a].paused=true}}}return this};c0.resume=function(e){for(var a=0;a<dl.length;a++){if(dl[a].el.id==this.id&&(!e||dl[a].anim==e)){var c=dl[a];if(cI("raphael.anim.resume."+this.id,this,c.anim)!==false){delete c.paused;this.status(c.anim,c.status)}}}return this};c0.stop=function(c){for(var a=0;a<dl.length;a++){if(dl[a].el.id==this.id&&(!c||dl[a].anim==c)){if(cI("raphael.anim.stop."+this.id,this,dl[a].anim)!==false){dl.splice(a--,1)}}}return this};function cE(c){for(var a=0;a<dl.length;a++){if(dl[a].el.paper==c){dl.splice(a--,1)}}}cI.on("raphael.remove",cE);cI.on("raphael.clear",cE);c0.toString=function(){return"Rapha\xebl\u2019s object"};var cf=function(a){this.items=[];this.length=0;this.type="set";if(a){for(var e=0,c=a.length;e<c;e++){if(a[e]&&(a[e].constructor==c0.constructor||a[e].constructor==cf)){this[this.items.length]=this.items[this.items.length]=a[e];this.length++}}}},a8=cf.prototype;a8.push=function(){var e,a;for(var f=0,c=arguments.length;f<c;f++){e=arguments[f];if(e&&(e.constructor==c0.constructor||e.constructor==cf)){a=this.items.length;this[a]=this.items[a]=e;this.length++}}return this};a8.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a8.forEach=function(e,a){for(var f=0,c=this.items.length;f<c;f++){if(e.call(a,this.items[f],f)===false){return this}}return this};for(var dQ in c0){if(c0[b8](dQ)){a8[dQ]=(function(a){return function(){var c=arguments;return this.forEach(function(e){e[a][ce](e,c)})}})(dQ)}}a8.attr=function(j,c){if(j&&cw.is(j,bO)&&cw.is(j[0],"object")){for(var a=0,e=j.length;a<e;a++){this.items[a].attr(j[a])}}else{for(var f=0,h=this.items.length;f<h;f++){this.items[f].attr(j,c)}}return this};a8.clear=function(){while(this.length){this.pop()}};a8.splice=function(k,j,f){k=k<0?de(this.length+k,0):k;j=de(0,dd(this.length-k,j));var h=[],a=[],l=[],e;for(e=2;e<arguments.length;e++){l.push(arguments[e])}for(e=0;e<j;e++){a.push(this[k+e])}for(;e<this.length-k;e++){h.push(this[k+e])}var c=l.length;for(e=0;e<c+h.length;e++){this.items[k+e]=this[k+e]=e<c?l[e]:h[e-c]}e=this.items.length=this.length-=j-c;while(this[e]){delete this[e++]}return new cf(a)};a8.exclude=function(c){for(var a=0,e=this.length;a<e;a++){if(this[a]==c){this.splice(a,1);return true}}};a8.animate=function(k,m,j,c){(cw.is(j,"function")||!j)&&(c=j||null);var e=this.items.length,n=e,a,h=this,f;if(!e){return this}c&&(f=function(){!--e&&c.call(h)});j=cw.is(j,b4)?j:f;var l=cw.animation(k,m,j,f);a=this.items[--n].animate(l);while(n--){this.items[n]&&!this.items[n].removed&&this.items[n].animateWith(a,l,l);(this.items[n]&&!this.items[n].removed)||e--}return this};a8.insertAfter=function(c){var a=this.items.length;while(a--){this.items[a].insertAfter(c)}return this};a8.getBBox=function(){var a=[],c=[],j=[],h=[];for(var f=this.items.length;f--;){if(!this.items[f].removed){var e=this.items[f].getBBox();a.push(e.x);c.push(e.y);j.push(e.x+e.width);h.push(e.y+e.height)}}a=dd[ce](0,a);c=dd[ce](0,c);j=de[ce](0,j);h=de[ce](0,h);return{x:a,y:c,x2:j,y2:h,width:j-a,height:h-c}};a8.clone=function(c){c=this.paper.set();for(var a=0,e=this.items.length;a<e;a++){c.push(this.items[a].clone())}return c};a8.toString=function(){return"Rapha\xebl\u2018s set"};a8.glow=function(c){var a=this.paper.set();this.forEach(function(e,h){var f=e.glow(c);if(f!=null){f.forEach(function(k,j){a.push(k)})}});return a};a8.isPointInside=function(a,c){var e=false;this.forEach(function(f){if(f.isPointInside(a,c)){e=true;return false}});return e};cw.registerFont=function(k){if(!k.face){return k}this.fonts=this.fonts||{};var e={w:k.w,face:{},glyphs:{}},h=k.face["font-family"];for(var c in k.face){if(k.face[b8](c)){e.face[c]=k.face[c]}}if(this.fonts[h]){this.fonts[h].push(e)}else{this.fonts[h]=[e]}if(!k.svg){e.face["units-per-em"]=da(k.face["units-per-em"],10);for(var j in k.glyphs){if(k.glyphs[b8](j)){var f=k.glyphs[j];e.glyphs[j]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(l){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[l]||"M"})+"z"};if(f.k){for(var a in f.k){if(f[b8](a)){e.glyphs[j].k[a]=f.k[a]}}}}}}return k};c2.getFont=function(f,c,l,n){n=n||"normal";l=l||"normal";c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400;if(!cw.fonts){return}var h=cw.fonts[f];if(!h){var k=new RegExp("(^|\\s)"+f.replace(/[^\w\d\s+!~.:_-]/g,co)+"(\\s|$)","i");for(var m in cw.fonts){if(cw.fonts[b8](m)){if(k.test(m)){h=cw.fonts[m];break}}}}var e;if(h){for(var j=0,a=h.length;j<a;j++){e=h[j];if(e.face["font-weight"]==c&&(e.face["font-style"]==l||!e.face["font-style"])&&e.face["font-stretch"]==n){break}}}return e};c2.print=function(w,x,A,s,q,f,y,z){f=f||"middle";y=de(dd(y||0,1),-1);z=de(dd(z||1,3),1);var h=bY(A)[bX](co),l=0,j=0,n=co,e;cw.is(s,"string")&&(s=this.getFont(s));if(s){e=(q||16)/s.face["units-per-em"];var c=s.face.bbox[bX](b9),u=+c[0],p=c[3]-c[1],a=0,r=+c[1]+(f=="baseline"?p+(+s.face.descent):p/2);for(var m=0,v=h.length;m<v;m++){if(h[m]=="\n"){l=0;k=0;j=0;a+=p*z}else{var o=j&&s.glyphs[h[m-1]]||{},k=s.glyphs[h[m]];l+=j?(o.w||s.w)+(o.k&&o.k[h[m]]||0)+(s.w*y):0;j=1}if(k&&k.d){n+=cw.transformPath(k.d,["t",l*e,a*e,"s",e,e,u,r,"t",(w-u)/e,(x-r)/e])}}}return this.path(n).attr({fill:"#000",stroke:"none"})};c2.add=function(f){if(cw.is(f,"array")){var e=this.set(),h=0,c=f.length,a;for(;h<c;h++){a=f[h]||{};cX[b8](a.type)&&e.push(this[a.type]().attr(a))}}return e};cw.format=function(e,c){var a=cw.is(c,bO)?[0][cW](c):arguments;e&&cw.is(e,b4)&&a.length-1&&(e=e.replace(ch,function(f,h){return a[++h]==null?co:a[h]}));return e||co};cw.fullfill=(function(){var c=/\{([^\}]+)\}/g,a=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,e=function(j,k,h){var f=h;k.replace(a,function(n,o,p,l,m){o=o||l;if(f){if(o in f){f=f[o]}typeof f=="function"&&m&&(f=f())}});f=(f==null||f==h?j:f)+"";return f};return function(h,f){return String(h).replace(c,function(j,k){return e(j,k,f)})}})();cw.ninja=function(){dR.was?(i.win.Raphael=dR.is):delete Raphael;return cw};cw.st=a8;(function(c,f,e){if(c.readyState==null&&c.addEventListener){c.addEventListener(f,e=function(){c.removeEventListener(f,e,false);c.readyState="complete"},false);c.readyState="loading"}function a(){(/in/).test(c.readyState)?setTimeout(a,9):cw.eve("raphael.DOMload")}a()})(document,"DOMContentLoaded");cI.on("raphael.DOMload",function(){cD=true});(function(){if(!cw.svg){return}var D="hasOwnProperty",a=String,u=parseFloat,q=parseInt,C=Math,A=C.max,o=C.abs,z=C.pow,B=/[, ]+/,e=cw.eve,p="",x=" ";var s="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};cw.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var y=function(I,K){if(K){if(typeof I=="string"){I=y(I)}for(var J in K){if(K[D](J)){if(J.substring(0,6)=="xlink:"){I.setAttributeNS(s,J.substring(6),a(K[J]))}else{I.setAttribute(J,a(K[J]))}}}}else{I=cw._g.doc.createElementNS("http://www.w3.org/2000/svg",I);I.style&&(I.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return I},H=function(Z,U){var W="linear",P=Z.id+U,J=0.5,L=0.5,N=Z.node,Y=Z.paper,Q=N.style,O=cw._g.doc.getElementById(P);if(!O){U=a(U).replace(cw._radial_gradient,function(ab,ad,aa){W="radial";if(ad&&aa){J=u(ad);L=u(aa);var ac=((L>0.5)*2-1);z(J-0.5,2)+z(L-0.5,2)>0.25&&(L=C.sqrt(0.25-z(J-0.5,2))*ac+0.5)&&L!=0.5&&(L=L.toFixed(5)-0.00001*ac)}return p});U=U.split(/\s*\-\s*/);if(W=="linear"){var K=U.shift();K=-u(K);if(isNaN(K)){return null}var M=[0,0,C.cos(cw.rad(K)),C.sin(cw.rad(K))],V=1/(A(o(M[2]),o(M[3]))||1);M[2]*=V;M[3]*=V;if(M[2]<0){M[0]=-M[2];M[2]=0}if(M[3]<0){M[1]=-M[3];M[3]=0}}var X=cw._parseDots(U);if(!X){return null}P=P.replace(/[\(\)\s,\xb0#]/g,"_");if(Z.gradient&&P!=Z.gradient.id){Y.defs.removeChild(Z.gradient);delete Z.gradient}if(!Z.gradient){O=y(W+"Gradient",{id:P});Z.gradient=O;y(O,W=="radial"?{fx:J,fy:L}:{x1:M[0],y1:M[1],x2:M[2],y2:M[3],gradientTransform:Z.matrix.invert()});Y.defs.appendChild(O);for(var I=0,T=X.length;I<T;I++){O.appendChild(y("stop",{offset:X[I].offset?X[I].offset:I?"100%":"0%","stop-color":X[I].color||"#fff"}))}}}y(N,{fill:"url(#"+P+")",opacity:1,"fill-opacity":1});Q.fill=p;Q.opacity=1;Q.fillOpacity=1;return 1},G=function(I){var J=I.getBBox(1);y(I.pattern,{patternTransform:I.matrix.invert()+" translate("+J.x+","+J.y+")"})},F=function(Y,W,ae){if(Y.type=="path"){var ad=a(W).toLowerCase().split("-"),Z=Y.paper,I=ae?"end":"start",U=Y.node,X=Y.attrs,af=X["stroke-width"],O=ad.length,ah="classic",P,ai,ab,T,V,ac=3,N=3,aa=5;while(O--){switch(ad[O]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":ah=ad[O];break;case"wide":N=5;break;case"narrow":N=2;break;case"long":ac=5;break;case"short":ac=2;break}}if(ah=="open"){ac+=2;N+=2;aa+=2;ab=1;T=ae?4:1;V={fill:"none",stroke:X.stroke}}else{T=ab=ac/2;V={fill:X.stroke,stroke:"none"}}if(Y._.arrows){if(ae){Y._.arrows.endPath&&m[Y._.arrows.endPath]--;Y._.arrows.endMarker&&m[Y._.arrows.endMarker]--}else{Y._.arrows.startPath&&m[Y._.arrows.startPath]--;Y._.arrows.startMarker&&m[Y._.arrows.startMarker]--}}else{Y._.arrows={}}if(ah!="none"){var M="raphael-marker-"+ah,J="raphael-marker-"+I+ah+ac+N;if(!cw._g.doc.getElementById(M)){Z.defs.appendChild(y(y("path"),{"stroke-linecap":"round",d:f[ah],id:M}));m[M]=1}else{m[M]++}var ag=cw._g.doc.getElementById(J),Q;if(!ag){ag=y(y("marker"),{id:J,markerHeight:N,markerWidth:ac,orient:"auto",refX:T,refY:N/2});Q=y(y("use"),{"xlink:href":"#"+M,transform:(ae?"rotate(180 "+ac/2+" "+N/2+") ":p)+"scale("+ac/aa+","+N/aa+")","stroke-width":(1/((ac/aa+N/aa)/2)).toFixed(4)});ag.appendChild(Q);Z.defs.appendChild(ag);m[J]=1}else{m[J]++;Q=ag.getElementsByTagName("use")[0]}y(Q,V);var K=ab*(ah!="diamond"&&ah!="oval");if(ae){P=Y._.arrows.startdx*af||0;ai=cw.getTotalLength(X.path)-K*af}else{P=K*af;ai=cw.getTotalLength(X.path)-(Y._.arrows.enddx*af||0)}V={};V["marker-"+I]="url(#"+J+")";if(ai||P){V.d=cw.getSubpath(X.path,P,ai)}y(U,V);Y._.arrows[I+"Path"]=M;Y._.arrows[I+"Marker"]=J;Y._.arrows[I+"dx"]=K;Y._.arrows[I+"Type"]=ah;Y._.arrows[I+"String"]=W}else{if(ae){P=Y._.arrows.startdx*af||0;ai=cw.getTotalLength(X.path)-P}else{P=0;ai=cw.getTotalLength(X.path)-(Y._.arrows.enddx*af||0)}Y._.arrows[I+"Path"]&&y(U,{d:cw.getSubpath(X.path,P,ai)});delete Y._.arrows[I+"Path"];delete Y._.arrows[I+"Marker"];delete Y._.arrows[I+"dx"];delete Y._.arrows[I+"Type"];delete Y._.arrows[I+"String"]}for(V in m){if(m[D](V)&&!m[V]){var L=cw._g.doc.getElementById(V);L&&L.parentNode.removeChild(L)}}}},l={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(L,N,M){N=l[a(N).toLowerCase()];if(N){var I=L.attrs["stroke-width"]||"1",K={round:I,square:I,butt:0}[L.attrs["stroke-linecap"]||M["stroke-linecap"]]||0,O=[],J=N.length;while(J--){O[J]=N[J]*I+((J%2)?1:-1)*K}y(L.node,{"stroke-dasharray":O.join(",")})}},k=function(Y,L){var U=Y.node,X=Y.attrs,aa=U.style.visibility;U.style.visibility="hidden";for(var V in L){if(L[D](V)){if(!cw._availableAttrs[D](V)){continue}var W=L[V];X[V]=W;switch(V){case"blur":Y.blur(W);break;case"title":var J=U.getElementsByTagName("title");if(J.length&&(J=J[0])){J.firstChild.nodeValue=W}else{J=y("title");var I=cw._g.doc.createTextNode(W);J.appendChild(I);U.appendChild(J)}break;case"href":case"target":var Q=U.parentNode;if(Q.tagName.toLowerCase()!="a"){var ah=y("a");Q.insertBefore(ah,U);ah.appendChild(U);Q=ah}if(V=="target"){Q.setAttributeNS(s,"show",W=="blank"?"new":W)}else{Q.setAttributeNS(s,V,W)}break;case"cursor":U.style.cursor=W;break;case"transform":Y.transform(W);break;case"arrow-start":F(Y,W);break;case"arrow-end":F(Y,W,1);break;case"clip-rect":var O=a(W).split(B);if(O.length==4){Y.clip&&Y.clip.parentNode.parentNode.removeChild(Y.clip.parentNode);var aj=y("clipPath"),T=y("rect");aj.id=cw.createUUID();y(T,{x:O[0],y:O[1],width:O[2],height:O[3]});aj.appendChild(T);Y.paper.defs.appendChild(aj);y(U,{"clip-path":"url(#"+aj.id+")"});Y.clip=T}if(!W){var Z=U.getAttribute("clip-path");if(Z){var M=cw._g.doc.getElementById(Z.replace(/(^url\(#|\)$)/g,p));M&&M.parentNode.removeChild(M);y(U,{"clip-path":p});delete Y.clip}}break;case"path":if(Y.type=="path"){y(U,{d:W?X.path=cw._pathToAbsolute(W):"M0,0"});Y._.dirty=1;if(Y._.arrows){"startString" in Y._.arrows&&F(Y,Y._.arrows.startString);"endString" in Y._.arrows&&F(Y,Y._.arrows.endString,1)}}break;case"width":U.setAttribute(V,W);Y._.dirty=1;if(X.fx){V="x";W=X.x}else{break}case"x":if(X.fx){W=-X.x-(X.width||0)}case"rx":if(V=="rx"&&Y.type=="rect"){break}case"cx":U.setAttribute(V,W);Y.pattern&&G(Y);Y._.dirty=1;break;case"height":U.setAttribute(V,W);Y._.dirty=1;if(X.fy){V="y";W=X.y}else{break}case"y":if(X.fy){W=-X.y-(X.height||0)}case"ry":if(V=="ry"&&Y.type=="rect"){break}case"cy":U.setAttribute(V,W);Y.pattern&&G(Y);Y._.dirty=1;break;case"r":if(Y.type=="rect"){y(U,{rx:W,ry:W})}else{U.setAttribute(V,W)}Y._.dirty=1;break;case"src":if(Y.type=="image"){U.setAttributeNS(s,"href",W)}break;case"stroke-width":if(Y._.sx!=1||Y._.sy!=1){W/=A(o(Y._.sx),o(Y._.sy))||1}if(Y.paper._vbSize){W*=Y.paper._vbSize}U.setAttribute(V,W);if(X["stroke-dasharray"]){w(Y,X["stroke-dasharray"],L)}if(Y._.arrows){"startString" in Y._.arrows&&F(Y,Y._.arrows.startString);"endString" in Y._.arrows&&F(Y,Y._.arrows.endString,1)}break;case"stroke-dasharray":w(Y,W,L);break;case"fill":var ag=a(W).match(cw._ISURL);if(ag){var N=0;var P=0;var ad=0;var K=0;if(ag.length>2&&ag[2]!=""){offsetValues=ag[2].split(",");ol=offsetValues.length;N=ol>0?parseFloat(offsetValues[0]):0;P=ol>1?parseFloat(offsetValues[1]):0;ad=ol>2?parseFloat(offsetValues[2]):0;K=ol>3?parseFloat(offsetValues[3]):0}aj=y("pattern");var ab=y("image");aj.id=cw.createUUID(),y(aj,{x:N,y:P,patternUnits:"userSpaceOnUse",height:1,width:1}),y(ab,{x:0,y:0,"xlink:href":ag[1]}),aj.appendChild(ab),function(ak){cw._preload(ag[1],function(){var al=(ad==0?this.offsetWidth:ad),am=(K==0?this.offsetHeight:ad);y(ak,{width:al,height:am}),y(ab,{width:al,height:am}),Y.paper.safari()})}(aj),Y.paper.defs.appendChild(aj),y(U,{fill:"url(#"+aj.id+")"}),Y.pattern=aj,Y.pattern&&G(Y);break}var ai=cw.getRGB(W);if(!ai.error){delete L.gradient;delete X.gradient;!cw.is(X.opacity,"undefined")&&cw.is(L.opacity,"undefined")&&y(U,{opacity:X.opacity});!cw.is(X["fill-opacity"],"undefined")&&cw.is(L["fill-opacity"],"undefined")&&y(U,{"fill-opacity":X["fill-opacity"]})}else{if((Y.type=="circle"||Y.type=="ellipse"||a(W).charAt()!="r")&&H(Y,W)){if("opacity" in X||"fill-opacity" in X){var af=cw._g.doc.getElementById(U.getAttribute("fill").replace(/^url\(#|\)$/g,p));if(af){var ae=af.getElementsByTagName("stop");y(ae[ae.length-1],{"stop-opacity":("opacity" in X?X.opacity:1)*("fill-opacity" in X?X["fill-opacity"]:1)})}}X.gradient=W;X.fill="none";break}}ai[D]("opacity")&&y(U,{"fill-opacity":ai.opacity>1?ai.opacity/100:ai.opacity});case"stroke":ai=cw.getRGB(W);U.setAttribute(V,ai.hex);V=="stroke"&&ai[D]("opacity")&&y(U,{"stroke-opacity":ai.opacity>1?ai.opacity/100:ai.opacity});if(V=="stroke"&&Y._.arrows){"startString" in Y._.arrows&&F(Y,Y._.arrows.startString);"endString" in Y._.arrows&&F(Y,Y._.arrows.endString,1)}break;case"gradient":(Y.type=="circle"||Y.type=="ellipse"||a(W).charAt()!="r")&&H(Y,W);break;case"opacity":if(X.gradient&&!X[D]("stroke-opacity")){y(U,{"stroke-opacity":W>1?W/100:W})}case"fill-opacity":if(X.gradient){af=cw._g.doc.getElementById(U.getAttribute("fill").replace(/^url\(#|\)$/g,p));if(af){ae=af.getElementsByTagName("stop");y(ae[ae.length-1],{"stop-opacity":W})}break}default:V=="font-size"&&(W=q(W,10)+"px");var ac=V.replace(/(\-.)/g,function(ak){return ak.substring(1).toUpperCase()});U.style[ac]=W;Y._.dirty=1;U.setAttribute(V,W);break}}}r(Y,L);U.style.visibility=aa},c=1.2,r=function(U,M){if(U.type!="text"||!(M[D]("text")||M[D]("font")||M[D]("font-size")||M[D]("x")||M[D]("y"))){return}var V=U.attrs,O=U.node,Q=O.firstChild?q(cw._g.doc.defaultView.getComputedStyle(O.firstChild,p).getPropertyValue("font-size"),10):10;if(M[D]("text")){V.text=M.text;while(O.firstChild){O.removeChild(O.firstChild)}var N=a(M.text).split("\n"),P=[],J;for(var L=0,T=N.length;L<T;L++){J=y("tspan");L&&y(J,{dy:Q*c,x:V.x});J.appendChild(cw._g.doc.createTextNode(N[L]));O.appendChild(J);P[L]=J}}else{P=O.getElementsByTagName("tspan");for(L=0,T=P.length;L<T;L++){if(L){y(P[L],{dy:Q*c,x:V.x})}else{y(P[0],{dy:0})}}}y(O,{x:V.x,y:V.y});U._.dirty=1;var K=U._getBBox(),I=V.y-(K.y+K.height/2);I&&cw.is(I,"finite")&&y(P[0],{dy:I})},n=function(J,K){var L=0,I=0;this[0]=this.node=J;J.raphael=true;this.id=cw._oid++;J.raphaelid=this.id;this.matrix=cw.matrix();this.realPath=null;this.paper=K;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!K.bottom&&(K.bottom=this);this.prev=K.top;K.top&&(K.top.next=this);K.top=this;this.next=null},v=cw.el;n.prototype=v;v.constructor=n;cw._engine.path=function(K,L){var J=y("path");L.canvas&&L.canvas.appendChild(J);var I=new n(J,L);I.type="path";k(I,{fill:"none",stroke:"#000",path:K});return I};v.rotate=function(J,K,L){if(this.removed){return this}J=a(J).split(B);if(J.length-1){K=u(J[1]);L=u(J[2])}J=u(J[0]);(L==null)&&(K=L);if(K==null||L==null){var I=this.getBBox(1);K=I.x+I.width/2;L=I.y+I.height/2}this.transform(this._.transform.concat([["r",J,K,L]]));return this};v.scale=function(L,I,K,M){if(this.removed){return this}L=a(L).split(B);if(L.length-1){I=u(L[1]);K=u(L[2]);M=u(L[3])}L=u(L[0]);(I==null)&&(I=L);(M==null)&&(K=M);if(K==null||M==null){var J=this.getBBox(1)}K=K==null?J.x+J.width/2:K;M=M==null?J.y+J.height/2:M;this.transform(this._.transform.concat([["s",L,I,K,M]]));return this};v.translate=function(I,J){if(this.removed){return this}I=a(I).split(B);if(I.length-1){J=u(I[1])}I=u(I[0])||0;J=+J||0;this.transform(this._.transform.concat([["t",I,J]]));return this};v.transform=function(J){var I=this._;if(J==null){return I.transform}cw._extractTransform(this,J);this.clip&&y(this.clip,{transform:this.matrix.invert()});this.pattern&&G(this);this.node&&y(this.node,{transform:this.matrix});if(I.sx!=1||I.sy!=1){var K=this.attrs[D]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":K})}return this};v.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};v.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};v.remove=function(){if(this.removed||!this.node.parentNode){return}var I=this.paper;I.__set__&&I.__set__.exclude(this);e.unbind("raphael.*.*."+this.id);if(this.gradient){I.defs.removeChild(this.gradient)}cw._tear(this,I);if(this.node.parentNode.tagName.toLowerCase()=="a"){this.node.parentNode.parentNode.removeChild(this.node.parentNode)}else{this.node.parentNode.removeChild(this.node)}for(var J in this){this[J]=typeof this[J]=="function"?cw._removedFactory(J):null}this.removed=true};v._getBBox=function(){if(this.node.style.display=="none"){this.show();var K=true}var I={};try{I=this.node.getBBox()}catch(J){}finally{I=I||{}}K&&this.hide();return I};v.attr=function(U,V){if(this.removed){return this}if(U==null){var K={};for(var I in this.attrs){if(this.attrs[D](I)){K[I]=this.attrs[I]}}K.gradient&&K.fill=="none"&&(K.fill=K.gradient)&&delete K.gradient;K.transform=this._.transform;return K}if(V==null&&cw.is(U,"string")){if(U=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}if(U=="transform"){return this._.transform}var J=U.split(B),N={};for(var M=0,Q=J.length;M<Q;M++){U=J[M];if(U in this.attrs){N[U]=this.attrs[U]}else{if(cw.is(this.paper.customAttributes[U],"function")){N[U]=this.paper.customAttributes[U].def}else{N[U]=cw._availableAttrs[U]}}}return Q-1?N:N[J[0]]}if(V==null&&cw.is(U,"array")){N={};for(M=0,Q=U.length;M<Q;M++){N[U[M]]=this.attr(U[M])}return N}if(V!=null){var P={};P[U]=V}else{if(U!=null&&cw.is(U,"object")){P=U}}for(var T in P){e("raphael.attr."+T+"."+this.id,this,P[T])}for(T in this.paper.customAttributes){if(this.paper.customAttributes[D](T)&&P[D](T)&&cw.is(this.paper.customAttributes[T],"function")){var L=this.paper.customAttributes[T].apply(this,[].concat(P[T]));this.attrs[T]=P[T];for(var O in L){if(L[D](O)){P[O]=L[O]}}}}k(this,P);return this};v.toFront=function(){if(this.removed){return this}if(this.node.parentNode.tagName.toLowerCase()=="a"){this.node.parentNode.parentNode.appendChild(this.node.parentNode)}else{this.node.parentNode.appendChild(this.node)}var I=this.paper;I.top!=this&&cw._tofront(this,I);return this};v.toBack=function(){if(this.removed){return this}var I=this.node.parentNode;if(I.tagName.toLowerCase()=="a"){I.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild)}else{if(I.firstChild!=this.node){I.insertBefore(this.node,this.node.parentNode.firstChild)}}cw._toback(this,this.paper);var J=this.paper;return this};v.insertAfter=function(J){if(this.removed){return this}var I=J.node||J[J.length-1].node;if(I.nextSibling){I.parentNode.insertBefore(this.node,I.nextSibling)}else{I.parentNode.appendChild(this.node)}cw._insertafter(this,J,this.paper);return this};v.insertBefore=function(J){if(this.removed){return this}var I=J.node||J[0].node;I.parentNode.insertBefore(this.node,I);cw._insertbefore(this,J,this.paper);return this};v.blur=function(J){var K=this;if(+J!==0){var I=y("filter"),L=y("feGaussianBlur");K.attrs.blur=J;I.id=cw.createUUID();y(L,{stdDeviation:+J||1.5});I.appendChild(L);K.paper.defs.appendChild(I);K._blur=I;y(K.node,{filter:"url(#"+I.id+")"})}else{if(K._blur){K._blur.parentNode.removeChild(K._blur);delete K._blur;delete K.attrs.blur}K.node.removeAttribute("filter")}return K};cw._engine.circle=function(J,K,L,M){var N=y("circle");J.canvas&&J.canvas.appendChild(N);var I=new n(N,J);I.attrs={cx:K,cy:L,r:M,fill:"none",stroke:"#000"};I.type="circle";y(N,I.attrs);return I};cw._engine.rect=function(I,M,K,J,N,L){var O=y("rect");I.canvas&&I.canvas.appendChild(O);var P=new n(O,I);P.attrs={x:M,y:K,width:J,height:N,r:L||0,rx:L||0,ry:L||0,fill:"none",stroke:"#000"};P.type="rect";y(O,P.attrs);return P};cw._engine.ellipse=function(J,L,K,M,N){var O=y("ellipse");J.canvas&&J.canvas.appendChild(O);var I=new n(O,J);I.attrs={cx:L,cy:K,rx:M,ry:N,fill:"none",stroke:"#000"};I.type="ellipse";y(O,I.attrs);return I};cw._engine.image=function(I,M,L,K,J,N){var O=y("image");y(O,{x:L,y:K,width:J,height:N,preserveAspectRatio:"none"});O.setAttributeNS(s,"href",M);I.canvas&&I.canvas.appendChild(O);var P=new n(O,I);P.attrs={x:L,y:K,width:J,height:N,src:M};P.type="image";return P};cw._engine.text=function(J,K,L,M){var N=y("text");J.canvas&&J.canvas.appendChild(N);var I=new n(N,J);I.attrs={x:K,y:L,"text-anchor":"middle",text:M,font:cw._availableAttrs.font,stroke:"none",fill:"#000"};I.type="text";k(I,I.attrs);return I};cw._engine.setSize=function(I,J){this.width=I||this.width;this.height=J||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);if(this._viewBox){this.setViewBox.apply(this,this._viewBox)}return this};cw._engine.create=function(){var N=cw._getContainer.apply(0,arguments),P=N&&N.container,J=N.x,K=N.y,O=N.width,I=N.height;if(!P){throw new Error("SVG container not found.")}var Q=y("svg"),L="overflow:hidden;",M;J=J||0;K=K||0;O=O||512;I=I||342;y(Q,{height:I,version:1.1,width:O,xmlns:"http://www.w3.org/2000/svg"});if(P==1){Q.style.cssText=L+"position:absolute;left:"+J+"px;top:"+K+"px";cw._g.doc.body.appendChild(Q);M=1}else{Q.style.cssText=L+"position:relative";if(P.firstChild){P.insertBefore(Q,P.firstChild)}else{P.appendChild(Q)}}P=new cw._Paper;P.width=O;P.height=I;P.canvas=Q;P.clear();P._left=P._top=0;M&&(P.renderfix=function(){});P.renderfix();return P};cw._engine.setViewBox=function(L,N,J,Q,P){e("raphael.setViewBox",this,this._viewBox,[L,N,J,Q,P]);var T=A(J/this.width,Q/this.height),M=this.top,I=P?"xMidYMid meet":"xMinYMin",O,K;if(L==null){if(this._vbSize){T=1}delete this._vbSize;O="0 0 "+this.width+x+this.height}else{this._vbSize=T;O=L+x+N+x+J+x+Q}y(this.canvas,{viewBox:O,preserveAspectRatio:I});while(T&&M){K="stroke-width" in M.attrs?M.attrs["stroke-width"]:1;M.attr({"stroke-width":K});M._.dirty=1;M._.dirtyT=1;M=M.prev}this._viewBox=[L,N,J,Q,!!P];return this};cw.prototype.renderfix=function(){var L=this.canvas,K=L.style,M;try{M=L.getScreenCTM()||L.createSVGMatrix()}catch(N){M=L.createSVGMatrix()}var I=-M.e%1,J=-M.f%1;if(I||J){if(I){this._left=(this._left+I)%1;K.left=this._left+"px"}if(J){this._top=(this._top+J)%1;K.top=this._top+"px"}}};cw.prototype.clear=function(){cw.eve("raphael.clear",this);var I=this.canvas;while(I.firstChild){I.removeChild(I.firstChild)}this.bottom=this.top=null;(this.desc=y("desc")).appendChild(cw._g.doc.createTextNode("Created with Rapha\xebl "+cw.version));I.appendChild(this.desc);I.appendChild(this.defs=y("defs"))};cw.prototype.remove=function(){e("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var I in this){this[I]=typeof this[I]=="function"?cw._removedFactory(I):null}};var h=cw.st;for(var j in v){if(v[D](j)&&!h[D](j)){h[j]=(function(I){return function(){var J=arguments;return this.forEach(function(K){K[I].apply(K,J)})}})(j)}}})();(function(){if(!cw.vml){return}var k="hasOwnProperty",B=String,u=parseFloat,F=Math,a=F.round,v=F.max,G=F.min,o=F.abs,l="fill",C=/[, ]+/,c=cw.eve,j=" progid:DXImageTransform.Microsoft",z=" ",q="",D={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},A=/([clmz]),?([^clmz]*)/gi,n=/ progid:\S+Blur\([^\)]+\)/g,x=/-?[^,\s-]+/g,J="position:absolute;left:0;top:0;width:1px;height:1px",L=21600,e={path:1,rect:1,image:1},p={circle:1,ellipse:1},I=function(Q){var V=/[ahqstv]/ig,O=cw._pathToAbsolute;B(Q).match(V)&&(O=cw._path2curve);V=/[clmz]/g;if(O==cw._pathToAbsolute&&!B(Q).match(V)){var W=B(Q).replace(A,function(ac,aa,ae){var ab=[],af=aa.toLowerCase()=="m",ad=D[aa];ae.replace(x,function(ag){if(af&&ab.length==2){ad+=ab+D[aa=="m"?"l":"L"];ab=[]}ab.push(a(ag*L))});return ad+ab});return W}var U=O(Q),P,Y;W=[];for(var Z=0,T=U.length;Z<T;Z++){P=U[Z];Y=U[Z][0].toLowerCase();Y=="z"&&(Y="x");for(var N=1,X=P.length;N<X;N++){Y+=a(P[N]*L)+(N!=X-1?",":q)}W.push(Y)}return W.join(z)},s=function(O,P,N){var Q=cw.matrix();Q.rotate(-O,0.5,0.5);return{dx:Q.x(P,N),dy:Q.y(P,N)}},r=function(Y,Z,aa,ad,ae,ac){var N=Y._,W=Y.matrix,ag=N.fillpos,X=Y.node,ab=X.style,af=1,Q="",U,P=L/Z,T=L/aa;ab.visibility="hidden";if(!Z||!aa){return}X.coordsize=o(P)+z+o(T);ab.rotation=ac*(Z*aa<0?-1:1);if(ac){var O=s(ac,ad,ae);ad=O.dx;ae=O.dy}Z<0&&(Q+="x");aa<0&&(Q+=" y")&&(af=-1);ab.flip=Q;X.coordorigin=(ad*-P)+z+(ae*-T);if(ag||N.fillsize){var V=X.getElementsByTagName(l);V=V&&V[0];X.removeChild(V);if(ag){O=s(ac,W.x(ag[0],ag[1]),W.y(ag[0],ag[1]));V.position=O.dx*af+z+O.dy*af}if(N.fillsize){V.size=N.fillsize[0]*o(Z)+z+N.fillsize[1]*o(aa)}X.appendChild(V)}ab.visibility="visible"};cw.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var K=function(X,V,P){var T=B(V).toLowerCase().split("-"),Y=P?"end":"start",O=T.length,W="classic",U="medium",N="medium";while(O--){switch(T[O]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":W=T[O];break;case"wide":case"narrow":N=T[O];break;case"long":case"short":U=T[O];break}}var Q=X.node.getElementsByTagName("stroke")[0];Q[Y+"arrow"]=W;Q[Y+"arrowlength"]=U;Q[Y+"arrowwidth"]=N},h=function(aa,Y){aa.attrs=aa.attrs||{};var ai=aa.node,Q=aa.attrs,aj=ai.style,ap,ab=e[aa.type]&&(Y.x!=Q.x||Y.y!=Q.y||Y.width!=Q.width||Y.height!=Q.height||Y.cx!=Q.cx||Y.cy!=Q.cy||Y.rx!=Q.rx||Y.ry!=Q.ry||Y.r!=Q.r),ac=p[aa.type]&&(Q.cx!=Y.cx||Q.cy!=Y.cy||Q.r!=Y.r||Q.rx!=Y.rx||Q.ry!=Y.ry),N=aa;for(var ah in Y){if(Y[k](ah)){Q[ah]=Y[ah]}}if(ab){Q.path=cw._getPath[aa.type](aa);aa._.dirty=1}Y.href&&(ai.href=Y.href);Y.title&&(ai.title=Y.title);Y.target&&(ai.target=Y.target);Y.cursor&&(aj.cursor=Y.cursor);"blur" in Y&&aa.blur(Y.blur);if(Y.path&&aa.type=="path"||ab){ai.path=I(~B(Q.path).toLowerCase().indexOf("r")?cw._pathToAbsolute(Q.path):Q.path);if(aa.type=="image"){aa._.fillpos=[Q.x,Q.y];aa._.fillsize=[Q.width,Q.height];r(aa,1,1,0,0,0)}}"transform" in Y&&aa.transform(Y.transform);if(ac){var av=+Q.cx,ax=+Q.cy,aq=+Q.rx||+Q.r||0,ar=+Q.ry||+Q.r||0;ai.path=cw.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((av-aq)*L),a((ax-ar)*L),a((av+aq)*L),a((ax+ar)*L),a(av*L));aa._.dirty=1}if("clip-rect" in Y){var af=B(Y["clip-rect"]).split(C);if(af.length==4){af[2]=+af[2]+(+af[0]);af[3]=+af[3]+(+af[1]);var ae=ai.clipRect||cw._g.doc.createElement("div"),O=ae.style;O.clip=cw.format("rect({1}px {2}px {3}px {0}px)",af);if(!ai.clipRect){O.position="absolute";O.top=0;O.left=0;O.width=aa.paper.width+"px";O.height=aa.paper.height+"px";ai.parentNode.insertBefore(ae,ai);ae.appendChild(ai);ai.clipRect=ae}}if(!Y["clip-rect"]){ai.clipRect&&(ai.clipRect.style.clip="auto")}}if(aa.textpath){var V=aa.textpath.style;Y.font&&(V.font=Y.font);Y["font-family"]&&(V.fontFamily='"'+Y["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,q)+'"');Y["font-size"]&&(V.fontSize=Y["font-size"]);Y["font-weight"]&&(V.fontWeight=Y["font-weight"]);Y["font-style"]&&(V.fontStyle=Y["font-style"])}if("arrow-start" in Y){K(N,Y["arrow-start"])}if("arrow-end" in Y){K(N,Y["arrow-end"],1)}if(Y.opacity!=null||Y["stroke-width"]!=null||Y.fill!=null||Y.src!=null||Y.stroke!=null||Y["stroke-width"]!=null||Y["stroke-opacity"]!=null||Y["fill-opacity"]!=null||Y["stroke-dasharray"]!=null||Y["stroke-miterlimit"]!=null||Y["stroke-linejoin"]!=null||Y["stroke-linecap"]!=null){var ag=ai.getElementsByTagName(l),U=false;ag=ag&&ag[0];!ag&&(U=ag=y(l));if(aa.type=="image"&&Y.src){ag.src=Y.src}Y.fill&&(ag.on=true);if(ag.on==null||Y.fill=="none"||Y.fill===null){ag.on=false}if(ag.on&&Y.fill){var at=B(Y.fill).match(cw._ISURL);if(at){ag.parentNode==ai&&ai.removeChild(ag);ag.rotate=true;ag.src=at[1];ag.type="tile";var ay=aa.getBBox(1);ag.position=ay.x+z+ay.y;aa._.fillpos=[ay.x,ay.y];cw._preload(at[1],function(){aa._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{ag.color=cw.getRGB(Y.fill).hex;ag.src=q;ag.type="solid";if(cw.getRGB(Y.fill).error&&(N.type in {circle:1,ellipse:1}||B(Y.fill).charAt()!="r")&&M(N,Y.fill,ag)){Q.fill="none";Q.gradient=Y.fill;ag.rotate=false}}}if("fill-opacity" in Y||"opacity" in Y){var au=((+Q["fill-opacity"]+1||2)-1)*((+Q.opacity+1||2)-1)*((+cw.getRGB(Y.fill).o+1||2)-1);au=G(v(au,0),1);ag.opacity=au;if(ag.src){ag.color="none"}}ai.appendChild(ag);var ao=(ai.getElementsByTagName("stroke")&&ai.getElementsByTagName("stroke")[0]),P=false;!ao&&(P=ao=y("stroke"));if((Y.stroke&&Y.stroke!="none")||Y["stroke-width"]||Y["stroke-opacity"]!=null||Y["stroke-dasharray"]||Y["stroke-miterlimit"]||Y["stroke-linejoin"]||Y["stroke-linecap"]){ao.on=true}(Y.stroke=="none"||Y.stroke===null||ao.on==null||Y.stroke==0||Y["stroke-width"]==0)&&(ao.on=false);var al=cw.getRGB(Y.stroke);ao.on&&Y.stroke&&(ao.color=al.hex);au=((+Q["stroke-opacity"]+1||2)-1)*((+Q.opacity+1||2)-1)*((+al.o+1||2)-1);var X=(u(Y["stroke-width"])||1)*0.75;au=G(v(au,0),1);Y["stroke-width"]==null&&(X=Q["stroke-width"]);Y["stroke-width"]&&(ao.weight=X);X&&X<1&&(au*=X)&&(ao.weight=1);ao.opacity=au;Y["stroke-linejoin"]&&(ao.joinstyle=Y["stroke-linejoin"]||"miter");ao.miterlimit=Y["stroke-miterlimit"]||8;Y["stroke-linecap"]&&(ao.endcap=Y["stroke-linecap"]=="butt"?"flat":Y["stroke-linecap"]=="square"?"square":"round");if("stroke-dasharray" in Y){var an={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};ao.dashstyle=an[k](Y["stroke-dasharray"])?an[Y["stroke-dasharray"]]:q}P&&ai.appendChild(ao)}if(N.type=="text"){N.paper.canvas.style.display=q;var ad=N.paper.span,T=100,aw=Q.font&&Q.font.match(/\d+(?:\.\d*)?(?=px)/);aj=ad.style;Q.font&&(aj.font=Q.font);Q["font-family"]&&(aj.fontFamily=Q["font-family"]);Q["font-weight"]&&(aj.fontWeight=Q["font-weight"]);Q["font-style"]&&(aj.fontStyle=Q["font-style"]);aw=u(Q["font-size"]||aw&&aw[0])||10;aj.fontSize=aw*T+"px";N.textpath.string&&(ad.innerHTML=B(N.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var ak=ad.getBoundingClientRect();N.W=Q.w=(ak.right-ak.left)/T;N.H=Q.h=(ak.bottom-ak.top)/T;N.X=Q.x;N.Y=Q.y+N.H/2;("x" in Y||"y" in Y)&&(N.path.v=cw.format("m{0},{1}l{2},{1}",a(Q.x*L),a(Q.y*L),a(Q.x*L)+1));var am=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var Z=0,W=am.length;Z<W;Z++){if(am[Z] in Y){N._.dirty=1;break}}switch(Q["text-anchor"]){case"start":N.textpath.style["v-text-align"]="left";N.bbx=N.W/2;break;case"end":N.textpath.style["v-text-align"]="right";N.bbx=-N.W/2;break;default:N.textpath.style["v-text-align"]="center";N.bbx=0;break}N.textpath.style["v-text-kern"]=true}},M=function(ab,W,T){ab.attrs=ab.attrs||{};var V=ab.attrs,N=Math.pow,ac,aa,Y="linear",X=".5 .5";ab.attrs.gradient=W;W=B(W).replace(cw._radial_gradient,function(ae,ad,af){Y="radial";if(ad&&af){ad=u(ad);af=u(af);N(ad-0.5,2)+N(af-0.5,2)>0.25&&(af=F.sqrt(0.25-N(ad-0.5,2))*((af>0.5)*2-1)+0.5);X=ad+z+af}return q});W=W.split(/\s*\-\s*/);if(Y=="linear"){var P=W.shift();P=-u(P);if(isNaN(P)){return null}}var Z=cw._parseDots(W);if(!Z){return null}ab=ab.shape||ab.node;if(Z.length){ab.removeChild(T);T.on=true;T.method="none";T.color=Z[0].color;T.color2=Z[Z.length-1].color;var Q=[];for(var O=0,U=Z.length;O<U;O++){Z[O].offset&&Q.push(Z[O].offset+z+Z[O].color)}T.colors=Q.length?Q.join():"0% "+T.color;if(Y=="radial"){T.type="gradientTitle";T.focus="100%";T.focussize="0 0";T.focusposition=X;T.angle=0}else{T.type="gradient";T.angle=(270-P)%360}ab.appendChild(T)}return 1},m=function(N,O){this[0]=this.node=N;N.raphael=true;this.id=cw._oid++;N.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=O;this.matrix=cw.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!O.bottom&&(O.bottom=this);this.prev=O.top;O.top&&(O.top.next=this);O.top=this;this.next=null};var w=cw.el;m.prototype=w;w.constructor=m;w.transform=function(ac){if(ac==null){return this._.transform}var Z=this.paper._viewBoxShift,aa=Z?"s"+[Z.scale,Z.scale]+"-1-1t"+[Z.dx,Z.dy]:q,W;if(Z){W=ac=B(ac).replace(/\.{3}|\u2026/g,this._.transform||q)}cw._extractTransform(this,aa+ac);var V=this.matrix.clone(),T=this.skew,O=this.node,X,N=~B(this.attrs.fill).indexOf("-"),ab=!B(this.attrs.fill).indexOf("url(");V.translate(1,1);if(ab||N||this.type=="image"){T.matrix="1 0 0 1";T.offset="0 0";X=V.split();if((N&&X.noRotation)||!X.isSimple){O.style.filter=V.toFilter();var Y=this.getBBox(),P=this.getBBox(1),Q=Y.x-P.x,U=Y.y-P.y;O.coordorigin=(Q*-L)+z+(U*-L);r(this,1,1,Q,U,0)}else{O.style.filter=q;r(this,X.scalex,X.scaley,X.dx,X.dy,X.rotate)}}else{O.style.filter=q;T.matrix=B(V);T.offset=V.offset()}W&&(this._.transform=W);return this};w.rotate=function(N,Q,O){if(this.removed){return this}if(N==null){return}N=B(N).split(C);if(N.length-1){Q=u(N[1]);O=u(N[2])}N=u(N[0]);(O==null)&&(Q=O);if(Q==null||O==null){var P=this.getBBox(1);Q=P.x+P.width/2;O=P.y+P.height/2}this._.dirtyT=1;this.transform(this._.transform.concat([["r",N,Q,O]]));return this};w.translate=function(N,O){if(this.removed){return this}N=B(N).split(C);if(N.length-1){O=u(N[1])}N=u(N[0])||0;O=+O||0;if(this._.bbox){this._.bbox.x+=N;this._.bbox.y+=O}this.transform(this._.transform.concat([["t",N,O]]));return this};w.scale=function(O,Q,T,P){if(this.removed){return this}O=B(O).split(C);if(O.length-1){Q=u(O[1]);T=u(O[2]);P=u(O[3]);isNaN(T)&&(T=null);isNaN(P)&&(P=null)}O=u(O[0]);(Q==null)&&(Q=O);(P==null)&&(T=P);if(T==null||P==null){var N=this.getBBox(1)}T=T==null?N.x+N.width/2:T;P=P==null?N.y+N.height/2:P;this.transform(this._.transform.concat([["s",O,Q,T,P]]));this._.dirtyT=1;return this};w.hide=function(){!this.removed&&(this.node.style.display="none");return this};w.show=function(){!this.removed&&(this.node.style.display=q);return this};w._getBBox=function(){if(this.removed){return{}}return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};w.remove=function(){if(this.removed||!this.node.parentNode){return}this.paper.__set__&&this.paper.__set__.exclude(this);cw.eve.unbind("raphael.*.*."+this.id);cw._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var N in this){this[N]=typeof this[N]=="function"?cw._removedFactory(N):null}this.removed=true};w.attr=function(Z,U){if(this.removed){return this}if(Z==null){var X={};for(var V in this.attrs){if(this.attrs[k](V)){X[V]=this.attrs[V]}}X.gradient&&X.fill=="none"&&(X.fill=X.gradient)&&delete X.gradient;X.transform=this._.transform;return X}if(U==null&&cw.is(Z,"string")){if(Z==l&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}var W=Z.split(C),N={};for(var aa=0,Q=W.length;aa<Q;aa++){Z=W[aa];if(Z in this.attrs){N[Z]=this.attrs[Z]}else{if(cw.is(this.paper.customAttributes[Z],"function")){N[Z]=this.paper.customAttributes[Z].def}else{N[Z]=cw._availableAttrs[Z]}}}return Q-1?N:N[W[0]]}if(this.attrs&&U==null&&cw.is(Z,"array")){N={};for(aa=0,Q=Z.length;aa<Q;aa++){N[Z[aa]]=this.attr(Z[aa])}return N}var P;if(U!=null){P={};P[Z]=U}U==null&&cw.is(Z,"object")&&(P=Z);for(var T in P){c("raphael.attr."+T+"."+this.id,this,P[T])}if(P){for(T in this.paper.customAttributes){if(this.paper.customAttributes[k](T)&&P[k](T)&&cw.is(this.paper.customAttributes[T],"function")){var Y=this.paper.customAttributes[T].apply(this,[].concat(P[T]));this.attrs[T]=P[T];for(var O in Y){if(Y[k](O)){P[O]=Y[O]}}}}if(P.text&&this.type=="text"){this.textpath.string=P.text}h(this,P)}return this};w.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&cw._tofront(this,this.paper);return this};w.toBack=function(){if(this.removed){return this}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);cw._toback(this,this.paper)}return this};w.insertAfter=function(N){if(this.removed){return this}if(N.constructor==cw.st.constructor){N=N[N.length-1]}if(N.node.nextSibling){N.node.parentNode.insertBefore(this.node,N.node.nextSibling)}else{N.node.parentNode.appendChild(this.node)}cw._insertafter(this,N,this.paper);return this};w.insertBefore=function(N){if(this.removed){return this}if(N.constructor==cw.st.constructor){N=N[0]}N.node.parentNode.insertBefore(this.node,N.node);cw._insertbefore(this,N,this.paper);return this};w.blur=function(P){var N=this.node.runtimeStyle,O=N.filter;O=O.replace(n,q);if(+P!==0){this.attrs.blur=P;N.filter=O+z+j+".Blur(pixelradius="+(+P||1.5)+")";N.margin=cw.format("-{0}px 0 0 -{0}px",a(+P||1.5))}else{N.filter=O;N.margin=0;delete this.attrs.blur}return this};cw._engine.path=function(Q,P){var O=y("shape");O.style.cssText=J;O.coordsize=L+z+L;O.coordorigin=P.coordorigin;var N=new m(O,P),U={fill:"none",stroke:"#000"};Q&&(U.path=Q);N.type="path";N.path=[];N.Path=q;h(N,U);P.canvas.appendChild(O);var T=y("skew");T.on=true;O.appendChild(T);N.skew=T;N.transform(q);return N};cw._engine.rect=function(P,U,X,T,O,W){var Q=cw._rectPath(U,X,T,O,W),N=P.path(Q),V=N.attrs;N.X=V.x=U;N.Y=V.y=X;N.W=V.width=T;N.H=V.height=O;V.r=W;V.path=Q;N.type="rect";return N};cw._engine.ellipse=function(Q,V,N,O,P){var T=Q.path(),U=T.attrs;T.X=V-O;T.Y=N-P;T.W=O*2;T.H=P*2;T.type="ellipse";h(T,{cx:V,cy:N,rx:O,ry:P});return T};cw._engine.circle=function(P,U,N,O){var Q=P.path(),T=Q.attrs;Q.X=U-O;Q.Y=N-O;Q.W=Q.H=O*2;Q.type="circle";h(Q,{cx:U,cy:N,r:O});return Q};cw._engine.image=function(P,Y,V,X,U,N){var Q=cw._rectPath(V,X,U,N),Z=P.path(Q).attr({stroke:"none"}),W=Z.attrs,O=Z.node,T=O.getElementsByTagName(l)[0];W.src=Y;Z.X=W.x=V;Z.Y=W.y=X;Z.W=W.width=U;Z.H=W.height=N;W.path=Q;Z.type="image";T.parentNode==O&&O.removeChild(T);T.rotate=true;T.src=Y;T.type="tile";Z._.fillpos=[V,X];Z._.fillsize=[U,N];O.appendChild(T);r(Z,1,1,0,0,0);return Z};cw._engine.text=function(Y,V,W,U){var N=y("shape"),Q=y("path"),O=y("textpath");V=V||0;W=W||0;U=U||"";Q.v=cw.format("m{0},{1}l{2},{1}",a(V*L),a(W*L),a(V*L)+1);Q.textpathok=true;O.string=B(U);O.on=true;N.style.cssText=J;N.coordsize=L+z+L;N.coordorigin="0 0";var P=new m(N,Y),X={fill:"#000",stroke:"none",font:cw._availableAttrs.font,text:U};P.shape=N;P.path=Q;P.textpath=O;P.type="text";P.attrs.text=B(U);P.attrs.x=V;P.attrs.y=W;P.attrs.w=1;P.attrs.h=1;h(P,X);N.appendChild(O);N.appendChild(Q);Y.canvas.appendChild(N);var T=y("skew");T.on=true;N.appendChild(T);P.skew=T;P.transform(q);return P};cw._engine.setSize=function(O,P){var N=this.canvas.style;this.width=O;this.height=P;O==+O&&(O+="px");P==+P&&(P+="px");N.width=O;N.height=P;N.clip="rect(0 "+O+" "+P+" 0)";if(this._viewBox){cw._engine.setViewBox.apply(this,this._viewBox)}return this};cw._engine.setViewBox=function(W,Y,V,O,N){cw.eve("raphael.setViewBox",this,this._viewBox,[W,Y,V,O,N]);var X=this.width,T=this.height,Q=1/v(V/X,O/T),U,P;if(N){U=T/O;P=X/V;if(V*U<X){W-=(X-V*U)/2/U}if(O*P<T){Y-=(T-O*P)/2/P}}this._viewBox=[W,Y,V,O,!!N];this._viewBoxShift={dx:-W,dy:-Y,scale:Q};this.forEach(function(Z){Z.transform("...")});return this};var y;cw._engine.initWin=function(O){var N=O.document;N.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!N.namespaces.rvml&&N.namespaces.add("rvml","urn:schemas-microsoft-com:vml");y=function(Q){return N.createElement("<rvml:"+Q+' class="rvml">')}}catch(P){y=function(Q){return N.createElement("<"+Q+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};cw._engine.initWin(cw._g.win);cw._engine.create=function(){var O=cw._getContainer.apply(0,arguments),X=O.container,T=O.height,Q,P=O.width,U=O.x,V=O.y;if(!X){throw new Error("VML container not found.")}var Y=new cw._Paper,W=Y.canvas=cw._g.doc.createElement("div"),N=W.style;U=U||0;V=V||0;P=P||512;T=T||342;Y.width=P;Y.height=T;P==+P&&(P+="px");T==+T&&(T+="px");Y.coordsize=L*1000+z+L*1000;Y.coordorigin="0 0";Y.span=cw._g.doc.createElement("span");Y.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";W.appendChild(Y.span);N.cssText=cw.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",P,T);if(X==1){cw._g.doc.body.appendChild(W);N.left=U+"px";N.top=V+"px";N.position="absolute"}else{if(X.firstChild){X.insertBefore(W,X.firstChild)}else{X.appendChild(W)}}Y.renderfix=function(){};return Y};cw.prototype.clear=function(){cw.eve("raphael.clear",this);this.canvas.innerHTML=q;this.span=cw._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};cw.prototype.remove=function(){cw.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var N in this){this[N]=typeof this[N]=="function"?cw._removedFactory(N):null}return true};var f=cw.st;for(var H in w){if(w[k](H)&&!f[k](H)){f[H]=(function(N){return function(){var O=arguments;return this.forEach(function(P){P[N].apply(P,O)})}})(H)}}})();dR.was?(i.win.Raphael=cw):(Raphael=cw);return cw}));function isMob(){if($("#device").val()!="mobile"){return false}else{return true}}function isTablet(){if($("#device").val()!="tablet"){return false}else{return true}}function isSmall(){return($(window).width()<=768)}function isModal(){return $("body").hasClass("modal-open")}function fullscreen(a){if(a==false){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozExitFullScreen){document.mozExitFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}else{if(a.requestFullscreen){a.requestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}}}}}}(function(){var r,q,p,o,n=[].slice,m=function(d,c){return function(){return d.apply(c,arguments)}},l={}.hasOwnProperty,k=function(f,e){function h(){this.constructor=f}for(var g in e){l.call(e,g)&&(f[g]=e[g])}return h.prototype=e.prototype,f.prototype=new h,f.__super__=e.prototype,f},j=[].indexOf||function(e){for(var d=0,f=this.length;f>d;d++){if(d in this&&this[d]===e){return d}}return -1};q=window.Morris={},r=jQuery,q.EventEmitter=function(){function b(){}return b.prototype.on=function(d,c){return null==this.handlers&&(this.handlers={}),null==this.handlers[d]&&(this.handlers[d]=[]),this.handlers[d].push(c),this},b.prototype.fire=function(){var i,e,x,w,v,u,s;if(x=arguments[0],i=2<=arguments.length?n.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[x]){for(u=this.handlers[x],s=[],w=0,v=u.length;v>w;w++){e=u[w],s.push(e.apply(null,i))}return s}},b}(),q.commas=function(g){var f,s,i,h;return null!=g?(i=0>g?"-":"",f=Math.abs(g),s=Math.floor(f).toFixed(0),i+=s.replace(/(?=(?:\d{3})+$)(?!^)/g,","),h=f.toString(),h.length>s.length&&(i+=h.slice(s.length)),i):"-"},q.pad2=function(b){return(10>b?"0":"")+b},q.Grid=function(b){function a(d){this.resizeHandler=m(this.resizeHandler,this);var e=this;if(this.el="string"==typeof d.element?r(document.getElementById(d.element)):r(d.element),null==this.el||0===this.el.length){throw new Error("Graph container element not found")}"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=r.extend({},this.gridDefaults,this.defaults||{},d),"string"==typeof this.options.units&&(this.options.postUnits=d.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(h){var c,v,u,s,i;return v=e.el.offset(),i=h.pageX-v.left,e.selectFrom?(c=e.data[e.hitTest(Math.min(i,e.selectFrom))]._x,u=e.data[e.hitTest(Math.max(i,e.selectFrom))]._x,s=u-c,e.selectionRect.attr({x:c,width:s})):e.fire("hovermove",i,h.pageY-v.top)}),this.el.bind("mouseleave",function(){return e.selectFrom&&(e.selectionRect.hide(),e.selectFrom=null),e.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(f){var c,g;return g=f.originalEvent.touches[0]||f.originalEvent.changedTouches[0],c=e.el.offset(),e.fire("hover",g.pageX-c.left,g.pageY-c.top),g}),this.el.bind("click",function(f){var c;return c=e.el.offset(),e.fire("gridclick",f.pageX-c.left,f.pageY-c.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(f){var c;return c=e.el.offset(),e.startRange(f.pageX-c.left)}),this.el.bind("mouseup",function(f){var c;return c=e.el.offset(),e.endRange(f.pageX-c.left),e.fire("hovermove",f.pageX-c.left,f.pageY-c.top)})),this.options.resize&&r(window).bind("resize",function(){return null!=e.timeoutId&&window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout(e.resizeHandler,100)}),this.postInit&&this.postInit()}return k(a,b),a.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:0.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},a.prototype.setData=function(J,I){var H,G,F,E,D,C,B,A,z,y,x,w,v,u,s;return null==I&&(I=!0),this.options.data=J,null==J||0===J.length?(this.data=[],this.raphael.clear(),null!=this.hover&&this.hover.hide(),void 0):(w=this.cumulative?0:null,v=this.cumulative?0:null,this.options.goals.length>0&&(D=Math.min.apply(Math,this.options.goals),E=Math.max.apply(Math,this.options.goals),v=null!=v?Math.min(v,D):D,w=null!=w?Math.max(w,E):E),this.data=function(){var h,f,e;for(e=[],F=h=0,f=J.length;f>h;F=++h){B=J[F],C={src:B},C.label=B[this.options.xkey],this.options.parseTime?(C.x=q.parseDate(C.label),this.options.dateFormat?C.label=this.options.dateFormat(C.x):"number"==typeof C.label&&(C.label=new Date(C.label).toString())):(C.x=F,this.options.xLabelFormat&&(C.label=this.options.xLabelFormat(C))),z=0,C.y=function(){var i,g,L,K;for(L=this.options.ykeys,K=[],G=i=0,g=L.length;g>i;G=++i){x=L[G],u=B[x],"string"==typeof u&&(u=parseFloat(u)),null!=u&&"number"!=typeof u&&(u=null),null!=u&&(this.cumulative?z+=u:null!=w?(w=Math.max(u,w),v=Math.min(u,v)):w=v=u),this.cumulative&&null!=z&&(w=Math.max(z,w),v=Math.min(z,v)),K.push(u)}return K}.call(this),e.push(C)}return e}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(d,c){return(d.x>c.x)-(c.x>d.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var d,i,h,g;for(h=this.options.events,g=[],d=0,i=h.length;i>d;d++){H=h[d],g.push(q.parseDate(H))}return g}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",v),this.ymax=this.yboundary("max",w),this.ymin===this.ymax&&(v&&(this.ymin-=1),this.ymax+=1),((s=this.options.axes)===!0||"both"===s||"y"===s||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(A=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var f,e,h,g;for(g=[],y=f=e=this.ymin,h=this.ymax;A>0?h>=f:f>=h;y=f+=A){g.push(y)}return g}.call(this))),this.dirty=!0,I?this.redraw():void 0)},a.prototype.yboundary=function(f,e){var h,g;return h=this.options["y"+f],"string"==typeof h?"auto"===h.slice(0,4)?h.length>5?(g=parseInt(h.slice(5),10),null==e?g:Math[f](e,g)):null!=e?e:0:parseInt(h,10):h},a.prototype.autoGridLines=function(E,D,C){var B,A,z,y,x,w,v,u,s;return x=D-E,s=Math.floor(Math.log(x)/Math.log(10)),v=Math.pow(10,s),A=Math.floor(E/v)*v,B=Math.ceil(D/v)*v,w=(B-A)/(C-1),1===v&&w>1&&Math.ceil(w)!==w&&(w=Math.ceil(w),B=A+w*(C-1)),0>A&&B>0&&(A=Math.floor(E/w)*w,B=Math.ceil(D/w)*w),1>w?(y=Math.floor(Math.log(w)/Math.log(10)),z=function(){var d,c;for(c=[],u=d=A;w>0?B>=d:d>=B;u=d+=w){c.push(parseFloat(u.toFixed(1-y)))}return c}()):z=function(){var d,c;for(c=[],u=d=A;w>0?B>=d:d>=B;u=d+=w){c.push(u)}return c}(),z},a.prototype._calc=function(){var s,i,z,y,x,w,v,u;return x=this.el.width(),z=this.el.height(),(this.elementWidth!==x||this.elementHeight!==z||this.dirty)&&(this.elementWidth=x,this.elementHeight=z,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((v=this.options.axes)===!0||"both"===v||"y"===v)&&(w=function(){var f,A,h,g;for(h=this.grid,g=[],f=0,A=h.length;A>f;f++){i=h[f],g.push(this.measureText(this.yAxisFormat(i)).width)}return g}.call(this),this.left+=Math.max.apply(Math,w)),((u=this.options.axes)===!0||"both"===u||"x"===u)&&(s=function(){var e,d,f;for(f=[],y=e=0,d=this.data.length;d>=0?d>e:e>d;y=d>=0?++e:--e){f.push(this.measureText(this.data[y].text,-this.options.xLabelAngle).height)}return f}.call(this),this.bottom-=Math.max.apply(Math,s)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},a.prototype.transY=function(c){return this.bottom-(c-this.ymin)*this.dy},a.prototype.transX=function(c){return 1===this.data.length?(this.left+this.right)/2:this.left+(c-this.xmin)*this.dx},a.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},a.prototype.measureText=function(f,e){var h,g;return null==e&&(e=0),g=this.raphael.text(100,100,f).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),h=g.getBBox(),g.remove(),h},a.prototype.yAxisFormat=function(c){return this.yLabelFormat(c)},a.prototype.yLabelFormat=function(c){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(c):""+this.options.preUnits+q.commas(c)+this.options.postUnits},a.prototype.drawGrid=function(){var s,i,z,y,x,w,v,u;if(this.options.grid!==!1||(x=this.options.axes)===!0||"both"===x||"y"===x){for(w=this.grid,u=[],z=0,y=w.length;y>z;z++){s=w[z],i=this.transY(s),((v=this.options.axes)===!0||"both"===v||"y"===v)&&this.drawYAxisLabel(this.left-this.options.padding/2,i,this.yAxisFormat(s)),this.options.grid?u.push(this.drawGridLine("M"+this.left+","+i+"H"+(this.left+this.width))):u.push(void 0)}return u}},a.prototype.drawGoals=function(){var i,h,x,w,v,u,s;for(u=this.options.goals,s=[],x=w=0,v=u.length;v>w;x=++w){h=u[x],i=this.options.goalLineColors[x%this.options.goalLineColors.length],s.push(this.drawGoal(h,i))}return s},a.prototype.drawEvents=function(){var i,h,x,w,v,u,s;for(u=this.events,s=[],x=w=0,v=u.length;v>w;x=++w){h=u[x],i=this.options.eventLineColors[x%this.options.eventLineColors.length],s.push(this.drawEvent(h,i))}return s},a.prototype.drawGoal=function(d,c){return this.raphael.path("M"+this.left+","+this.transY(d)+"H"+this.right).attr("stroke",c).attr("stroke-width",this.options.goalStrokeWidth)},a.prototype.drawEvent=function(d,c){return this.raphael.path("M"+this.transX(d)+","+this.bottom+"V"+this.top).attr("stroke",c).attr("stroke-width",this.options.eventStrokeWidth)},a.prototype.drawYAxisLabel=function(e,d,f){return this.raphael.text(e,d,f).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},a.prototype.drawGridLine=function(c){return this.raphael.path(c).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},a.prototype.startRange=function(c){return this.hover.hide(),this.selectFrom=c,this.selectionRect.attr({x:c,width:0}).show()},a.prototype.endRange=function(e){var d,f;return this.selectFrom?(f=Math.min(this.selectFrom,e),d=Math.max(this.selectFrom,e),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(f)].x,end:this.data[this.hitTest(d)].x}),this.selectFrom=null):void 0},a.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},a}(q.EventEmitter),q.parseDate=function(E){var D,C,B,A,z,y,x,w,v,u,s;return"number"==typeof E?E:(C=E.match(/^(\d+) Q(\d)$/),A=E.match(/^(\d+)-(\d+)$/),z=E.match(/^(\d+)-(\d+)-(\d+)$/),x=E.match(/^(\d+) W(\d+)$/),w=E.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),v=E.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),C?new Date(parseInt(C[1],10),3*parseInt(C[2],10)-1,1).getTime():A?new Date(parseInt(A[1],10),parseInt(A[2],10)-1,1).getTime():z?new Date(parseInt(z[1],10),parseInt(z[2],10)-1,parseInt(z[3],10)).getTime():x?(u=new Date(parseInt(x[1],10),0,1),4!==u.getDay()&&u.setMonth(0,1+(4-u.getDay()+7)%7),u.getTime()+604800000*parseInt(x[2],10)):w?w[6]?(y=0,"Z"!==w[6]&&(y=60*parseInt(w[8],10)+parseInt(w[9],10),"+"===w[7]&&(y=0-y)),Date.UTC(parseInt(w[1],10),parseInt(w[2],10)-1,parseInt(w[3],10),parseInt(w[4],10),parseInt(w[5],10)+y)):new Date(parseInt(w[1],10),parseInt(w[2],10)-1,parseInt(w[3],10),parseInt(w[4],10),parseInt(w[5],10)).getTime():v?(s=parseFloat(v[6]),D=Math.floor(s),B=Math.round(1000*(s-D)),v[8]?(y=0,"Z"!==v[8]&&(y=60*parseInt(v[10],10)+parseInt(v[11],10),"+"===v[9]&&(y=0-y)),Date.UTC(parseInt(v[1],10),parseInt(v[2],10)-1,parseInt(v[3],10),parseInt(v[4],10),parseInt(v[5],10)+y,D,B)):new Date(parseInt(v[1],10),parseInt(v[2],10)-1,parseInt(v[3],10),parseInt(v[4],10),parseInt(v[5],10),D,B).getTime()):new Date(parseInt(E,10),0,1).getTime())},q.Hover=function(){function a(b){null==b&&(b={}),this.options=r.extend({},q.Hover.defaults,b),this.el=r("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return a.defaults={"class":"morris-hover morris-default-style"},a.prototype.update=function(e,d,f){return this.html(e),this.show(),this.moveTo(d,f)},a.prototype.html=function(b){return this.el.html(b)},a.prototype.moveTo=function(s,i){var z,y,x,w,v,u;return v=this.options.parent.innerWidth(),w=this.options.parent.innerHeight(),y=this.el.outerWidth(),z=this.el.outerHeight(),x=Math.min(Math.max(0,s-y/2),v-y),null!=i?(u=i-z-10,0>u&&(u=i+10,u+z>w&&(u=w/2-z/2))):u=w/2-z/2,this.el.css({left:x+"px",top:parseInt(u)+"px"})},a.prototype.show=function(){return this.el.show()},a.prototype.hide=function(){return this.el.hide()},a}(),q.Line=function(b){function d(c){return this.hilight=m(this.hilight,this),this.onHoverOut=m(this.onHoverOut,this),this.onHoverMove=m(this.onHoverMove,this),this.onGridClick=m(this.onGridClick,this),this instanceof q.Line?(d.__super__.constructor.call(this,c),void 0):new q.Line(c)}return k(d,b),d.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new q.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},d.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},d.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},d.prototype.calcPoints=function(){var h,g,v,u,s,i;for(s=this.data,i=[],v=0,u=s.length;u>v;v++){h=s[v],h._x=this.transX(h.x),h._y=function(){var y,x,w,a;for(w=h.y,a=[],y=0,x=w.length;x>y;y++){g=w[y],null!=g?a.push(this.transY(g)):a.push(g)}return a}.call(this),i.push(h._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var y,x,w,a;for(w=h._y,a=[],y=0,x=w.length;x>y;y++){g=w[y],null!=g&&a.push(g)}return a}())))}return i},d.prototype.hitTest=function(h){var g,v,u,s,i;if(0===this.data.length){return null}for(i=this.data.slice(1),g=u=0,s=i.length;s>u&&(v=i[g],!(h<(v._x+this.data[g]._x)/2));g=++u){}return g},d.prototype.onGridClick=function(f,e){var g;return g=this.hitTest(f),this.fire("click",g,this.data[g].src,f,e)},d.prototype.onHoverMove=function(e){var c;return c=this.hitTest(e),this.displayHoverForRow(c)},d.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},d.prototype.displayHoverForRow=function(e){var c;return null!=e?((c=this.hover).update.apply(c,this.hoverContentForRow(e)),this.hilight(e)):(this.hover.hide(),this.hilight())},d.prototype.hoverContentForRow=function(s){var i,z,y,x,w,v,u;for(y=this.data[s],i="<div class='morris-hover-row-label'>"+y.label+"</div>",u=y.y,z=w=0,v=u.length;v>w;z=++w){x=u[z],i+="<div class='morris-hover-point' style='color: "+this.colorFor(y,z,"label")+"'>\n  "+this.options.labels[z]+":\n  "+this.yLabelFormat(x)+"\n</div>"}return"function"==typeof this.options.hoverCallback&&(i=this.options.hoverCallback(s,this.options,i,y.src)),[i,y._x,y._ymax]},d.prototype.generatePaths=function(){var g,u,s,i,h;return this.paths=function(){var f,e,c,a;for(a=[],s=f=0,e=this.options.ykeys.length;e>=0?e>f:f>e;s=e>=0?++f:--f){h="boolean"==typeof this.options.smooth?this.options.smooth:(c=this.options.ykeys[s],j.call(this.options.smooth,c)>=0),u=function(){var w,v,y,x;for(y=this.data,x=[],w=0,v=y.length;v>w;w++){i=y[w],void 0!==i._y[s]&&x.push({x:i._x,y:i._y[s]})}return x}.call(this),this.options.continuousLine&&(u=function(){var v,x,w;for(w=[],v=0,x=u.length;x>v;v++){g=u[v],null!==g.y&&w.push(g)}return w}()),u.length>1?a.push(q.Line.createPath(u,h,this.bottom)):a.push(null)}return a}.call(this)},d.prototype.draw=function(){var c;return((c=this.options.axes)===!0||"both"===c||"x"===c)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},d.prototype.drawXAxis=function(){var D,C,B,A,z,y,x,w,v,u,s=this;for(x=this.bottom+this.options.padding/2,z=null,A=null,D=function(f,e){var H,G,F,E,h;return H=s.drawXAxisLabel(s.transX(e),x,f),h=H.getBBox(),H.transform("r"+-s.options.xLabelAngle),G=H.getBBox(),H.transform("t0,"+G.height/2+"..."),0!==s.options.xLabelAngle&&(E=-0.5*h.width*Math.cos(s.options.xLabelAngle*Math.PI/180),H.transform("t"+E+",0...")),G=H.getBBox(),(null==z||z>=G.x+G.width||null!=A&&A>=G.x)&&G.x>=0&&G.x+G.width<s.el.width()?(0!==s.options.xLabelAngle&&(F=1.25*s.options.gridTextSize/Math.sin(s.options.xLabelAngle*Math.PI/180),A=G.x-F),z=G.x-s.options.xLabelMargin):H.remove()},B=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:q.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var f,e,h,g;for(h=this.data,g=[],f=0,e=h.length;e>f;f++){y=h[f],g.push([y.label,y.x])}return g}.call(this),B.reverse(),u=[],w=0,v=B.length;v>w;w++){C=B[w],u.push(D(C[0],C[1]))}return u},d.prototype.drawSeries=function(){var h,g,v,u,s,i;for(this.seriesPoints=[],h=g=u=this.options.ykeys.length-1;0>=u?0>=g:g>=0;h=0>=u?++g:--g){this._drawLineFor(h)}for(i=[],h=v=s=this.options.ykeys.length-1;0>=s?0>=v:v>=0;h=0>=s?++v:--v){i.push(this._drawPointFor(h))}return i},d.prototype._drawPointFor=function(i){var h,x,w,v,u,s;for(this.seriesPoints[i]=[],u=this.data,s=[],w=0,v=u.length;v>w;w++){x=u[w],h=null,null!=x._y[i]&&(h=this.drawLinePoint(x._x,x._y[i],this.colorFor(x,i,"point"),i)),s.push(this.seriesPoints[i].push(h))}return s},d.prototype._drawLineFor=function(e){var c;return c=this.paths[e],null!==c?this.drawLinePath(c,this.colorFor(null,e,"line"),e):void 0},d.createPath=function(J,I,H){var G,F,E,D,C,B,A,z,y,x,w,v,u,s;for(A="",I&&(E=q.Line.gradients(J)),z={y:null},D=u=0,s=J.length;s>u;D=++u){G=J[D],null!=G.y&&(null!=z.y?I?(F=E[D],B=E[D-1],C=(G.x-z.x)/4,y=z.x+C,w=Math.min(H,z.y+C*B),x=G.x-C,v=Math.min(H,G.y-C*F),A+="C"+y+","+w+","+x+","+v+","+G.x+","+G.y):A+="L"+G.x+","+G.y:I&&null==E[D]||(A+="M"+G.x+","+G.y)),z=G}return A},d.gradients=function(B){var A,z,y,x,w,v,u,s;for(z=function(e,c){return(e.y-c.y)/(e.x-c.x)},s=[],y=v=0,u=B.length;u>v;y=++v){A=B[y],null!=A.y?(x=B[y+1]||{y:null},w=B[y-1]||{y:null},null!=w.y&&null!=x.y?s.push(z(w,x)):null!=w.y?s.push(z(w,A)):null!=x.y?s.push(z(A,x)):s.push(null)):s.push(null)}return s},d.prototype.hilight=function(h){var g,v,u,s,i;if(null!==this.prevHilight&&this.prevHilight!==h){for(g=v=0,s=this.seriesPoints.length-1;s>=0?s>=v:v>=s;g=s>=0?++v:--v){this.seriesPoints[g][this.prevHilight]&&this.seriesPoints[g][this.prevHilight].animate(this.pointShrinkSeries(g))}}if(null!==h&&this.prevHilight!==h){for(g=u=0,i=this.seriesPoints.length-1;i>=0?i>=u:u>=i;g=i>=0?++u:--u){this.seriesPoints[g][h]&&this.seriesPoints[g][h].animate(this.pointGrowSeries(g))}}return this.prevHilight=h},d.prototype.colorFor=function(f,e,g){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,f,e,g):"point"===g?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},d.prototype.drawXAxisLabel=function(f,e,g){return this.raphael.text(f,e,g).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},d.prototype.drawLinePath=function(f,e,g){return this.raphael.path(f).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(g))},d.prototype.drawLinePoint=function(f,e,h,g){return this.raphael.circle(f,e,this.pointSizeForSeries(g)).attr("fill",h).attr("stroke-width",this.pointStrokeWidthForSeries(g)).attr("stroke",this.pointStrokeColorForSeries(g))},d.prototype.pointStrokeWidthForSeries=function(c){return this.options.pointStrokeWidths[c%this.options.pointStrokeWidths.length]},d.prototype.pointStrokeColorForSeries=function(c){return this.options.pointStrokeColors[c%this.options.pointStrokeColors.length]},d.prototype.lineWidthForSeries=function(c){return this.options.lineWidth instanceof Array?this.options.lineWidth[c%this.options.lineWidth.length]:this.options.lineWidth},d.prototype.pointSizeForSeries=function(c){return this.options.pointSize instanceof Array?this.options.pointSize[c%this.options.pointSize.length]:this.options.pointSize},d.prototype.pointGrowSeries=function(c){return Raphael.animation({r:this.pointSizeForSeries(c)+3},25,"linear")},d.prototype.pointShrinkSeries=function(c){return Raphael.animation({r:this.pointSizeForSeries(c)},25,"linear")},d}(q.Grid),q.labelSeries=function(G,F,E,D,C){var B,A,z,y,x,w,v,u,s,b,a;if(z=200*(F-G)/E,A=new Date(G),v=q.LABEL_SPECS[D],void 0===v){for(a=q.AUTO_LABEL_ORDER,s=0,b=a.length;b>s;s++){if(y=a[s],w=q.LABEL_SPECS[y],z>=w.span){v=w;break}}}for(void 0===v&&(v=q.LABEL_SPECS.second),C&&(v=r.extend({},v,{fmt:C})),B=v.start(A),x=[];(u=B.getTime())<=F;){u>=G&&x.push([v.fmt(B),u]),v.incr(B)}return x},p=function(b){return{span:60*b*1000,start:function(c){return new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours())},fmt:function(c){return""+q.pad2(c.getHours())+":"+q.pad2(c.getMinutes())},incr:function(a){return a.setUTCMinutes(a.getUTCMinutes()+b)}}},o=function(b){return{span:1000*b,start:function(c){return new Date(c.getFullYear(),c.getMonth(),c.getDate(),c.getHours(),c.getMinutes())},fmt:function(c){return""+q.pad2(c.getHours())+":"+q.pad2(c.getMinutes())+":"+q.pad2(c.getSeconds())},incr:function(a){return a.setUTCSeconds(a.getUTCSeconds()+b)}}},q.LABEL_SPECS={decade:{span:172800000000,start:function(b){return new Date(b.getFullYear()-b.getFullYear()%10,0,1)},fmt:function(b){return""+b.getFullYear()},incr:function(b){return b.setFullYear(b.getFullYear()+10)}},year:{span:17280000000,start:function(b){return new Date(b.getFullYear(),0,1)},fmt:function(b){return""+b.getFullYear()},incr:function(b){return b.setFullYear(b.getFullYear()+1)}},month:{span:2419200000,start:function(b){return new Date(b.getFullYear(),b.getMonth(),1)},fmt:function(b){return""+b.getFullYear()+"-"+q.pad2(b.getMonth()+1)},incr:function(b){return b.setMonth(b.getMonth()+1)}},week:{span:604800000,start:function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate())},fmt:function(b){return""+b.getFullYear()+"-"+q.pad2(b.getMonth()+1)+"-"+q.pad2(b.getDate())},incr:function(b){return b.setDate(b.getDate()+7)}},day:{span:86400000,start:function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate())},fmt:function(b){return""+b.getFullYear()+"-"+q.pad2(b.getMonth()+1)+"-"+q.pad2(b.getDate())},incr:function(b){return b.setDate(b.getDate()+1)}},hour:p(60),"30min":p(30),"15min":p(15),"10min":p(10),"5min":p(5),minute:p(1),"30sec":o(30),"15sec":o(15),"10sec":o(10),"5sec":o(5),second:o(1)},q.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],q.Area=function(f){function b(e){var d;return this instanceof q.Area?(d=r.extend({},a,e),this.cumulative=!d.behaveLikeLine,"auto"===d.fillOpacity&&(d.fillOpacity=d.behaveLikeLine?0.8:1),b.__super__.constructor.call(this,d),void 0):new q.Area(e)}var a;return k(b,f),a={fillOpacity:"auto",behaveLikeLine:!1},b.prototype.calcPoints=function(){var i,h,x,w,v,u,s;for(u=this.data,s=[],w=0,v=u.length;v>w;w++){i=u[w],i._x=this.transX(i.x),h=0,i._y=function(){var A,z,y,c;for(y=i.y,c=[],A=0,z=y.length;z>A;A++){x=y[A],this.options.behaveLikeLine?c.push(this.transY(x)):(h+=x||0,c.push(this.transY(h)))}return c}.call(this),s.push(i._ymax=Math.max.apply(Math,i._y))}return s},b.prototype.drawSeries=function(){var s,i,z,y,x,w,v,u;for(this.seriesPoints=[],i=this.options.behaveLikeLine?function(){w=[];for(var d=0,c=this.options.ykeys.length-1;c>=0?c>=d:d>=c;c>=0?d++:d--){w.push(d)}return w}.apply(this):function(){v=[];for(var c=x=this.options.ykeys.length-1;0>=x?0>=c:c>=0;0>=x?c++:c--){v.push(c)}return v}.apply(this),u=[],z=0,y=i.length;y>z;z++){s=i[z],this._drawFillFor(s),this._drawLineFor(s),u.push(this._drawPointFor(s))}return u},b.prototype._drawFillFor=function(d){var c;return c=this.paths[d],null!==c?(c+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(c,this.fillForSeries(d))):void 0},b.prototype.fillForSeries=function(d){var c;return c=Raphael.rgb2hsl(this.colorFor(this.data[d],d,"line")),Raphael.hsl(c.h,this.options.behaveLikeLine?0.9*c.s:0.75*c.s,Math.min(0.98,this.options.behaveLikeLine?1.2*c.l:1.25*c.l))},b.prototype.drawFilledPath=function(d,c){return this.raphael.path(d).attr("fill",c).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},b}(q.Line),q.Bar=function(b){function a(d){return this.onHoverOut=m(this.onHoverOut,this),this.onHoverMove=m(this.onHoverMove,this),this.onGridClick=m(this.onGridClick,this),this instanceof q.Bar?(a.__super__.constructor.call(this,r.extend({},d,{parseTime:!1})),void 0):new q.Bar(d)}return k(a,b),a.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new q.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},a.prototype.defaults={barSizeRatio:0.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},a.prototype.calc=function(){var c;return this.calcBars(),this.options.hideHover===!1?(c=this.hover).update.apply(c,this.hoverContentForRow(this.data.length-1)):void 0},a.prototype.calcBars=function(){var i,h,x,w,v,u,s;for(u=this.data,s=[],i=w=0,v=u.length;v>w;i=++w){h=u[i],h._x=this.left+this.width*(i+0.5)/this.data.length,s.push(h._y=function(){var c,z,y,g;for(y=h.y,g=[],c=0,z=y.length;z>c;c++){x=y[c],null!=x?g.push(this.transY(x)):g.push(null)}return g}.call(this))}return s},a.prototype.draw=function(){var c;return((c=this.options.axes)===!0||"both"===c||"x"===c)&&this.drawXAxis(),this.drawSeries()},a.prototype.drawXAxis=function(){var F,E,D,C,B,A,z,y,x,w,v,u,s;for(w=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),z=null,A=null,s=[],F=v=0,u=this.data.length;u>=0?u>v:v>u;F=u>=0?++v:--v){y=this.data[this.data.length-1-F],E=this.drawXAxisLabel(y._x,w,y.label),x=E.getBBox(),E.transform("r"+-this.options.xLabelAngle),D=E.getBBox(),E.transform("t0,"+D.height/2+"..."),0!==this.options.xLabelAngle&&(B=-0.5*x.width*Math.cos(this.options.xLabelAngle*Math.PI/180),E.transform("t"+B+",0...")),(null==z||z>=D.x+D.width||null!=A&&A>=D.x)&&D.x>=0&&D.x+D.width<this.el.width()?(0!==this.options.xLabelAngle&&(C=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),A=D.x-C),s.push(z=D.x-this.options.xLabelMargin)):s.push(E.remove())}return s},a.prototype.drawSeries=function(){var H,G,F,E,D,C,B,A,z,y,x,w,v,u,s;return F=this.width/this.options.data.length,A=null!=this.options.stacked?1:this.options.ykeys.length,H=(F*this.options.barSizeRatio-this.options.barGap*(A-1))/A,this.options.barSize&&(H=Math.min(H,this.options.barSize)),w=F-H*A-this.options.barGap*(A-1),B=w/2,s=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var d,c,f,e;for(f=this.data,e=[],E=d=0,c=f.length;c>d;E=++d){z=f[E],D=0,e.push(function(){var i,g,J,I;for(J=z._y,I=[],y=i=0,g=J.length;g>i;y=++i){u=J[y],null!==u?(s?(v=Math.min(u,s),G=Math.max(u,s)):(v=u,G=this.bottom),C=this.left+E*F+B,this.options.stacked||(C+=y*(H+this.options.barGap)),x=G-v,this.options.stacked&&(v-=D),this.drawBar(C,v,H,x,this.colorFor(z,y,"bar"),this.options.barOpacity,this.options.barRadius),I.push(D+=x)):I.push(null)}return I}.call(this))}return e}.call(this)},a.prototype.colorFor=function(g,f,s){var i,h;return"function"==typeof this.options.barColors?(i={x:g.x,y:g.y[f],label:g.label},h={index:f,key:this.options.ykeys[f],label:this.options.labels[f]},this.options.barColors.call(this,i,h,s)):this.options.barColors[f%this.options.barColors.length]},a.prototype.hitTest=function(c){return 0===this.data.length?null:(c=Math.max(Math.min(c,this.right),this.left),Math.min(this.data.length-1,Math.floor((c-this.left)/(this.width/this.data.length))))},a.prototype.onGridClick=function(e,d){var f;return f=this.hitTest(e),this.fire("click",f,this.data[f].src,e,d)},a.prototype.onHoverMove=function(e){var d,f;return d=this.hitTest(e),(f=this.hover).update.apply(f,this.hoverContentForRow(d))},a.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},a.prototype.hoverContentForRow=function(B){var A,z,y,x,w,v,u,s;for(y=this.data[B],A="<div class='morris-hover-row-label'>"+y.label+"</div>",s=y.y,z=v=0,u=s.length;u>v;z=++v){w=s[z],A+="<div class='morris-hover-point' style='color: "+this.colorFor(y,z,"label")+"'>\n  "+this.options.labels[z]+":\n  "+this.yLabelFormat(w)+"\n</div>"}return"function"==typeof this.options.hoverCallback&&(A=this.options.hoverCallback(B,this.options,A,y.src)),x=this.left+(B+0.5)*this.width/this.data.length,[A,x]},a.prototype.drawXAxisLabel=function(f,e,h){var g;return g=this.raphael.text(f,e,h).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},a.prototype.drawBar=function(B,A,z,y,x,w,v){var u,s;return u=Math.max.apply(Math,v),s=0===u||u>y?this.raphael.rect(B,A,z,y):this.raphael.path(this.roundedRect(B,A,z,y,v)),s.attr("fill",x).attr("fill-opacity",w).attr("stroke","none")},a.prototype.roundedRect=function(g,f,s,i,h){return null==h&&(h=[0,0,0,0]),["M",g,h[0]+f,"Q",g,f,g+h[0],f,"L",g+s-h[1],f,"Q",g+s,f,g+s,f+h[1],"L",g+s,f+i-h[2],"Q",g+s,f+i,g+s-h[2],f+i,"L",g+h[3],f+i,"Q",g,f+i,g,f+i-h[3],"Z"]},a}(q.Grid),q.Donut=function(b){function a(f){this.resizeHandler=m(this.resizeHandler,this),this.select=m(this.select,this),this.click=m(this.click,this);var e=this;if(!(this instanceof q.Donut)){return new q.Donut(f)}if(this.options=r.extend({},this.defaults,f),this.el="string"==typeof f.element?r(document.getElementById(f.element)):r(f.element),null===this.el||0===this.el.length){throw new Error("Graph placeholder not found.")}void 0!==f.data&&0!==f.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&r(window).bind("resize",function(){return null!=e.timeoutId&&window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout(e.resizeHandler,100)}),this.setData(f.data))}return k(a,b),a.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:q.commas,resize:!1},a.prototype.redraw=function(){var U,T,S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D,C,B,A,z,y;for(this.raphael.clear(),T=this.el.width()/2,S=this.el.height()/2,I=(Math.min(T,S)-10)/3,K=0,B=this.values,H=0,E=B.length;E>H;H++){J=B[H],K+=J}for(N=5/(2*I),U=1.9999*Math.PI-N*this.data.length,P=0,Q=0,this.segments=[],A=this.values,R=G=0,D=A.length;D>G;R=++G){J=A[R],M=P+N+U*(J/K),L=new q.DonutSegment(T,S,2*I,I,P,M,this.data[R].color||this.options.colors[Q%this.options.colors.length],this.options.backgroundColor,Q,this.raphael),L.render(),this.segments.push(L),L.on("hover",this.select),L.on("click",this.click),P=M,Q+=1}for(this.text1=this.drawEmptyDonutLabel(T,S-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(T,S+10,this.options.labelColor,14),O=Math.max.apply(Math,this.values),Q=0,z=this.values,y=[],F=0,C=z.length;C>F;F++){if(J=z[F],J===O){this.select(Q);break}y.push(Q+=1)}return y},a.prototype.setData=function(d){var c;return this.data=d,this.values=function(){var f,i,h,g;for(h=this.data,g=[],f=0,i=h.length;i>f;f++){c=h[f],g.push(parseFloat(c.value))}return g}.call(this),this.redraw()},a.prototype.click=function(c){return this.fire("click",c,this.data[c])},a.prototype.select=function(i){var h,x,w,v,u,s;for(s=this.segments,v=0,u=s.length;u>v;v++){x=s[v],x.deselect()}return w=this.segments[i],w.select(),h=this.data[i],this.setLabels(h.label,this.options.formatter(h.value,h))},a.prototype.setLabels=function(C,B){var A,z,y,x,w,v,u,s;return A=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,x=1.8*A,y=A/2,z=A/3,this.text1.attr({text:C,transform:""}),w=this.text1.getBBox(),v=Math.min(x/w.width,y/w.height),this.text1.attr({transform:"S"+v+","+v+","+(w.x+w.width/2)+","+(w.y+w.height)}),this.text2.attr({text:B,transform:""}),u=this.text2.getBBox(),s=Math.min(x/u.width,z/u.height),this.text2.attr({transform:"S"+s+","+s+","+(u.x+u.width/2)+","+u.y})},a.prototype.drawEmptyDonutLabel=function(h,g,v,u,s){var i;return i=this.raphael.text(h,g,"").attr("font-size",u).attr("fill",v),null!=s&&i.attr("font-weight",s),i},a.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},a}(q.EventEmitter),q.DonutSegment=function(d){function c(B,A,z,y,x,w,v,u,s,f){this.cx=B,this.cy=A,this.inner=z,this.outer=y,this.color=v,this.backgroundColor=u,this.index=s,this.raphael=f,this.deselect=m(this.deselect,this),this.select=m(this.select,this),this.sin_p0=Math.sin(x),this.cos_p0=Math.cos(x),this.sin_p1=Math.sin(w),this.cos_p1=Math.cos(w),this.is_long=w-x>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return k(c,d),c.prototype.calcArcPoints=function(b){return[this.cx+b*this.sin_p0,this.cy+b*this.cos_p0,this.cx+b*this.sin_p1,this.cy+b*this.cos_p1]},c.prototype.calcSegment=function(E,D){var C,B,A,z,y,x,w,v,u,s;return u=this.calcArcPoints(E),C=u[0],A=u[1],B=u[2],z=u[3],s=this.calcArcPoints(D),y=s[0],w=s[1],x=s[2],v=s[3],"M"+C+","+A+("A"+E+","+E+",0,"+this.is_long+",0,"+B+","+z)+("L"+x+","+v)+("A"+D+","+D+",0,"+this.is_long+",1,"+y+","+w)+"Z"},c.prototype.calcArc=function(h){var g,v,u,s,i;return i=this.calcArcPoints(h),g=i[0],u=i[1],v=i[2],s=i[3],"M"+g+","+u+("A"+h+","+h+",0,"+this.is_long+",0,"+v+","+s)},c.prototype.render=function(){var b=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return b.fire("hover",b.index)},function(){return b.fire("click",b.index)})},c.prototype.drawDonutArc=function(f,e){return this.raphael.path(f).attr({stroke:e,"stroke-width":2,opacity:0})},c.prototype.drawDonutSegment=function(g,f,s,i,h){return this.raphael.path(g).attr({fill:f,stroke:s,"stroke-width":3}).hover(i).click(h)},c.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},c.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},c}(q.EventEmitter)}).call(this);
/*!
 * g.Raphael 0.5 - Charting library, based on Raphal
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
Raphael.el.popup=function(s,l,o,p){var u=this.paper||this[0].paper,q,m,v,r,w;if(!u){return}switch(this.type){case"text":case"circle":case"ellipse":v=true;break;default:v=false}s=s==null?"up":s;l=l||5;q=this.getBBox();o=typeof o=="number"?o:(v?q.x+q.width/2:q.x);p=typeof p=="number"?p:(v?q.y+q.height/2:q.y);r=Math.max(q.width/2-l,0);w=Math.max(q.height/2-l,0);this.translate(o-q.x-(v?q.width/2:0),p-q.y-(v?q.height/2:0));q=this.getBBox();var n={up:["M",o,p,"l",-l,-l,-r,0,"a",l,l,0,0,1,-l,-l,"l",0,-q.height,"a",l,l,0,0,1,l,-l,"l",l*2+r*2,0,"a",l,l,0,0,1,l,l,"l",0,q.height,"a",l,l,0,0,1,-l,l,"l",-r,0,"z"].join(","),down:["M",o,p,"l",l,l,r,0,"a",l,l,0,0,1,l,l,"l",0,q.height,"a",l,l,0,0,1,-l,l,"l",-(l*2+r*2),0,"a",l,l,0,0,1,-l,-l,"l",0,-q.height,"a",l,l,0,0,1,l,-l,"l",r,0,"z"].join(","),left:["M",o,p,"l",-l,l,0,w,"a",l,l,0,0,1,-l,l,"l",-q.width,0,"a",l,l,0,0,1,-l,-l,"l",0,-(l*2+w*2),"a",l,l,0,0,1,l,-l,"l",q.width,0,"a",l,l,0,0,1,l,l,"l",0,w,"z"].join(","),right:["M",o,p,"l",l,-l,0,-w,"a",l,l,0,0,1,l,-l,"l",q.width,0,"a",l,l,0,0,1,l,l,"l",0,l*2+w*2,"a",l,l,0,0,1,-l,l,"l",-q.width,0,"a",l,l,0,0,1,-l,-l,"l",0,-w,"z"].join(",")};m={up:{x:-!v*(q.width/2),y:-l*2-(v?q.height/2:q.height)},down:{x:-!v*(q.width/2),y:l*2+(v?q.height/2:q.height)},left:{x:-l*2-(v?q.width/2:q.width),y:-!v*(q.height/2)},right:{x:l*2+(v?q.width/2:q.width),y:-!v*(q.height/2)}}[s];this.translate(m.x,m.y);return u.path(n[s]).attr({fill:"#000",stroke:"none"}).insertBefore(this.node?this:this[0])};Raphael.el.tag=function(u,x,n,o){var q=3,v=this.paper||this[0].paper;if(!v){return}var w=v.path().attr({fill:"#000",stroke:"#000"}),p=this.getBBox(),d,r,y,s;switch(this.type){case"text":case"circle":case"ellipse":y=true;break;default:y=false}u=u||0;n=typeof n=="number"?n:(y?p.x+p.width/2:p.x);o=typeof o=="number"?o:(y?p.y+p.height/2:p.y);x=x==null?5:x;r=0.5522*x;if(p.height>=x*2){w.attr({path:["M",n,o+x,"a",x,x,0,1,1,0,-x*2,x,x,0,1,1,0,x*2,"m",0,-x*2-q,"a",x+q,x+q,0,1,0,0,(x+q)*2,"L",n+x+q,o+p.height/2+q,"l",p.width+2*q,0,0,-p.height-2*q,-p.width-2*q,0,"L",n,o-x-q].join(",")})}else{d=Math.sqrt(Math.pow(x+q,2)-Math.pow(p.height/2+q,2));w.attr({path:["M",n,o+x,"c",-r,0,-x,r-x,-x,-x,0,-r,x-r,-x,x,-x,r,0,x,x-r,x,x,0,r,r-x,x,-x,x,"M",n+d,o-p.height/2-q,"a",x+q,x+q,0,1,0,0,p.height+2*q,"l",x+q-d+p.width+2*q,0,0,-p.height-2*q,"L",n+d,o-p.height/2-q].join(",")})}u=360-u;w.rotate(u,n,o);if(this.attrs){this.attr(this.attrs.x?"x":"cx",n+x+q+(!y?this.type=="text"?p.width:0:p.width/2)).attr("y",y?o:o-p.height/2);this.rotate(u,n,o);u>90&&u<270&&this.attr(this.attrs.x?"x":"cx",n-x-q-(!y?p.width:p.width/2)).rotate(180,n,o)}else{if(u>90&&u<270){this.translate(n-p.x-p.width-x-q,o-p.y-p.height/2);this.rotate(u-180,p.x+p.width+x+q,p.y+p.height/2)}else{this.translate(n-p.x+x+q,o-p.y-p.height/2);this.rotate(u,p.x-x-q,p.y+p.height/2)}}return w.insertBefore(this.node?this:this[0])};Raphael.el.drop=function(q,n,o){var p=this.getBBox(),r=this.paper||this[0].paper,u,k,s,l,m;if(!r){return}switch(this.type){case"text":case"circle":case"ellipse":u=true;break;default:u=false}q=q||0;n=typeof n=="number"?n:(u?p.x+p.width/2:p.x);o=typeof o=="number"?o:(u?p.y+p.height/2:p.y);k=Math.max(p.width,p.height)+Math.min(p.width,p.height);s=r.path(["M",n,o,"l",k,0,"A",k*0.4,k*0.4,0,1,0,n+k*0.7,o-k*0.7,"z"]).attr({fill:"#000",stroke:"none"}).rotate(22.5-q,n,o);q=(q+90)*Math.PI/180;l=(n+k*Math.sin(q))-(u?0:p.width/2);m=(o+k*Math.cos(q))-(u?0:p.height/2);this.attrs?this.attr(this.attrs.x?"x":"cx",l).attr(this.attrs.y?"y":"cy",m):this.translate(l-p.x,m-p.y);return s.insertBefore(this.node?this:this[0])};Raphael.el.flag=function(o,d,h){var m=3,p=this.paper||this[0].paper;if(!p){return}var q=p.path().attr({fill:"#000",stroke:"#000"}),l=this.getBBox(),n=l.height/2,r;switch(this.type){case"text":case"circle":case"ellipse":r=true;break;default:r=false}o=o||0;d=typeof d=="number"?d:(r?l.x+l.width/2:l.x);h=typeof h=="number"?h:(r?l.y+l.height/2:l.y);q.attr({path:["M",d,h,"l",n+m,-n-m,l.width+2*m,0,0,l.height+2*m,-l.width-2*m,0,"z"].join(",")});o=360-o;q.rotate(o,d,h);if(this.attrs){this.attr(this.attrs.x?"x":"cx",d+n+m+(!r?this.type=="text"?l.width:0:l.width/2)).attr("y",r?h:h-l.height/2);this.rotate(o,d,h);o>90&&o<270&&this.attr(this.attrs.x?"x":"cx",d-n-m-(!r?l.width:l.width/2)).rotate(180,d,h)}else{if(o>90&&o<270){this.translate(d-l.x-l.width-n-m,h-l.y-l.height/2);this.rotate(o-180,l.x+l.width+n+m,l.y+l.height/2)}else{this.translate(d-l.x+n+m,h-l.y-l.height/2);this.rotate(o,l.x-n-m,l.y+l.height/2)}}return q.insertBefore(this.node?this:this[0])};Raphael.el.label=function(){var f=this.getBBox(),d=this.paper||this[0].paper,e=Math.min(20,f.width+10,f.height+10)/2;if(!d){return}return d.rect(f.x-e/2,f.y-e/2,f.width+e,f.height+e,e).attr({stroke:"none",fill:"#000"}).insertBefore(this.node?this:this[0])};Raphael.el.blob=function(h,J,K){var L=this.getBBox(),C=Math.PI/180,G=this.paper||this[0].paper,y,E,D;if(!G){return}switch(this.type){case"text":case"circle":case"ellipse":E=true;break;default:E=false}y=G.path().attr({fill:"#000",stroke:"none"});h=(+h+1?h:45)+90;D=Math.min(L.height,L.width);J=typeof J=="number"?J:(E?L.x+L.width/2:L.x);K=typeof K=="number"?K:(E?L.y+L.height/2:L.y);var H=Math.max(L.width+D,D*25/12),w=Math.max(L.height+D,D*25/12),p=J+D*Math.sin((h-22.5)*C),Q=K+D*Math.cos((h-22.5)*C),k=J+D*Math.sin((h+22.5)*C),O=K+D*Math.cos((h+22.5)*C),F=(k-p)/2,I=(O-Q)/2,M=H/2,N=w/2,x=-Math.sqrt(Math.abs(M*M*N*N-M*M*I*I-N*N*F*F)/(M*M*I*I+N*N*F*F)),P=x*M*I/N+(k+p)/2,R=x*-N*F/M+(O+Q)/2;y.attr({x:P,y:R,path:["M",J,K,"L",k,O,"A",M,N,0,1,1,p,Q,"z"].join(",")});this.translate(P-L.x-L.width/2,R-L.y-L.height/2);return y.insertBefore(this.node?this:this[0])};Raphael.fn.label=function(f,g,e){var h=this.set();e=this.text(f,g,e).attr(Raphael.g.txtattr);return h.push(e.label(),e)};Raphael.fn.popup=function(h,i,k,g,l){var j=this.set();k=this.text(h,i,k).attr(Raphael.g.txtattr);return j.push(k.popup(g,l),k)};Raphael.fn.tag=function(h,i,k,l,g){var j=this.set();k=this.text(h,i,k).attr(Raphael.g.txtattr);return j.push(k.tag(l,g),k)};Raphael.fn.flag=function(g,h,j,f){var i=this.set();j=this.text(g,h,j).attr(Raphael.g.txtattr);return i.push(j.flag(f),j)};Raphael.fn.drop=function(g,h,j,f){var i=this.set();j=this.text(g,h,j).attr(Raphael.g.txtattr);return i.push(j.drop(f),j)};Raphael.fn.blob=function(g,h,j,f){var i=this.set();j=this.text(g,h,j).attr(Raphael.g.txtattr);return i.push(j.blob(f),j)};Raphael.el.lighter=function(c){c=c||2;var d=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[d[0],d[1]];d[0]=Raphael.rgb2hsb(Raphael.getRGB(d[0]).hex);d[1]=Raphael.rgb2hsb(Raphael.getRGB(d[1]).hex);d[0].b=Math.min(d[0].b*c,1);d[0].s=d[0].s/c;d[1].b=Math.min(d[1].b*c,1);d[1].s=d[1].s/c;this.attr({fill:"hsb("+[d[0].h,d[0].s,d[0].b]+")",stroke:"hsb("+[d[1].h,d[1].s,d[1].b]+")"});return this};Raphael.el.darker=function(c){c=c||2;var d=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[d[0],d[1]];d[0]=Raphael.rgb2hsb(Raphael.getRGB(d[0]).hex);d[1]=Raphael.rgb2hsb(Raphael.getRGB(d[1]).hex);d[0].s=Math.min(d[0].s*c,1);d[0].b=d[0].b/c;d[1].s=Math.min(d[1].s*c,1);d[1].b=d[1].b/c;this.attr({fill:"hsb("+[d[0].h,d[0].s,d[0].b]+")",stroke:"hsb("+[d[1].h,d[1].s,d[1].b]+")"});return this};Raphael.el.resetBrightness=function(){if(this.fs){this.attr({fill:this.fs[0],stroke:this.fs[1]});delete this.fs}return this};(function(){var f=["lighter","darker","resetBrightness"],e=["popup","tag","flag","label","drop","blob"];for(var d in e){(function(a){Raphael.st[a]=function(){return Raphael.el[a].apply(this,arguments)}})(e[d])}for(var d in f){(function(a){Raphael.st[a]=function(){for(var b=0;b<this.length;b++){this[b][a].apply(this[b],arguments)}return this}})(f[d])}})();Raphael.g={shim:{stroke:"none",fill:"#000","fill-opacity":0},txtattr:{font:"12px Arial, sans-serif",fill:"#fff"},colors:(function(){var f=[0.6,0.2,0.05,0.1333,0.75,0],e=[];for(var d=0;d<10;d++){if(d<f.length){e.push("hsb("+f[d]+",.75, .75)")}else{e.push("hsb("+f[d-f.length]+", 1, .5)")}}return e})(),snapEnds:function(n,i,o){var q=n,f=i;if(q==f){return{from:q,to:f,power:0}}function d(a){return Math.abs(a-0.5)<0.25?~~(a)+0.5:Math.round(a)}var p=(f-q)/o,u=~~(p),r=u,s=0;if(u){while(r){s--;r=~~(p*Math.pow(10,s))/Math.pow(10,s)}s++}else{while(!u){s=s||1;u=~~(p*Math.pow(10,s))/Math.pow(10,s);s++}s&&s--}f=d(i*Math.pow(10,s))/Math.pow(10,s);if(f<i){f=d((i+0.5)*Math.pow(10,s))/Math.pow(10,s)}q=d((n-(s>0?0:0.5))*Math.pow(10,s))/Math.pow(10,s);return{from:q,to:f,power:s}},axis:function(X,Y,ac,R,af,M,ae,i,ad,ai,V){ai=ai==null?2:ai;ad=ad||"t";M=M||10;V=arguments[arguments.length-1];var T=ad=="|"||ad==" "?["M",X+0.5,Y,"l",0,0.001]:ae==1||ae==3?["M",X+0.5,Y,"l",0,-ac]:["M",X,Y+0.5,"l",ac,0],Q=this.snapEnds(R,af,M),y=Q.from,f=Q.to,O=Q.power,P=0,x={font:"11px 'Fontin Sans', Fontin-Sans, sans-serif"},L=V.set(),j;j=(f-y)/M;var Z=y,aa=O>0?O:0;S=ac/M;if(+ae==1||+ae==3){var ah=Y,N=(ae-1?1:-1)*(ai+3+!!(ae-1));while(ah>=Y-ac){ad!="-"&&ad!=" "&&(T=T.concat(["M",X-(ad=="+"||ad=="|"?ai:!(ae-1)*ai*2),ah+0.5,"l",ai*2+1,0]));L.push(V.text(X+N,ah,(i&&i[P++])||(Math.round(Z)==Z?Z:+Z.toFixed(aa))).attr(x).attr({"text-anchor":ae-1?"start":"end"}));Z+=j;ah-=S}if(Math.round(ah+S-(Y-ac))){ad!="-"&&ad!=" "&&(T=T.concat(["M",X-(ad=="+"||ad=="|"?ai:!(ae-1)*ai*2),Y-ac+0.5,"l",ai*2+1,0]));L.push(V.text(X+N,Y-ac,(i&&i[P])||(Math.round(Z)==Z?Z:+Z.toFixed(aa))).attr(x).attr({"text-anchor":ae-1?"start":"end"}))}}else{Z=y;aa=(O>0)*O;N=(ae?-1:1)*(ai+9+!ae);var ag=X,S=ac/M,W=0,U=0;while(ag<=X+ac){ad!="-"&&ad!=" "&&(T=T.concat(["M",ag+0.5,Y-(ad=="+"?ai:!!ae*ai*2),"l",0,ai*2+1]));L.push(W=V.text(ag,Y+N,(i&&i[P++])||(Math.round(Z)==Z?Z:+Z.toFixed(aa))).attr(x));var ab=W.getBBox();if(U>=ab.x-5){L.pop(L.length-1).remove()}else{U=ab.x+ab.width}Z+=j;ag+=S}if(Math.round(ag-S-X-ac)){ad!="-"&&ad!=" "&&(T=T.concat(["M",X+ac+0.5,Y-(ad=="+"?ai:!!ae*ai*2),"l",0,ai*2+1]));L.push(V.text(X+ac,Y+N,(i&&i[P])||(Math.round(Z)==Z?Z:+Z.toFixed(aa))).attr(x))}}var d=V.path(T);d.text=L;d.all=V.set([d,L]);d.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return d},labelise:function(e,f,d){if(e){return(e+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(c,a,b){if(a){return(+f).toFixed(a.replace(/^#+\.?/g,"").length)}if(b){return(f*100/d).toFixed(b.replace(/^%+\.?/g,"").length)+"%"}})}else{return(+f).toFixed(0)}}};
/*!
 * g.Raphael 0.51 - Charting library, based on Raphal
 *
 * Copyright (c) 2009-2012 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
(function(){function i(c,f,e,a,u,d,m,n){var b;if(u&&!a||!u&&!e){return m?"":n.path()}d={round:"round",sharp:"sharp",soft:"soft",square:"square"}[d]||"square";a=Math.round(a);e=Math.round(e);c=Math.round(c);f=Math.round(f);switch(d){case"round":u?(u=~~(e/2),b=a<u?["M",c-~~(e/2),f,"l",0,0,"a",~~(e/2),a,0,0,1,e,0,"l",0,0,"z"]:["M",c-u,f,"l",0,u-a,"a",u,u,0,1,1,e,0,"l",0,a-u,"z"]):(u=~~(a/2),b=e<u?["M",c+0.5,f+0.5-~~(a/2),"l",0,0,"a",e,~~(a/2),0,0,1,0,a,"l",0,0,"z"]:["M",c+0.5,f+0.5-u,"l",e-u,0,"a",u,u,0,1,1,0,a,"l",u-e,0,"z"]);break;case"sharp":u?(u=~~(e/2),b=["M",c+u,f,"l",-e,0,0,-k(a-u,0),u,-j(u,a),u,j(u,a),u,"z"]):(u=~~(a/2),b=["M",c,f+u,"l",0,-a,k(e-u,0),0,j(u,e),u,-j(u,e),u+(2*u<a),"z"]);break;case"square":b=u?["M",c+~~(e/2),f,"l",1-e,0,0,-a,e-1,0,"z"]:["M",c,f+~~(a/2),"l",0,-a,e,0,0,a,"z"];break;case"soft":u?(u=j(Math.round(e/5),a),b=["M",c-~~(e/2),f,"l",0,u-a,"a",u,u,0,0,1,u,-u,"l",e-2*u,0,"a",u,u,0,0,1,u,u,"l",0,a-u,"z"]):(u=j(e,Math.round(a/5)),b=["M",c+0.5,f+0.5-~~(a/2),"l",e-u,0,"a",u,u,0,0,1,u,u,"l",0,a-2*u,"a",u,u,0,0,1,-u,u,"l",u-e,0,"z"])}return m?b.join(","):n.path(b)}function l(am,m,c,ai,ah,b,n){var n=n||{},q=n.type||"square",aj=parseFloat(n.gutter||"20%"),u=am.set(),x=am.set(),p=am.set(),w=am.set(),z=Math.max.apply(Math,b),a=[],f=0,H=n.colors||this.colors,r=b.length;if(Raphael.is(b[0],"array")){for(var z=[],f=r,r=0,al=b.length;al--;){x.push(am.set()),z.push(Math.max.apply(Math,b[al])),r=Math.max(r,b[al].length)}if(n.stacked){for(al=r;al--;){for(var e=0,ak=b.length;ak--;){e+=+b[ak][al]||0}a.push(e)}}for(al=b.length;al--;){if(b[al].length<r){for(ak=r;ak--;){b[al].push(0)}}}z=Math.max.apply(Math,n.stacked?a:z)}var z=n.to||z,ai=100*(ai/(r*(100+aj)+aj)),aj=ai*aj/100,s=null==n.vgutter?20:n.vgutter,a=[],e=m+aj,y=(ah-2*s)/z;n.stretch||(aj=Math.round(aj),ai=Math.floor(ai));!n.stacked&&(ai/=f||1);for(al=0;al<r;al++){a=[];for(ak=0;ak<(f||1);ak++){var d=Math.round((f?b[ak][al]:b[al])*y),D=c+ah-s-d,o=i(Math.round(e+ai/2),D+d,ai,d,!0,q,null,am).attr({stroke:"none",fill:H[f?ak:al]});f?x[ak].push(o):x.push(o);o.y=D;o.x=Math.round(e+ai/2);o.w=ai;o.h=d;o.value=f?b[ak][al]:b[al];n.stacked?a.push(o):e+=ai}if(n.stacked){w.push(ak=am.rect(a[0].x-a[0].w/2,c,ai,ah).attr(this.shim));ak.bars=am.set();for(var D=0,ag=a.length;ag--;){a[ag].toFront()}for(var ag=0,v=a.length;ag<v;ag++){var o=a[ag],d=(D+o.value)*y,A=i(o.x,c+ah-s-0.5*!!D,ai,d,!0,q,1,am);ak.bars.push(o);D&&o.attr({path:A});o.h=d;o.y=c+ah-s-0.5*!!D-d;p.push(d=am.rect(o.x-o.w/2,o.y,ai,o.value*y).attr(this.shim));d.bar=o;d.value=o.value;D+=o.value}e+=ai}e+=aj}w.toFront();e=m+aj;if(!n.stacked){for(al=0;al<r;al++){for(ak=0;ak<(f||1);ak++){p.push(d=am.rect(Math.round(e),c+s,ai,ah-s).attr(this.shim)),d.bar=f?x[ak][al]:x[al],d.value=d.bar.value,e+=ai}e+=aj}}u.label=function(C,I){C=C||[];this.labels=am.set();var G,K=-Infinity;if(n.stacked){for(var F=0;F<r;F++){for(var E=0,J=0;J<(f||1);J++){E=E+(f?b[J][F]:b[F]);if(J==f-1){G=am.labelise(C[F],E,z);G=am.text(x[F*(f||1)+J].x,c+ah-s/2,G).attr(txtattr).insertBefore(p[F*(f||1)+J]);var B=G.getBBox();if(B.x-7<K){G.remove()}else{this.labels.push(G);K=B.x+B.width}}}}}else{for(F=0;F<r;F++){for(J=0;J<(f||1);J++){G=am.labelise(f?C[J]&&C[J][F]:C[F],f?b[J][F]:b[F],z);G=am.text(x[F*(f||1)+J].x,I?c+ah-s/2:x[F*(f||1)+J].y-10,G).attr(txtattr).insertBefore(p[F*(f||1)+J]);B=G.getBBox();if(B.x-7<K){G.remove()}else{this.labels.push(G);K=B.x+B.width}}}}return this};u.hover=function(B,C){w.hide();p.show();p.mouseover(B).mouseout(C);return this};u.hoverColumn=function(B,C){p.hide();w.show();w.mouseover(B).mouseout(C||function(){});return this};u.click=function(B){w.hide();p.show();p.click(B);return this};u.each=function(B){if(!Raphael.is(B,"function")){return this}for(var C=p.length;C--;){B.call(p[C])}return this};u.eachColumn=function(B){if(!Raphael.is(B,"function")){return this}for(var C=w.length;C--;){B.call(w[C])}return this};u.clickColumn=function(B){p.hide();w.show();w.click(B);return this};u.push(x,p,w);u.bars=x;u.covers=p;return u}function g(b,o,e,ai,ah,d,p){var p=p||{},af=p.type||"square",aj=parseFloat(p.gutter||"20%"),w=b.set(),z=b.set(),r=b.set(),y=b.set(),D=Math.max.apply(Math,d),c=[],n=0,u=p.colors||this.colors,s=d.length;if(Raphael.is(d[0],"array")){for(var D=[],n=s,s=0,a=d.length;a--;){z.push(b.set()),D.push(Math.max.apply(Math,d[a])),s=Math.max(s,d[a].length)}if(p.stacked){for(a=s;a--;){for(var m=0,ak=d.length;ak--;){m+=+d[ak][a]||0}c.push(m)}}for(a=d.length;a--;){if(d[a].length<s){for(ak=s;ak--;){d[a].push(0)}}}D=Math.max.apply(Math,p.stacked?c:D)}var D=p.to||D,v=Math.floor(100*(ah/(s*(100+aj)+aj))),ah=Math.floor(v*aj/100),aj=[],c=e+ah,m=(ai-1)/D;!p.stacked&&(v/=n||1);for(a=0;a<s;a++){aj=[];for(ak=0;ak<(n||1);ak++){var C=n?d[ak][a]:d[a],f=i(o,c+v/2,Math.round(C*m),v-1,!1,af,null,b).attr({stroke:"none",fill:u[n?ak:a]});n?z[ak].push(f):z.push(f);f.x=o+Math.round(C*m);f.y=c+v/2;f.w=Math.round(C*m);f.h=v;f.value=+C;p.stacked?aj.push(f):c+=v}if(p.stacked){ak=b.rect(o,aj[0].y-aj[0].h/2,ai,v).attr(this.shim);y.push(ak);ak.bars=b.set();for(var ae=0,q=aj.length;q--;){aj[q].toFront()}for(var q=0,ag=aj.length;q<ag;q++){var f=aj[q],C=Math.round((ae+f.value)*m),x=i(o,f.y,C,v-1,!1,af,1,b);ak.bars.push(f);ae&&f.attr({path:x});f.w=C;f.x=o+C;r.push(C=b.rect(o+ae*m,f.y-f.h/2,f.value*m,v).attr(this.shim));C.bar=f;ae+=f.value}c+=v}c+=ah}y.toFront();c=e+ah;if(!p.stacked){for(a=0;a<s;a++){for(ak=0;ak<(n||1);ak++){C=b.rect(o,c,ai,v).attr(this.shim),r.push(C),C.bar=n?z[ak][a]:z[a],C.value=C.bar.value,c+=v}c+=ah}}w.label=function(G,H){G=G||[];this.labels=b.set();for(var A=0;A<s;A++){for(var B=0;B<n;B++){var E=b.labelise(n?G[B]&&G[B][A]:G[A],n?d[B][A]:d[A],D),F=H?"end":"start";this.labels.push(E=b.text(H?z[A*(n||1)+B].x-v/2+3:o+5,z[A*(n||1)+B].y,E).attr(txtattr).attr({"text-anchor":F}).insertBefore(r[0]));E.getBBox().x<o+5?E.attr({x:o+5,"text-anchor":"start"}):z[A*(n||1)+B].label=E}}return this};w.hover=function(A,B){y.hide();r.show();r.mouseover(A).mouseout(B||function(){});return this};w.hoverColumn=function(A,B){r.hide();y.show();y.mouseover(A).mouseout(B||function(){});return this};w.each=function(A){if(!Raphael.is(A,"function")){return this}for(var B=r.length;B--;){A.call(r[B])}return this};w.eachColumn=function(A){if(!Raphael.is(A,"function")){return this}for(var B=y.length;B--;){A.call(y[B])}return this};w.click=function(A){y.hide();r.show();r.click(A);return this};w.clickColumn=function(A){r.hide();y.show();y.click(A);return this};w.push(z,r,y);w.bars=z;w.covers=r;return w}var j=Math.min,k=Math.max,h=function(){};h.prototype=Raphael.g;g.prototype=l.prototype=new h;Raphael.fn.barchart=function(e,c,a,d,b,f){return new l(this,e,c,a,d,b,f)};Raphael.fn.hbarchart=function(e,c,a,d,b,f){return new g(this,e,c,a,d,b,f)}})();
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2
 *
 */
(function(a){jQuery.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"4px",color:"#000",position:"right",distance:"1.5px",start:"top",opacity:0.16,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:30,borderRadius:"6px",railBorderRadius:"6px"};var d=a.extend(c,b);this.each(function(){var x,r,k,p,A,s,o,j,l="<div></div>",u=30,q=false;var B=a(this);if(B.parent().hasClass(d.wrapperClass)){var h=B.scrollTop();v=B.parent().find("."+d.barClass);e=B.parent().find("."+d.railClass);C();if(a.isPlainObject(b)){if("height" in b){var n;if(b.height=="auto"){B.parent().css("height","auto");B.css("height","auto");n=B.parent().parent().height()}else{n=b.height}B.parent().css("height",n);B.css("height",n)}if("scrollTo" in b){h=parseInt(d.scrollTo)}else{if("scrollBy" in b){h+=parseInt(d.scrollBy)}else{if("destroy" in b){v.remove();e.remove();B.unwrap();return}}}w(h,false,true)}return}d.height=(b.height=="auto")?B.parent().height():b.height;var i=a(l).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});B.css({overflow:"hidden",width:d.width,height:d.height});var e=a(l).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:(d.alwaysVisible&&d.railVisible)?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:1});var v=a(l).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:2});var f=(d.position=="right")?{right:d.distance}:{left:d.distance};e.css(f);v.css(f);B.wrap(i);B.parent().append(v);B.parent().append(e);if(d.railDraggable){v.bind("mousedown",function(D){var E=a(document);k=true;t=parseFloat(v.css("top"));pageY=D.pageY;E.bind("mousemove.slimscroll",function(F){currTop=t+F.pageY-pageY;v.css("top",currTop);w(0,v.position().top,false)});E.bind("mouseup.slimscroll",function(F){k=false;m();E.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(D){D.stopPropagation();D.preventDefault();return false})}e.hover(function(){g()},function(){m()});v.hover(function(){r=true},function(){r=false});B.hover(function(){x=true;g();m()},function(){x=false;m()});B.bind("touchstart",function(E,D){if(E.originalEvent.touches.length){A=E.originalEvent.touches[0].pageY}});B.bind("touchmove",function(E){if(!q){E.originalEvent.preventDefault()}if(E.originalEvent.touches.length){var D=(A-E.originalEvent.touches[0].pageY)/d.touchScrollStep;w(D,true);A=E.originalEvent.touches[0].pageY}});C();if(d.start==="bottom"){v.css({top:B.outerHeight()-v.outerHeight()});w(0,true)}else{if(d.start!=="top"){w(a(d.start).position().top,null,true);if(!d.alwaysVisible){v.hide()}}}y();function z(E){if(!x){return}var E=E||window.event;var F=0;if(E.wheelDelta){F=-E.wheelDelta/120}if(E.detail){F=E.detail/3}var D=E.target||E.srcTarget||E.srcElement;if(a(D).closest("."+d.wrapperClass).is(B.parent())){w(F,true)}if(E.preventDefault&&!q){E.preventDefault()}if(!q){E.returnValue=false}}function w(I,F,D){q=false;var H=I;var G=B.outerHeight()-v.outerHeight();if(F){H=parseInt(v.css("top"))+I*parseInt(d.wheelStep)/100*v.outerHeight();H=Math.min(Math.max(H,0),G);H=(I>0)?Math.ceil(H):Math.floor(H);v.css({top:H+"px"})}o=parseInt(v.css("top"))/(B.outerHeight()-v.outerHeight());H=o*(B[0].scrollHeight-B.outerHeight());if(D){H=I;var E=H/B[0].scrollHeight*B.outerHeight();E=Math.min(Math.max(E,0),G);v.css({top:E+"px"})}B.scrollTop(H);B.trigger("slimscrolling",~~H);g();m()}function y(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",z,false);this.addEventListener("mousewheel",z,false)}else{document.attachEvent("onmousewheel",z)}}function C(){s=Math.max((B.outerHeight()/B[0].scrollHeight)*B.outerHeight(),u);v.css({height:s+"px"});var D=s==B.outerHeight()?"none":"block";v.css({display:D})}function g(){C();clearTimeout(p);if(o==~~o){q=d.allowPageScroll;if(j!=o){var D=(~~o==0)?"top":"bottom";B.trigger("slimscroll",D)}}else{q=false}j=o;if(s>=B.outerHeight()){q=true;return}v.stop(true,true).fadeIn("fast");if(d.railVisible){e.stop(true,true).fadeIn("fast")}}function m(){if(!d.alwaysVisible){p=setTimeout(function(){if(!(d.disableFadeOut&&x)&&!r&&!k){v.fadeOut("slow");e.fadeOut("slow")}},1000)}}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);!function(b){var a=function(){return !1===b.support.boxModel&&b.support.objectAll&&b.support.leadingWhitespace}();b.jGrowl=function(d,c){0==b("#jGrowl").size()&&b('<div id="jGrowl"></div>').addClass(c&&c.position?c.position:b.jGrowl.defaults.position).appendTo("body"),b("#jGrowl").jGrowl(d,c)},b.fn.jGrowl=function(d,c){if(b.isFunction(this.each)){var e=arguments;return this.each(function(){void 0==b(this).data("jGrowl.instance")&&(b(this).data("jGrowl.instance",b.extend(new b.fn.jGrowl,{notifications:[],element:null,interval:null})),b(this).data("jGrowl.instance").startup(this)),b.isFunction(b(this).data("jGrowl.instance")[d])?b(this).data("jGrowl.instance")[d].apply(b(this).data("jGrowl.instance"),b.makeArray(e).slice(1)):b(this).data("jGrowl.instance").create(d,c)})}},b.extend(b.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3000,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(d,c){var c=b.extend({},this.defaults,c);"undefined"!=typeof c.speed&&(c.openDuration=c.speed,c.closeDuration=c.speed),this.notifications.push({message:d,options:c}),c.log.apply(this.element,[this.element,d,c])},render:function(d){var c=this,e=d.message,f=d.options;f.themeState=""==f.themeState?"":"ui-state-"+f.themeState;var d=b("<div/>").addClass("jGrowl-notification "+f.themeState+" ui-corner-all"+(void 0!=f.group&&""!=f.group?" "+f.group:"")).append(b("<div/>").addClass("jGrowl-close").html(f.closeTemplate)).append(b("<div/>").addClass("jGrowl-header").html(f.header)).append(b("<div/>").addClass("jGrowl-message").html(e)).data("jGrowl",f).addClass(f.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){b(this).parent().trigger("jGrowl.beforeClose")}).parent();b(d).bind("mouseover.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){b("div.jGrowl-notification",c.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){f.beforeOpen.apply(d,[d,e,f,c.element])!==!1&&b(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){f.open.apply(d,[d,e,f,c.element])!==!1&&("after"==f.glue?b("div.jGrowl-notification:last",c.element).after(d):b("div.jGrowl-notification:first",c.element).before(d),b(this).animate(f.animateOpen,f.openDuration,f.easing,function(){b.support.opacity===!1&&this.style.removeAttribute("filter"),null!==b(this).data("jGrowl")&&(b(this).data("jGrowl").created=new Date),b(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){f.afterOpen.apply(d,[d,e,f,c.element])}).bind("jGrowl.beforeClose",function(){f.beforeClose.apply(d,[d,e,f,c.element])!==!1&&b(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){b(this).data("jGrowl.pause",!0),b(this).animate(f.animateClose,f.closeDuration,f.easing,function(){b.isFunction(f.close)?f.close.apply(d,[d,e,f,c.element])!==!1&&b(this).remove():b(this).remove()})}).trigger("jGrowl.beforeOpen"),""!=f.corners&&void 0!=b.fn.corner&&b(d).corner(f.corners),b("div.jGrowl-notification:parent",c.element).size()>1&&0==b("div.jGrowl-closer",c.element).size()&&this.defaults.closer!==!1&&b(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(c.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){b(this).siblings().trigger("jGrowl.beforeClose"),b.isFunction(c.defaults.closer)&&c.defaults.closer.apply(b(this).parent()[0],[b(this).parent()[0]])})},update:function(){b(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!=b(this).data("jGrowl")&&void 0!==b(this).data("jGrowl").created&&b(this).data("jGrowl").created.getTime()+parseInt(b(this).data("jGrowl").life)<(new Date).getTime()&&b(this).data("jGrowl").sticky!==!0&&(void 0==b(this).data("jGrowl.pause")||b(this).data("jGrowl.pause")!==!0)&&b(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||b(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),b(this.element).find("div.jGrowl-notification:parent").size()<2&&b(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){b(this).remove()})},startup:function(c){this.element=b(c).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){b(c).data("jGrowl.instance").update()},parseInt(this.defaults.check)),a&&b(this.element).addClass("ie6")},shutdown:function(){b(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},close:function(){b(this.element).find("div.jGrowl-notification").each(function(){b(this).trigger("jGrowl.beforeClose")})}}),b.jGrowl.defaults=b.fn.jGrowl.prototype.defaults}(jQuery);(function(a){a.fn.veditor=function(m){function e(u,l,v,q,f){var o=h.length+1;return h.push({name:u,cls:o,command:l,key:v,tag:q,emphasis:f})}var d=[{title:"Text Format"},{title:"Font Size"},{title:"Color"},{title:"Bold",hotkey:"B"},{title:"Italic",hotkey:"I"},{title:"Underline",hotkey:"U"},{title:"Ordered List",hotkey:"."},{title:"Unordered List",hotkey:","},{title:"Subscript",hotkey:"down arrow"},{title:"Superscript",hotkey:"up arrow"},{title:"Outdent",hotkey:"left arrow"},{title:"Indent",hotkey:"right arrow"},{title:"Justify Left"},{title:"Justify Center"},{title:"Justify Right"},{title:"Strike Through",hotkey:"K"},{title:"Add Link",hotkey:"L"},{title:"Remove Link"},{title:"Cleaner Style",hotkey:"Delete"},{title:"Horizontal Rule",hotkey:"H"},{title:"Source"}];var b=[["p","Normal"],["h1","Header 1"],["h2","Header 2"],["h3","Header 3"],["h4","Header 4"],["h5","Header 5"],["h6","Header 6"],["pre","Preformatted"]];var g=["10","12","16","18","20","24","28"];var p=["0,0,0","68,68,68","102,102,102","153,153,153","204,204,204","238,238,238","243,243,243","255,255,255",null,"255,0,0","255,153,0","255,255,0","0,255,0","0,255,255","0,0,255","153,0,255","255,0,255",null,"244,204,204","252,229,205","255,242,204","217,234,211","208,224,227","207,226,243","217,210,233","234,209,220","234,153,153","249,203,156","255,229,153","182,215,168","162,196,201","159,197,232","180,167,214","213,166,189","224,102,102","246,178,107","255,217,102","147,196,125","118,165,175","111,168,220","142,124,195","194,123,160","204,0,0","230,145,56","241,194,50","106,168,79","69,129,142","61,133,198","103,78,167","166,77,121","153,0,0","180,95,6","191,144,0","56,118,29","19,79,92","11,83,148","53,28,117","116,27,71","102,0,0","120,63,4","127,96,0","39,78,19","12,52,61","7,55,99","32,18,77","76,17,48"];var c=["Web Address","E-mail Address","Picture URL"];var k=a.extend({status:true,css:"veditor",title:true,titletext:d,button:"OK",format:true,formats:b,fsize:true,fsizes:g,funit:"px",color:true,linktypes:c,b:true,i:true,u:true,ol:true,ul:true,sub:true,sup:true,outdent:true,indent:true,left:true,center:true,right:true,strike:true,link:true,unlink:true,remove:true,rule:true,source:true,placeholder:false,br:true,p:true,change:"",focus:"",blur:""},m);a.fn.veditorVal=function(f){a(this).closest("."+k.css).find("."+k.css+"_editor").html(f)};var j=navigator.userAgent.toLowerCase();if(/msie [1-7]./.test(j)){k.title=false}var h=[];e("format","formats","","",false);e("fsize","fSize","","",false);e("color","colors","","",false);e("b","Bold","B",["b","strong"],true);e("i","Italic","I",["i","em"],true);e("u","Underline","U",["u"],true);e("ol","insertorderedlist","",["ol"],true);e("ul","insertunorderedlist","",["ul"],true);e("sub","subscript","(",["sub"],true);e("sup","superscript","&",["sup"],true);e("outdent","outdent","%",["blockquote"],false);e("indent","indent","'",["blockquote"],true);e("left","justifyLeft","","",false);e("center","justifyCenter","","",false);e("right","justifyRight","","",false);e("strike","strikeThrough","K",["strike"],true);e("link","linkcreator","L",["a"],true);e("unlink","unlink","",["a"],false);e("remove","removeformat",".","",false);e("rule","inserthorizontalrule","H",["hr"],false);e("source","displaysource","","",false);return this.each(function(){function ax(){if(window.getSelection){return window.getSelection()}else{if(document.selection&&document.selection.createRange&&document.selection.type!="None"){return document.selection.createRange()}}}function aS(o,i){var q,l=ax();if(window.getSelection){if(l.anchorNode&&l.getRangeAt){q=l.getRangeAt(0)}if(q){l.removeAllRanges();l.addRange(q)}if(!j.match(/msie/)){document.execCommand("StyleWithCSS",false,false)}document.execCommand(o,false,i)}else{if(document.selection&&document.selection.createRange&&document.selection.type!="None"){q=document.selection.createRange();q.execCommand(o,false,i)}}aJ(false,false)}function at(C,w,q){if(aG.not(":focus")){aG.focus()}if(window.getSelection){var y=ax(),D,v,B;if(y.anchorNode&&y.getRangeAt){D=y.getRangeAt(0);v=document.createElement(C);a(v).attr(w,q);B=D.extractContents();v.appendChild(B);D.insertNode(v);y.removeAllRanges();if(w=="style"){aJ(a(v),q)}else{aJ(a(v),false)}}}else{if(document.selection&&document.selection.createRange&&document.selection.type!="None"){var A=document.selection.createRange();var z=A.htmlText;var x="<"+C+" "+w+'="'+q+'">'+z+"</"+C+">";document.selection.createRange().pasteHTML(x)}}}function aJ(o,i){var q=ao();q=q?q:o;if(q&&i==false){if(q.parent().is("[style]")){q.attr("style",q.parent().attr("style"))}if(q.is("[style]")){q.find("*").attr("style",q.attr("style"))}}else{if(o&&i&&o.is("[style]")){var l=i.split(";");l=l[0].split(":");if(o.is("[style*="+l[0]+"]")){o.find("*").css(l[0],l[1])}af(o)}}}function af(i){if(i){var i=i[0];if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(i);o.select()}else{if(window.getSelection){var l=window.getSelection();var o=document.createRange();if(i!="undefined"&&i!=null){o.selectNodeContents(i);l.removeAllRanges();l.addRange(o);if(a(i).is(":empty")){a(i).append("");af(a(i))}}}}}}function ac(){if(!aL.data("sourceOpened")){var i=ao();var o="http://";aa(true);if(i){var l=i.prop("tagName").toLowerCase();if(l=="a"&&i.is("[href]")){o=i.attr("href");i.attr(ae,"")}else{at("a",ae,"")}}else{aD.val(o).focus()}aV.click(function(n){if(a(n.target).hasClass(k.css+"_linktypetext")||a(n.target).hasClass(k.css+"_linktypearrow")){u(true)}});aF.find("a").click(function(){var n=a(this).attr(k.css+"-linktype");aF.data("linktype",n);au.find("."+k.css+"_linktypetext").html(aF.find("a:eq("+aF.data("linktype")+")").text());ab(o);u()});ab(o);aD.focus().val(o).bind("keypress keyup",function(n){if(n.keyCode==13){aC(aU.find("["+ae+"]"));return false}});aZ.click(function(){aC(aU.find("["+ae+"]"))})}else{aa(false)}}function aC(i){aD.focus();af(i);i.removeAttr(ae);if(aF.data("linktype")!="2"){aS("createlink",aD.val())}else{aS("insertImage",aD.val());aG.find("img").each(function(){var l=a(this).prev("a");var o=a(this).next("a");if(l.length>0&&l.html()==""){l.remove()}else{if(o.length>0&&o.html()==""){o.remove()}}})}aa();aG.trigger("change")}function aa(i){ag("["+ae+"]:not([href])");aU.find("["+ae+"][href]").removeAttr(ae);if(i){aL.data("linkOpened",true);aX.show()}else{aL.data("linkOpened",false);aX.hide()}u()}function u(i){if(i){aF.show()}else{aF.hide()}}function ab(l){var i=aF.data("linktype");if(i=="1"&&(aD.val()=="http://"||aD.is("[value^=http://]")||!aD.is("[value^=mailto]"))){aD.val("mailto:")}else{if(i!="1"&&!aD.is("[value^=http://]")){aD.val("http://")}else{aD.val(l)}}}function an(i){if(!aL.data("sourceOpened")){if(i=="fSize"){styleField=ah}else{if(i=="colors"){styleField=ap}}am(styleField,true);styleField.find("a").unbind("click").click(function(){var o=a(this).attr(k.css+"-styleval");if(i=="fSize"){styleType="font-size";o=o+k.funit}else{if(i=="colors"){styleType="color";o="rgb("+o+")"}}var l=ar(styleType);at("span","style",styleType+":"+o+";"+l);am("",false);a("."+k.css+"_title").remove();aG.trigger("change")})}else{am(styleField,false)}aa(false)}function am(v,o){var w="",q=[{d:"fsizeOpened",f:ah},{d:"cpallOpened",f:ap}];if(v!=""){for(var l=0;l<q.length;l++){if(v==q[l]["f"]){w=q[l]}}}if(o){aL.data(w.d,true);w.f.slideDown(100);for(var l=0;l<q.length;l++){if(w.d!=q[l]["d"]){aL.data(q[l]["d"],false);q[l]["f"].slideUp(100)}}}else{for(var l=0;l<q.length;l++){aL.data(q[l]["d"],false);q[l]["f"].slideUp(100)}}}function ag(i){aU.find(i).each(function(){a(this).before(a(this).html()).remove()})}function ar(o){var i=ao();if(i&&i.is("[style]")&&i.css(o)!=""){var q=i.css(o);i.css(o,"");var l=i.attr("style");i.css(o,q);return l}else{return""}}function s(){f(true);av.find("a").click(function(){a("*",this).click(function(l){l.preventDefault();return false});aK(a(this).text());var i=a(this).attr(k.css+"-formatval");aS("formatBlock","<"+i+">");f(false)})}function f(l){var i=l?true:false;i=l&&av.data("status")?true:false;if(i||!l){av.data("status",false).slideUp(200)}else{av.data("status",true).slideDown(200)}}function aK(l){var i=av.closest("."+k.css+"_tool").find("."+k.css+"_tool_label").find("."+k.css+"_tool_text");if(l.length>10){l=l.substr(0,7)+"..."}i.html(l)}function aW(v){var o,w,q;o=v.replace(/\n/gim,"").replace(/\r/gim,"").replace(/\t/gim,"").replace(//gim," ");w=[/\<span(|\s+.*?)><span(|\s+.*?)>(.*?)<\/span><\/span>/gim,/<(\w*[^p])\s*[^\/>]*>\s*<\/\1>/gim,/\<div(|\s+.*?)>(.*?)\<\/div>/gim,/\<strong(|\s+.*?)>(.*?)\<\/strong>/gim,/\<em(|\s+.*?)>(.*?)\<\/em>/gim];q=["<span$2>$3</span>","","<p$1>$2</p>","<b$1>$2</b>","<i$1>$2</i>"];for(ay=0;ay<5;ay++){for(var l=0;l<w.length;l++){o=o.replace(w[l],q[l])}}if(!k.p){o=o.replace(/\<p(|\s+.*?)>(.*?)\<\/p>/ig,"<br/>$2")}if(!k.br){w=[/\<br>(.*?)/ig,/\<br\/>(.*?)/ig];q=["<p>$1</p>","<p>$1</p>"];for(var l=0;l<w.length;l++){o=o.replace(w[l],q[l])}}if(!k.p&&!k.br){o=o.replace(/\<p>(.*?)\<\/p>/ig,"<div>$1</div>")}return o}function aR(){var i=aG.text()==""&&aG.html().length<12?"":aG.html();aP.val(aW(i))}function aB(){aG.html(aW(aP.val()))}function az(o){var v=false,q=ao(),l;if(q){a.each(o,function(i,n){l=q.prop("tagName").toLowerCase();if(l==n){v=true}else{q.parents().each(function(){l=a(this).prop("tagName").toLowerCase();if(l==n){v=true}})}});return v}else{return false}}function aq(o){for(var w=0;w<h.length;w++){if(k[h[w].name]&&h[w].emphasis&&h[w].tag!=""){az(h[w].tag)?aL.find("."+k.css+"_tool_"+h[w].cls).addClass(aO):a("."+k.css+"_tool_"+h[w].cls).removeClass(aO)}}if(k.format&&a.isArray(k.formats)){var v=false;for(var l=0;l<k.formats.length;l++){var q=[];q[0]=k.formats[l][0];if(k.formats[l][0].length>0&&az(q)){aK(k.formats[l][1]);v=true;break}}if(!v){aK(k.formats[0][1])}}am("",false);f(false)}if(!a(this).data("veditor")||a(this).data("veditor")==null||a(this).data("veditor")=="undefined"){a(this).data("veditor",true)}else{a(this).data("veditor",false)}if(!k.status||!a(this).data("veditor")){if(a(this).closest("."+k.css).length>0){var aH=a(this).closest("."+k.css).find("."+k.css+"_editor").html();var aN="";a(a(this)[0].attributes).each(function(){if(this.nodeName!="style"){aN=aN+" "+this.nodeName+'="'+this.nodeValue+'"'}});var aI=a(this).is("[data-origin]")&&a(this).attr("data-origin")!=""?a(this).attr("data-origin"):"textarea";var aT=">"+aH;if(aI=="input"||aI=="option"){aH=aH.replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"<").replace(/>/g,">");aT='value="'+aH+'">'}var aM=a(this).clone();a(this).data("veditor",false).closest("."+k.css).before(aM).remove();aM.replaceWith("<"+aI+aN+aT+"</"+aI+">")}return}var aP=a(this);var aI=a(this).prop("tagName").toLowerCase();a(this).attr("data-origin",aI);var aY=a(this).is("[value]")||aI=="textarea"?a(this).val():a(this).html();aY=aY.replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/</g,"<").replace(/>/g,">").replace(/&/g,"&");a(this).after('<div class="'+k.css+'"></div>');var aU=a(this).next("."+k.css);aU.html('<div class="'+k.css+'_toolbar" role="toolbar" unselectable></div><div class="'+k.css+'_linkform" style="display:none" role="dialog"></div><div class="'+k.css+'_editor"></div>');var aL=aU.find("."+k.css+"_toolbar");var aX=aU.find("."+k.css+"_linkform");var aG=aU.find("."+k.css+"_editor");var aO=k.css+"_tool_depressed";aX.append('<div class="'+k.css+'_linktypeselect" unselectable></div><input class="'+k.css+'_linkinput" type="text/css" value=""><div class="'+k.css+'_linkbutton" unselectable>'+k.button+'</div> <div style="height:1px;float:none;clear:both"></div>');var aV=aX.find("."+k.css+"_linktypeselect");var aD=aX.find("."+k.css+"_linkinput");var aZ=aX.find("."+k.css+"_linkbutton");aV.append('<div class="'+k.css+'_linktypeview" unselectable></div><div class="'+k.css+'_linktypes" role="menu" unselectable></div>');var aF=aV.find("."+k.css+"_linktypes");var au=aV.find("."+k.css+"_linktypeview");var ae=k.css+"-setlink";aG.after('<div class="'+k.css+"_source "+k.css+'_hiddenField"></div>');var aE=aU.find("."+k.css+"_source");aP.appendTo(aE);if(aI!="textarea"){var aN="";a(aP[0].attributes).each(function(){if(this.nodeName!="type"&&this.nodeName!="value"){aN=aN+" "+this.nodeName+'="'+this.nodeValue+'"'}});aP.replaceWith("<textarea "+aN+">"+aY+"</textarea>");aP=aE.find("textarea")}aG.attr("contenteditable","true").html(aY);for(var ad=0;ad<h.length;ad++){if(k[h[ad].name]){var aj=h[ad].key.length>0?k.titletext[ad].hotkey!=null&&k.titletext[ad].hotkey!="undefined"&&k.titletext[ad].hotkey!=""?" (Ctrl+"+k.titletext[ad].hotkey+")":"":"";var aw=k.titletext[ad].title!=null&&k.titletext[ad].title!="undefined"&&k.titletext[ad].title!=""?k.titletext[ad].title+aj:"";aL.append('<div class="'+k.css+"_tool "+k.css+"_tool_"+h[ad].cls+'" role="button" data-tool="'+ad+'" unselectable><a class="'+k.css+'_tool_icon" unselectable></a></div>');aL.find("."+k.css+"_tool[data-tool="+ad+"]").data({tag:h[ad].tag,command:h[ad].command,emphasis:h[ad].emphasis,title:aw});if(h[ad].name=="format"&&a.isArray(k.formats)){var aQ=k.formats[0][1].length>0&&k.formats[0][1]!="undefined"?k.formats[0][1]:"";aL.find("."+k.css+"_tool_"+h[ad].cls).find("."+k.css+"_tool_icon").replaceWith('<a class="'+k.css+'_tool_label" unselectable><span class="'+k.css+'_tool_text" unselectable>'+aQ+'</span><span class="'+k.css+'_tool_icon" unselectable></span></a>');aL.find("."+k.css+"_tool_"+h[ad].cls).append('<div class="'+k.css+'_formats" unselectable></div>');for(var al=0;al<k.formats.length;al++){aL.find("."+k.css+"_formats").append("<a "+k.css+'-formatval="'+k.formats[al][0]+'" class="'+k.css+"_format "+k.css+"_format_"+al+'" role="menuitem" unselectable>'+k.formats[al][1]+"</a>")}aL.find("."+k.css+"_formats").data("status",false)}else{if(h[ad].name=="fsize"&&a.isArray(k.fsizes)){aL.find("."+k.css+"_tool_"+h[ad].cls).append('<div class="'+k.css+'_fontsizes" unselectable></div>');for(var al=0;al<k.fsizes.length;al++){aL.find("."+k.css+"_fontsizes").append("<a "+k.css+'-styleval="'+k.fsizes[al]+'" class="'+k.css+'_fontsize" style="font-size:'+k.fsizes[al]+k.funit+'" role="menuitem" unselectable>Abcdefgh...</a>')}}else{if(h[ad].name=="color"&&a.isArray(p)){aL.find("."+k.css+"_tool_"+h[ad].cls).append('<div class="'+k.css+'_cpalette" unselectable></div>');for(var ay=0;ay<p.length;ay++){if(p[ay]!=null){aL.find("."+k.css+"_cpalette").append("<a "+k.css+'-styleval="'+p[ay]+'" class="'+k.css+'_color" style="background-color: rgb('+p[ay]+')" role="gridcell" unselectable></a>')}else{aL.find("."+k.css+"_cpalette").append('<div class="'+k.css+'_colorSeperator"></div>')}}}}}}}aF.data("linktype","0");for(var ad=0;ad<3;ad++){aF.append("<a "+k.css+'-linktype="'+ad+'" unselectable>'+k.linktypes[ad]+"</a>");au.html('<div class="'+k.css+'_linktypearrow" unselectable></div><div class="'+k.css+'_linktypetext">'+aF.find("a:eq("+aF.data("linktype")+")").text()+"</div>")}var ai="";if(/msie/.test(j)){ai="-ms-"}else{if(/chrome/.test(j)||/safari/.test(j)||/yandex/.test(j)){ai="-webkit-"}else{if(/mozilla/.test(j)){ai="-moz-"}else{if(/opera/.test(j)){ai="-o-"}else{if(/konqueror/.test(j)){ai="-khtml-"}else{ai=""}}}}}if(k.placeholder&&k.placeholder!=""){aU.prepend('<div class="'+k.css+'_placeholder" unselectable><div class="'+k.css+'_placeholder_text">'+k.placeholder+"</div></div>");var ak=aU.find("."+k.css+"_placeholder");ak.click(function(){aG.focus()})}aU.find("[unselectable]").css(ai+"user-select","none").addClass("unselectable").attr("unselectable","on").on("selectstart mousedown",false);var a0=aL.find("."+k.css+"_tool");var av=aL.find("."+k.css+"_formats");var ah=aL.find("."+k.css+"_fontsizes");var ap=aL.find("."+k.css+"_cpalette");var ao=function(){var i,o;if(window.getSelection){o=getSelection();i=o.anchorNode}if(!i&&document.selection&&document.selection.createRange&&document.selection.type!="None"){o=document.selection;var l=o.getRangeAt?o.getRangeAt(0):o.createRange();i=l.commonAncestorContainer?l.commonAncestorContainer:l.parentElement?l.parentElement():l.item(0)}if(i){return i.nodeName=="#text"?a(i.parentNode):a(i)}else{return false}};a0.unbind("click").click(function(i){if(a(this).data("command")=="displaysource"&&!aL.data("sourceOpened")){aL.find("."+k.css+"_tool").addClass(k.css+"_hiddenField");a(this).removeClass(k.css+"_hiddenField");aL.data("sourceOpened",true);aP.css("height",aG.outerHeight());aE.removeClass(k.css+"_hiddenField");aG.addClass(k.css+"_hiddenField");aP.focus();aa(false);am("",false);f();if(k.placeholder&&k.placeholder!=""){ak.hide()}}else{if(!aL.data("sourceOpened")){if(a(this).data("command")=="linkcreator"){if(!aL.data("linkOpened")){ac()}else{aa(false);f(false)}}else{if(a(this).data("command")=="formats"){if(a(this).data("command")=="formats"&&!a(i.target).hasClass(k.css+"_format")){s()}am("",false);if(aG.not(":focus")){aG.focus()}}else{if(a(this).data("command")=="fSize"||a(this).data("command")=="colors"){if(a(this).data("command")=="fSize"&&!a(i.target).hasClass(k.css+"_fontsize")||a(this).data("command")=="colors"&&!a(i.target).hasClass(k.css+"_color")){an(a(this).data("command"))}f(false);if(aG.not(":focus")){aG.focus()}}else{if(aG.not(":focus")){aG.focus()}aS(a(this).data("command"),null);am("",false);f(false);u();a(this).data("emphasis")==true&&!a(this).hasClass(aO)?a(this).addClass(aO):a(this).removeClass(aO);aE.addClass(k.css+"_hiddenField");aG.removeClass(k.css+"_hiddenField")}}}}else{aL.data("sourceOpened",false);aL.find("."+k.css+"_tool").removeClass(k.css+"_hiddenField");aE.addClass(k.css+"_hiddenField");aG.removeClass(k.css+"_hiddenField")}if(k.placeholder&&k.placeholder!=""){aG.html()!=""?ak.hide():ak.show()}}aG.trigger("change")}).hover(function(q){if(k.title&&a(this).data("title")!=""&&(a(q.target).hasClass(k.css+"_tool")||a(q.target).hasClass(k.css+"_tool_icon"))){a("."+k.css+"_title").remove();aU.append('<div class="'+k.css+'_title"><div class="'+k.css+'_titleArrow"><div class="'+k.css+'_titleArrowIcon"></div></div><div class="'+k.css+'_titleText">'+a(this).data("title")+"</div></div>");var y=a("."+k.css+"_title:first");var w=y.find("."+k.css+"_titleArrowIcon");var l=a(this).position();var v=l.left+a(this).outerWidth()-y.outerWidth()/2-a(this).outerWidth()/2;var x=l.top+a(this).outerHeight()+5;y.delay(400).css({top:x,left:v}).fadeIn(200)}},function(){a("."+k.css+"_title").remove()});var aA=null;aG.bind("keypress keyup keydown drop cut copy paste DOMCharacterDataModified DOMSubtreeModified",function(){if(!aL.data("sourceOpened")){a(this).trigger("change")}u();if(a.isFunction(k.change)){k.change()}if(k.placeholder&&k.placeholder!=""){a(this).text()!=""?ak.hide():ak.show()}}).bind("change",function(){if(!aL.data("sourceOpened")){clearTimeout(aA);aA=setTimeout(aR,10)}}).keydown(function(l){if(l.ctrlKey){for(var i=0;i<h.length;i++){if(k[h[i].name]&&l.keyCode==h[i].key.charCodeAt(0)){if(h[i].command!=""&&h[i].command!="linkcreator"){aS(h[i].command,null)}else{if(h[i].command=="linkcreator"){ac()}}return false}}}}).bind("mouseup keyup",aq).focus(function(){if(a.isFunction(k.focus)){k.focus()}aU.addClass(k.css+"_focused");if(/opera/.test(j)){var i=document.createRange();i.selectNodeContents(aG[0]);i.collapse(false);var l=window.getSelection();l.removeAllRanges();l.addRange(i)}}).focusout(function(){a0.removeClass(aO);am("",false);f(false);u();if(a.isFunction(k.blur)){k.blur()}aU.removeClass(k.css+"_focused");if(a.isArray(k.formats)){aK(k.formats[0][1])}});aP.bind("keydown keyup",function(){setTimeout(aB,0);a(this).height(a(this)[0].scrollHeight);if(a(this).val()==""){a(this).height(0)}}).focus(function(){aU.addClass(k.css+"_focused")}).focusout(function(){aU.removeClass(k.css+"_focused")})})}})(jQuery);
/*!
 * Project: Bootstrap Hover Dropdown
 * Author: Cameron Spear
 * Contributors: Mattia Larentis
 *
 * Dependencies: Bootstrap's Dropdown plugin, jQuery
 *
 * A simple plugin to enable Bootstrap dropdowns to active on hover and provide a nice user experience.
 *
 * License: MIT
 *
 * http://cameronspear.com/blog/bootstrap-dropdown-on-hover-plugin/
 */
(function(e,f,h){var g=e();e.fn.dropdownHover=function(a){if("ontouchstart" in document){return this}g=g.add(this.parent());return this.each(function(){var b=e(this),c=b.parent(),d={delay:500,instantlyCloseOthers:true},o={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},r="show.bs.dropdown",n="hide.bs.dropdown",q=e.extend(true,{},d,a,o),p;c.hover(function(i){if(!c.hasClass("open")&&!b.is(i.target)){return true}g.find(":focus").blur();if(q.instantlyCloseOthers===true){g.removeClass("open")}f.clearTimeout(p);c.addClass("open");b.trigger(r)},function(){p=f.setTimeout(function(){c.removeClass("open");b.trigger(n)},q.delay)});b.hover(function(){g.find(":focus").blur();if(q.instantlyCloseOthers===true){g.removeClass("open")}f.clearTimeout(p);c.addClass("open");b.trigger(r)});c.find(".dropdown-submenu").each(function(){var i=e(this);var j;i.hover(function(){f.clearTimeout(j);i.children(".dropdown-menu").show();i.siblings().children(".dropdown-menu").hide()},function(){var k=i.children(".dropdown-menu");j=f.setTimeout(function(){k.hide()},q.delay)})})})};e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})})(jQuery,this);if(!Object.keys){Object.keys=function(c){if(c!==Object(c)){throw new TypeError("Object.keys called on a non-object")}var a=[],b;for(b in c){if(c.hasOwnProperty(b)){a.push(b)}}return a}}function formatFileSize(a){if(typeof a!=="number"){return"nope"}if(a>=1073741824){return(a/1073741824).toFixed(2)+" GB"}if(a>=1048576){return(a/1048576).toFixed(2)+" MB"}return(a/1024).toFixed(2)+" KB"}function loadstyle(a,b){if($.inArray(a.id,scrloaded)===-1){yepnope.injectCss(a.src,function(){if(b){b.call()}scrloaded.push(a.id)},{id:a.id},30000)}else{if(b){b.call()}}}function loadscript(b,a){callback=(a&&typeof a!=="undefined")?a:false;if($.inArray(b.id,scrloaded)===-1){yepnope.injectJs(b.src,function(){setTimeout(function(){if(callback){callback.call()}},500);scrloaded.push(b.id)},{charset:"utf-8",id:b.id},30000)}else{if(callback){callback.call()}}}function ImageToCanvas(d,b,f){var g=new Image();g.src=d;var c=document.createElement("canvas");var e=c.getContext("2d");c.width=parseInt(b);c.height=parseInt(f);var a=((g.width-b)/2)*-1,i=((g.height-f)/2)*-1;console.log(a,i);g.onload=function(){e.drawImage(g,a,i)};return c}function responsiveImagePreview(b,a,c){return $(b).css({position:"absolute",left:2,bottom:2})}function copyattributes(b,c){var a=$(b).prop("attributes");$.each(a,function(){$(c).attr(this.name,this.value)})}function cssme(b){var e={};var d=window.getMatchedCSSRules(b.get(0));for(var c in d){e=$.extend(e,css2json(d[c].style),css2json(b.attr("style")))}return e}function css2jsonme(c){var d={};if(!c){return d}if(c instanceof CSSStyleDeclaration){for(var b in c){if((c[b]).toLowerCase){d[(c[b]).toLowerCase()]=(c[c[b]])}}}else{if(typeof c=="string"){c=c.split("; ");for(var b in c){var a=c[b].split(": ");d[a[0].toLowerCase()]=(a[1])}}}return d}(function(c,a){var d=/[<>&\r\n"']/gm;var b={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"apos;"};c.extend({fileDownload:function(n,g){var u=c.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:true},prepareCallback:function(A){},successCallback:function(A){},failCallback:function(A,B){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"CLO_OCT",cookieValue:"true",cookiePath:"/",popupWindowTitle:"Initiating file download...",encodeHTMLEntities:true},g);var z=new c.Deferred();var x=(navigator.userAgent||navigator.vendor||a.opera).toLowerCase();var q;var w;var f;if(/ip(ad|hone|od)/.test(x)){q=true}else{if(x.indexOf("android")!==-1){w=true}else{f=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(x)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(x.substr(0,4))}}var s=u.httpMethod.toUpperCase();if(w&&s!=="GET"){if(c().dialog){c("<div>").html(u.androidPostUnsupportedMessageHtml).dialog(u.dialogOptions)}else{alert(u.androidPostUnsupportedMessageHtml)}return z.reject()}var y=null;var l={onPrepare:function(A){if(u.preparingMessageHtml){y=c("<div>").html(u.preparingMessageHtml).dialog(u.dialogOptions)}else{if(u.prepareCallback){u.prepareCallback(A)}}},onSuccess:function(A){if(y){y.dialog("close")}u.successCallback(A);z.resolve(A)},onFail:function(A,B){if(y){y.dialog("close")}if(u.failMessageHtml){c("<div>").html(u.failMessageHtml).dialog(u.dialogOptions)}u.failCallback(A,B);z.reject(A,B)}};l.onPrepare(n);if(u.data!==null&&typeof u.data!=="string"){u.data=c.param(u.data)}var p,h,v,i;if(s==="GET"){if(u.data!==null){var r=n.indexOf("?");if(r!==-1){if(n.substring(n.length-1)!=="&"){n=n+"&"}}else{n=n+"?"}n=n+u.data}if(q||w){h=a.open(n);h.document.title=u.popupWindowTitle;a.focus()}else{if(f){a.location(n)}else{p=c("<iframe>").hide().prop("src",n).appendTo("body")}}}else{var k="";if(u.data!==null){c.each(u.data.replace(/\+/g," ").split("&"),function(){var A=this.split("=");var B=u.encodeHTMLEntities?j(decodeURIComponent(A[0])):decodeURIComponent(A[0]);if(B){var C=u.encodeHTMLEntities?j(decodeURIComponent(A[1])):decodeURIComponent(A[1]);k+='<input type="hidden" name="'+B+'" value="'+C+'" />'}})}if(f){i=c("<form>").appendTo("body");i.hide().prop("method",u.httpMethod).prop("action",n).html(k)}else{if(q){h=a.open("about:blank");h.document.title=u.popupWindowTitle;v=h.document;a.focus()}else{p=c("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body");v=e(p)}v.write("<html><head></head><body><form method='"+u.httpMethod+"' action='"+n+"'>"+k+"</form>"+u.popupWindowTitle+"</body></html>");i=c(v).find("form")}i.submit()}setTimeout(m,u.checkInterval);function m(){if(document.cookie.indexOf(u.cookieName+"="+u.cookieValue)!=-1){l.onSuccess(n);document.cookie=u.cookieName+"=; expires="+new Date(1000).toUTCString()+"; path="+u.cookiePath;o(false);return}if(h||p){try{var A=h?h.document:e(p);if(A&&A.body!=null&&A.body.innerHTML.length){var D=true;if(i&&i.length){var B=c(A.body).contents().first();try{if(B.length&&B[0]===i[0]){D=false}}catch(E){if(E&&E.number==-2146828218){D=true}else{throw E}}}if(D){setTimeout(function(){l.onFail(A.body.innerHTML,n);o(true)},100);return}}}catch(C){l.onFail("",n);o(true);return}}setTimeout(m,u.checkInterval)}function e(A){var B=A[0].contentWindow||A[0].contentDocument;if(B.document){B=B.document}return B}function o(A){setTimeout(function(){if(h){if(w){h.close()}if(q){if(h.focus){h.focus();if(A){h.close()}}}}},0)}function j(A){return A.replace(d,function(B){return"&"+b[B]})}return z.promise()}})})(jQuery,this);(function(f){var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var h=["January","February","March","April","May","June","July","August","September","October","November","December"];f.pdate=function(j,l){var n="";var q="";j=j.replace(/r/g,"D, j M Y H;i:s O");for(var p=0;p<j.length;p++){n=j.charAt(p);switch(n){case"a":n=g(l.getHours());break;case"c":n=(l.getFullYear()+"-"+b(l.getMonth())+"-"+b(l.getDate())+"T"+b(l.getHours())+":"+b(l.getMinutes())+":"+b(l.getSeconds()));var m=l.toString().split(" ")[5];if(m.indexOf("-")>-1){n+=m.substr(m.indexOf("-"))}else{if(m.indexOf("+")>-1){n+=m.substr(m.indexOf("+"))}else{n+="+0000"}}break;case"d":n=b(l.getDate());break;case"g":n=a(l.getHours());break;case"h":n=b(a(l.getHours()));break;case"i":n=b(l.getMinutes());break;case"j":n=l.getDate();break;case"l":n=c[l.getDay()];break;case"m":n=b(l.getMonth()+1);break;case"n":n=l.getMonth()+1;break;case"o":(new Date(d(l.getFullYear()))>l)?n=(l.getFullYear()-1):n=l.getFullYear();break;case"s":n=b(l.getSeconds());break;case"t":var v=new Date(l.valueOf());v.setMonth(v.getMonth()+1);v.setDate(0);n=v.getDate();break;case"u":n=l.getMilliseconds();break;case"w":n=l.getDay();break;case"y":n=l.getFullYear().toString().substr(2,2);break;case"z":var w=new Date(l.getFullYear(),0,1,0,0,0,0);var s=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0,0);n=Math.round((s.valueOf()-w.valueOf())/1000/60/60/24);break;case"A":n=g(l.getHours()).toUpperCase();break;case"B":n=Math.floor(((l.getHours()*60*60*1000)+(l.getMinutes()*60*1000)+(l.getSeconds()*1000)+(l.getMilliseconds()))/86400);break;case"D":n=c[l.getDay()].substr(0,3);break;case"F":n=h[l.getMonth()];break;case"G":n=l.getHours();break;case"H":n=b(l.getHours());break;case"I":var o=new Date(l.getFullYear(),0,1);var u=new Date(l.getFullYear(),l.getMonth(),l.getDate());var k=(u.valueOf()-o.valueOf())/1000/60/60/24;(k==Math.round(k))?n=0:n=1;break;case"L":((new Date(l.getFullYear(),2,0)).getDate()==29)?n=1:n=0;break;case"M":n=h[l.getMonth()].substr(0,3);break;case"N":(l.getDay()==0)?n=7:n=l.getDay();break;case"O":var m=l.toString().split(" ")[5];if(m.indexOf("-")>-1){n=m.substr(m.indexOf("-"))}else{if(m.indexOf("+")>-1){n=m.substr(m.indexOf("+"))}else{n="+0000"}}break;case"P":var m=l.toString().split(" ")[5];if(m.indexOf("-")>-1){var r=m.substr(m.indexOf("-")+1).split("");n=("-"+r[0]+r[1]+":"+r[2]+r[3])}else{if(m.indexOf("+")>-1){var r=m.substr(m.indexOf("+")+1).split("");n=("+"+r[0]+r[1]+":"+r[2]+r[3])}else{n="+00:00"}}break;case"S":n=e(l.getDate());break;case"T":n=l.toString().split(" ")[5];if(n.indexOf("+")>-1){n=n.substr(0,n.indexOf("+"))}else{if(n.indexOf("-")>-1){n=n.substr(0,n.indexOf("-"))}}break;case"U":n=Math.floor(l.getTime()/1000);break;case"W":var o=new Date(d(l.getFullYear()));var u=new Date(l.getFullYear(),l.getMonth(),l.getDate());n=Math.ceil(Math.round((u.valueOf()-o.valueOf())/1000/60/60/24)/7);break;case"Y":n=l.getFullYear();break;case"Z":(l.getTimezoneOffset()<0)?n=Math.abs(l.getTimezoneOffset()*60):n=(0-(l.getTimezoneOffset()*60));break}q+=n.toString()}return q};function b(i){if(i<10){i=("0"+i)}return i}function g(i){if(i>11){return"pm"}else{return"am"}}function e(j){var i="th";switch(parseInt(j)){case 1:case 21:case 31:i="st";break;case 2:case 22:i="nd";break;case 3:case 23:i="rd"}return i}function d(j){var i=new Date(j,0,1);while(i.getDay()!=1){i.setDate(i.getDate()+1)}return i.valueOf()}function a(i){if(i==0){i=24}else{if(i>12){i-=12}}return i}})(jQuery);
/*!
 * FooTable - Awesome Responsive Tables
 * Version : 2.0.1.4
 * http://fooplugins.com/plugins/footable-jquery/
 *
 * Requires jQuery - http://jquery.com/
 *
 * Copyright 2014 Steven Usher & Brad Vincent
 * Released under the MIT license
 * You are free to use FooTable in commercial projects as long as this copyright header is left intact.
 *
 * Date: 16 Feb 2014
 */
(function(k,h,i){h.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(a){return k(a).data("value")||k.trim(k(a).text())},numeric:function(b){var a=k(b).data("value")||k(b).text().replace(/[^0-9.\-]/g,"");a=parseFloat(a);if(isNaN(a)){a=0}return a}},addRowToggle:true,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(a){var d={_none:{name:null,data:[]}};for(var b=0;b<a.length;b++){var c=a[b].group;if(c!==null){if(!(c in d)){d[c]={name:a[b].groupName||a[b].group,data:[]}}d[c].data.push(a[b])}else{d._none.data.push(a[b])}}return d},createDetail:function(d,e,a,f,r){var s=a(e);for(var b in s){if(s[b].data.length===0){continue}if(b!=="_none"){d.append('<div class="'+r.detailInnerGroup+'">'+s[b].name+"</div>")}for(var q=0;q<s[b].data.length;q++){var c=(s[b].data[q].name)?f:"";d.append('<div class="'+r.detailInnerRow+'"><div class="'+r.detailInnerName+'">'+s[b].data[q].name+c+'</div><div class="'+r.detailInnerValue+'">'+s[b].data[q].display+"</div></div>")}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:false,log:null},version:{major:0,minor:5,toString:function(){return h.footable.version.major+"."+h.footable.version.minor},parse:function(a){version=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(a);return{major:parseInt(version[1],10)||0,minor:parseInt(version[2],10)||0,patch:parseInt(version[3],10)||0}}},plugins:{_validate:function(b){if(!k.isFunction(b)){if(h.footable.options.debug===true){console.error('Validation failed, expected type "function", received type "{0}".',typeof b)}return false}var a=new b();if(typeof a.name!=="string"){if(h.footable.options.debug===true){console.error('Validation failed, plugin does not implement a string property called "name".',a)}return false}if(!k.isFunction(a.init)){if(h.footable.options.debug===true){console.error('Validation failed, plugin "'+a.name+'" does not implement a function called "init".',a)}return false}if(h.footable.options.debug===true){console.log('Validation succeeded for plugin "'+a.name+'".',a)}return true},registered:[],register:function(a,b){if(h.footable.plugins._validate(a)){h.footable.plugins.registered.push(a);if(typeof b==="object"){k.extend(true,h.footable.options,b)}}},load:function(e){var d=[],a,c;for(c=0;c<h.footable.plugins.registered.length;c++){try{a=h.footable.plugins.registered[c];d.push(new a(e))}catch(b){if(h.footable.options.debug===true){console.error(b)}}}return d},init:function(c){for(var b=0;b<c.plugins.length;b++){try{c.plugins[b]["init"](c)}catch(a){if(h.footable.options.debug===true){console.error(a)}}}}}};var l=0;k.fn.footable=function(b){b=b||{};var a=k.extend(true,{},h.footable.options,b);return this.each(function(){l++;var c=new j(this,a,l);k(this).data("footable",c)})};function g(){var a=this;a.id=null;a.busy=false;a.start=function(b,c){if(a.busy){return}a.stop();a.id=setTimeout(function(){b();a.id=null;a.busy=false},c);a.busy=true};a.stop=function(){if(a.id!==null){clearTimeout(a.id);a.id=null;a.busy=false}}}function j(b,f,q){var d=this;d.id=q;d.table=b;d.options=f;d.breakpoints=[];d.breakpointNames="";d.columns={};d.plugins=h.footable.plugins.load(d);var o=d.options,a=o.classes,c=o.events,r=o.triggers,e=0;d.timers={resize:new g(),register:function(m){d.timers[m]=new g();return d.timers[m]}};d.init=function(){var m=k(h),n=k(d.table);h.footable.plugins.init(d);if(n.hasClass(a.loaded)){d.raise(c.alreadyInitialized);return}d.raise(c.initializing);n.addClass(a.loading);n.find(o.columnDataSelector).each(function(){var u=d.getColumnData(this);d.columns[u.index]=u});for(var p in o.breakpoints){d.breakpoints.push({name:p,width:o.breakpoints[p]});d.breakpointNames+=(p+" ")}d.breakpoints.sort(function(u,v){return u.width-v.width});n.unbind(r.initialize).bind(r.initialize,function(){n.removeData("footable_info");n.data("breakpoint","");n.trigger(r.resize);n.removeClass(a.loading);n.addClass(a.loaded).addClass(a.main);d.raise(c.initialized)}).unbind(r.redraw).bind(r.redraw,function(){d.redraw()}).unbind(r.resize).bind(r.resize,function(){d.resize()}).unbind(r.expandFirstRow).bind(r.expandFirstRow,function(){n.find(o.toggleSelector).first().not("."+a.detailShow).trigger(r.toggleRow)}).unbind(r.expandAll).bind(r.expandAll,function(){n.find(o.toggleSelector).not("."+a.detailShow).trigger(r.toggleRow)}).unbind(r.collapseAll).bind(r.collapseAll,function(){n.find("."+a.detailShow).trigger(r.toggleRow)});n.trigger(r.initialize);m.bind("resize.footable",function(){d.timers.resize.stop();d.timers.resize.start(function(){d.raise(r.resize)},o.delay)})};d.addRowToggle=function(){if(!o.addRowToggle){return}var p=k(d.table),m=false;p.find("span."+a.toggle).remove();for(var n in d.columns){var u=d.columns[n];if(u.toggle){m=true;var v="> tbody > tr:not(."+a.detail+",."+a.disabled+") > td:nth-child("+(parseInt(u.index,10)+1)+")";p.find(v).not("."+a.detailCell).prepend(k(o.toggleHTMLElement).addClass(a.toggle));return}}if(!m){p.find("> tbody > tr:not(."+a.detail+",."+a.disabled+") > td:first-child").not("."+a.detailCell).prepend(k(o.toggleHTMLElement).addClass(a.toggle))}};d.setColumnClasses=function(){$table=k(d.table);for(var m in d.columns){var p=d.columns[m];if(p.className!==null){var u="",n=true;k.each(p.matches,function(v,s){if(!n){u+=", "}u+="> tbody > tr:not(."+a.detail+") > td:nth-child("+(parseInt(s,10)+1)+")";n=false});$table.find(u).not("."+a.detailCell).addClass(p.className)}}};d.bindToggleSelectors=function(){var m=k(d.table);if(!d.hasAnyBreakpointColumn()){return}m.find(o.toggleSelector).unbind(r.toggleRow).bind(r.toggleRow,function(n){var p=k(this).is("tr")?k(this):k(this).parents("tr:first");d.toggleDetail(p)});m.find(o.toggleSelector).unbind("click.footable").bind("click.footable",function(n){if(m.is(".breakpoint")&&k(n.target).is("td,."+a.toggle)){k(this).trigger(r.toggleRow)}})};d.parse=function(p,n){var m=o.parsers[n.type]||o.parsers.alpha;return m(p)};d.getColumnData=function(p){var n=k(p),I=n.data("hide"),H=n.index();I=I||"";I=jQuery.map(I.split(","),function(s){return jQuery.trim(s)});var J={index:H,hide:{},type:n.data("type")||"alpha",name:n.data("name")||k.trim(n.text()),ignore:n.data("ignore")||false,toggle:n.data("toggle")||false,className:n.data("class")||null,matches:[],names:{},group:n.data("group")||null,groupName:null};if(J.group!==null){var D=k(d.table).find('> thead > tr.footable-group-row > th[data-group="'+J.group+'"], > thead > tr.footable-group-row > td[data-group="'+J.group+'"]').first();J.groupName=d.parse(D,{type:"alpha"})}var m=parseInt(n.prev().attr("colspan")||0,10);e+=m>1?m-1:0;var N=parseInt(n.attr("colspan")||0,10),L=J.index+e;if(N>1){var F=n.data("names");F=F||"";F=F.split(",");for(var K=0;K<N;K++){J.matches.push(K+L);if(K<F.length){J.names[K+L]=F[K]}}}else{J.matches.push(L)}J.hide["default"]=(n.data("hide")==="all")||(k.inArray("default",I)>=0);var M=false;for(var E in o.breakpoints){J.hide[E]=(n.data("hide")==="all")||(k.inArray(E,I)>=0);M=M||J.hide[E]}J.hasBreakpoint=M;var G=d.raise(c.columnData,{column:{data:J,th:p}});return G.column.data};d.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)};d.calculateWidth=function(n,m){if(jQuery.isFunction(o.calculateWidthOverride)){return o.calculateWidthOverride(n,m)}if(m.viewportWidth<m.width){m.width=m.viewportWidth}if(m.parentWidth<m.width){m.width=m.parentWidth}return m};d.hasBreakpointColumn=function(n){for(var m in d.columns){if(d.columns[m].hide[n]){if(d.columns[m].ignore){continue}return true}}return false};d.hasAnyBreakpointColumn=function(){for(var m in d.columns){if(d.columns[m].hasBreakpoint){return true}}return false};d.resize=function(){var y=k(d.table);if(!y.is(":visible")){return}if(!d.hasAnyBreakpointColumn()){return}var n={width:y.width(),viewportWidth:d.getViewportWidth(),parentWidth:y.parent().width()};n=d.calculateWidth(y,n);var D=y.data("footable_info");y.data("footable_info",n);d.raise(c.resizing,{old:D,info:n});if(!D||(D&&D.width&&D.width!==n.width)){var C=null,A;for(var m=0;m<d.breakpoints.length;m++){A=d.breakpoints[m];if(A&&A.width&&n.width<=A.width){C=A;break}}var z=(C===null?"default":C.name),p=d.hasBreakpointColumn(z),B=y.data("breakpoint");y.data("breakpoint",z).removeClass("default breakpoint").removeClass(d.breakpointNames).addClass(z+(p?" breakpoint":""));if(z!==B){y.trigger(r.redraw);d.raise(c.breakpoint,{breakpoint:z,info:n})}}d.raise(c.resized,{old:D,info:n})};d.redraw=function(){d.addRowToggle();d.bindToggleSelectors();d.setColumnClasses();var p=k(d.table),n=p.data("breakpoint"),m=d.hasBreakpointColumn(n);p.find("> tbody > tr:not(."+a.detail+")").data("detail_created",false).end().find("> thead > tr:last-child > th").each(function(){var A=d.columns[k(this).index()],E="",F=true;k.each(A.matches,function(u,s){if(!F){E+=", "}var v=s+1;E+="> tbody > tr:not(."+a.detail+") > td:nth-child("+v+")";E+=", > tfoot > tr:not(."+a.detail+") > td:nth-child("+v+")";E+=", > colgroup > col:nth-child("+v+")";F=false});E+=', > thead > tr[data-group-row="true"] > th[data-group="'+A.group+'"]';var z=p.find(E).add(this);if(n!==""){if(A.hide[n]===false){z.addClass("footable-visible").show()}else{z.removeClass("footable-visible").hide()}}if(p.find("> thead > tr.footable-group-row").length===1){var C=p.find('> thead > tr:last-child > th[data-group="'+A.group+'"]:visible, > thead > tr:last-child > th[data-group="'+A.group+'"]:visible'),B=p.find('> thead > tr.footable-group-row > th[data-group="'+A.group+'"], > thead > tr.footable-group-row > td[data-group="'+A.group+'"]'),D=0;k.each(C,function(){D+=parseInt(k(this).attr("colspan")||1,10)});if(D>0){B.attr("colspan",D).show()}else{B.hide()}}}).end().find("> tbody > tr."+a.detailShow).each(function(){d.createOrUpdateDetailRow(this)});p.find("> tbody > tr."+a.detailShow+":visible").each(function(){var u=k(this).next();if(u.hasClass(a.detail)){if(!m){u.hide()}else{u.show()}}});p.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column");p.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column");p.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column");d.raise(c.redrawn)};d.toggleDetail=function(m){var p=(m.jquery)?m:k(m),n=p.next();if(p.hasClass(a.detailShow)){p.removeClass(a.detailShow);if(n.hasClass(a.detail)){n.hide()}d.raise(c.rowCollapsed,{row:p[0]})}else{d.createOrUpdateDetailRow(p[0]);p.addClass(a.detailShow).next().show();d.raise(c.rowExpanded,{row:p[0]})}};d.removeRow=function(m){var p=(m.jquery)?m:k(m);if(p.hasClass(a.detail)){p=p.prev()}var n=p.next();if(p.data("detail_created")===true){n.remove()}p.remove();d.raise(c.rowRemoved)};d.appendRow=function(m){var n=(m.jquery)?m:k(m);k(d.table).find("tbody").append(n);d.redraw()};d.getColumnFromTdIndex=function(n){var p=null;for(var m in d.columns){if(k.inArray(n,d.columns[m].matches)>=0){p=d.columns[m];break}}return p};d.createOrUpdateDetailRow=function(m){var z=k(m),y=z.next(),p,x=[];if(z.data("detail_created")===true){return true}if(z.is(":hidden")){return false}d.raise(c.rowDetailUpdating,{row:z,detail:y});z.find("> td:hidden").each(function(){var s=k(this).index(),v=d.getColumnFromTdIndex(s),u=v.name;if(v.ignore===true){return true}if(s in v.names){u=v.names[s]}x.push({name:u,value:d.parse(this,v),display:k.trim(k(this).html()),group:v.group,groupName:v.groupName});return true});if(x.length===0){return false}var n=z.find("> td:visible").length;var w=y.hasClass(a.detail);if(!w){y=k('<tr class="'+a.detail+'"><td class="'+a.detailCell+'"><div class="'+a.detailInner+'"></div></td></tr>');z.after(y)}y.find("> td:first").attr("colspan",n);p=y.find("."+a.detailInner).empty();o.createDetail(p,x,o.createGroupedDetail,o.detailSeparator,a);z.data("detail_created",true);d.raise(c.rowDetailUpdated,{row:z,detail:y});return !w};d.raise=function(u,p){if(d.options.debug===true&&k.isFunction(d.options.log)){d.options.log(u,"event")}p=p||{};var n={ft:d};k.extend(true,n,p);var m=k.Event(u,n);if(!m.ft){k.extend(true,m,n)}k(d.table).trigger(m);return m};d.reset=function(){var m=k(d.table);m.removeData("footable_info").data("breakpoint","").removeClass(a.loading).removeClass(a.loaded);m.find(o.toggleSelector).unbind(r.toggleRow).unbind("click.footable");m.find("> tbody > tr").removeClass(a.detailShow);m.find("> tbody > tr."+a.detail).remove();d.raise(c.reset)};d.init();return d}})(jQuery,window);(function(l,h,i){if(h.footable===i||h.footable===null){throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.")}var k={paginate:true,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};function g(a){var c=l(a.table),b=c.data();this.pageNavigation=b.pageNavigation||a.options.pageNavigation;this.pageSize=b.pageSize||a.options.pageSize;this.firstText=b.firstText||a.options.firstText;this.previousText=b.previousText||a.options.previousText;this.nextText=b.nextText||a.options.nextText;this.lastText=b.lastText||a.options.lastText;this.limitNavigation=parseInt(b.limitNavigation||a.options.limitNavigation||k.limitNavigation,10);this.limitPreviousText=b.limitPreviousText||a.options.limitPreviousText;this.limitNextText=b.limitNextText||a.options.limitNextText;this.limit=this.limitNavigation>0;this.currentPage=b.currentPage||0;this.pages=[];this.control=false}function j(){var a=this;a.name="Footable Paginate";a.init=function(b){if(b.options.paginate===true){if(l(b.table).data("page")===false){return}a.footable=b;l(b.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){a.setupPaging()}}).data("footable-paging",a)}};a.setupPaging=function(){var b=a.footable,c=l(b.table).find("> tbody");b.pageInfo=new g(b);a.createPages(b,c);a.createNavigation(b,c);a.fillPage(b,c,b.pageInfo.currentPage)};a.createPages=function(q,e){var p=1;var r=q.pageInfo;var f=p*r.pageSize;var b=[];var c=[];r.pages=[];var d=e.find("> tr:not(.footable-filtered,.footable-row-detail)");d.each(function(n,m){b.push(m);if(n===f-1){r.pages.push(b);p++;f=p*r.pageSize;b=[]}else{if(n>=d.length-(d.length%r.pageSize)){c.push(m)}}});if(c.length>0){r.pages.push(c)}if(r.currentPage>=r.pages.length){r.currentPage=r.pages.length-1}if(r.currentPage<0){r.currentPage=0}if(r.pages.length===1){l(q.table).addClass("no-paging")}else{l(q.table).removeClass("no-paging")}};a.createNavigation=function(b,d){var e=l(b.table).find(b.pageInfo.pageNavigation);if(e.length===0){e=l(b.pageInfo.pageNavigation);if(e.parents("table:first").length>0&&e.parents("table:first")!==l(b.table)){return}if(e.length>1&&b.options.debug===true){console.error("More than one pagination control was found!")}}if(e.length===0){return}if(!e.is("ul")){if(e.find("ul:first").length===0){e.append("<ul />")}e=e.find("ul")}e.find("li").remove();var c=b.pageInfo;c.control=e;if(c.pages.length>0){e.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+b.pageInfo.firstText+"</a>");e.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+b.pageInfo.previousText+"</a></li>");if(c.limit){e.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+b.pageInfo.limitPreviousText+"</a></li>")}if(!c.limit){l.each(c.pages,function(n,f){if(f.length>0){e.append('<li class="footable-page"><a data-page="'+n+'" href="#">'+(n+1)+"</a></li>")}})}if(c.limit){e.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+b.pageInfo.limitNextText+"</a></li>");a.createLimited(e,c,0)}e.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+b.pageInfo.nextText+"</a></li>");e.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+b.pageInfo.lastText+"</a></li>")}e.off("click","a[data-page]").on("click","a[data-page]",function(v){v.preventDefault();var w=l(this).data("page");var r=c.currentPage;if(w==="first"){r=0}else{if(w==="prev"){if(r>0){r--}}else{if(w==="next"){if(r<c.pages.length-1){r++}}else{if(w==="last"){r=c.pages.length-1}else{if(w==="limit-prev"){r=-1;var u=e.find(".footable-page:first a").data("page");a.createLimited(e,c,u-c.limitNavigation);a.setPagingClasses(e,c.currentPage,c.pages.length)}else{if(w==="limit-next"){r=-1;var f=e.find(".footable-page:last a").data("page");a.createLimited(e,c,f+1);a.setPagingClasses(e,c.currentPage,c.pages.length)}else{r=w}}}}}}if(r>=0){if(c.limit&&c.currentPage!=r){var s=r;while(s%c.limitNavigation!==0){s-=1}a.createLimited(e,c,s)}a.paginate(b,r)}});a.setPagingClasses(e,c.currentPage,c.pages.length)};a.createLimited=function(q,b,p){p=p||0;q.find("li.footable-page").remove();var d,c,e=q.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),f=q.find('li.footable-page-arrow > a[data-page="limit-next"]').parent();for(d=b.pages.length-1;d>=0;d--){c=b.pages[d];if(d>=p&&d<p+b.limitNavigation&&c.length>0){e.after('<li class="footable-page"><a data-page="'+d+'" href="#">'+(d+1)+"</a></li>")}}if(p===0){e.hide()}else{e.show()}if(p+b.limitNavigation>=b.pages.length){f.hide()}else{f.show()}};a.paginate=function(b,e){var c=b.pageInfo;if(c.currentPage!==e){var f=l(b.table).find("> tbody");var d=b.raise("footable_paging",{page:e,size:c.pageSize});if(d&&d.result===false){return}a.fillPage(b,f,e);c.control.find("li").removeClass("active disabled");a.setPagingClasses(c.control,c.currentPage,c.pages.length)}};a.setPagingClasses=function(b,c,d){b.find("li.footable-page > a[data-page="+c+"]").parent().addClass("active");if(c>=d-1){b.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled");b.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")}if(c<1){b.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled");b.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled")}};a.fillPage=function(b,c,d){b.pageInfo.currentPage=d;l(b.table).data("currentPage",d);c.find("> tr").hide();l(b.pageInfo.pages[d]).each(function(){a.showRow(this,b)});b.raise("footable_page_filled")};a.showRow=function(c,b){var f=l(c),e=f.next(),d=l(b.table);if(d.hasClass("breakpoint")&&f.hasClass("footable-detail-show")&&e.hasClass("footable-row-detail")){f.add(e).show();b.createOrUpdateDetailRow(c)}else{f.show()}}}h.footable.plugins.register(j,k)})(jQuery,window);(function(j,g,h){if(g.footable===h||g.footable===null){throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.")}var i={filter:{enabled:true,input:".footable-filter",timeout:300,minimum:2,disableEnter:false,filterFunction:function(d){var a=j(this),e=a.parents("table:first"),c=e.data("current-filter").toUpperCase(),b=a.find("td").text();if(!e.data("filter-text-only")){a.find("td[data-value]").each(function(){b+=j(this).data("value")})}return b.toUpperCase().indexOf(c)>=0}}};function f(){var a=this;a.name="Footable Filter";a.init=function(b){a.footable=b;if(b.options.filter.enabled===true){if(j(b.table).data("filter")===false){return}b.timers.register("filter");j(b.table).unbind(".filtering").bind({"footable_initialized.filtering":function(c){var e=j(b.table);var d={input:e.data("filter")||b.options.filter.input,timeout:e.data("filter-timeout")||b.options.filter.timeout,minimum:e.data("filter-minimum")||b.options.filter.minimum,disableEnter:e.data("filter-disable-enter")||b.options.filter.disableEnter};if(d.disableEnter){j(d.input).keypress(function(l){if(window.event){return(window.event.keyCode!==13)}else{return(l.which!==13)}})}e.bind("footable_clear_filter",function(){j(d.input).val("");a.clearFilter()});e.bind("footable_filter",function(m,n){a.filter(n.filter)});j(d.input).keyup(function(l){b.timers.filter.stop();if(l.which===27){j(d.input).val("")}b.timers.filter.start(function(){var k=j(d.input).val()||"";a.filter(k)},d.timeout)})},"footable_redrawn.filtering":function(c){var e=j(b.table),d=e.data("filter-string");if(d){a.filter(d)}}}).data("footable-filter",a)}};a.filter=function(b){var r=a.footable,p=j(r.table),c=p.data("filter-minimum")||r.options.filter.minimum,q=!b;var e=r.raise("footable_filtering",{filter:b,clear:q});if(e&&e.result===false){return}if(e.filter&&e.filter.length<c){return}if(e.clear){a.clearFilter()}else{var o=e.filter.split(" ");p.find("> tbody > tr").hide().addClass("footable-filtered");var d=p.find("> tbody > tr:not(.footable-row-detail)");j.each(o,function(l,k){if(k&&k.length>0){p.data("current-filter",k);d=d.filter(r.options.filter.filterFunction)}});d.each(function(){a.showRow(this,r);j(this).removeClass("footable-filtered")});p.data("filter-string",e.filter);r.raise("footable_filtered",{filter:e.filter,clear:false})}};a.clearFilter=function(){var b=a.footable,c=j(b.table);c.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){a.showRow(this,b)});c.removeData("filter-string");b.raise("footable_filtered",{clear:true})};a.showRow=function(c,b){var l=j(c),e=l.next(),d=j(b.table);if(l.is(":visible")){return}if(d.hasClass("breakpoint")&&l.hasClass("footable-detail-show")&&e.hasClass("footable-row-detail")){l.add(e).show();b.createOrUpdateDetailRow(c)}else{l.show()}}}g.footable.plugins.register(f,i)})(jQuery,window);
/*!
 * bootstrap-tagfield
 * https://github.com/sliptree/bootstrap-tagfield
 * Copyright 2013-2014 Sliptree and other contributors; Licensed MIT
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=global.window&&global.window.$?a(global.window.$):function(b){if(!b.$&&!b.fn){throw new Error("Tokenfield requires a window object with jQuery or a jQuery instance")}return a(b.$||b)}}else{a(jQuery,window)}}}(function(d,c){var b=function(g,j){var k=this;this.$element=d(g);this.textDirection=this.$element.css("direction");this.options=d.extend(true,{},d.fn.tagfield.defaults,{tokens:this.$element.val()},this.$element.data(),j);this._delimiters=(typeof this.options.delimiter==="string")?[this.options.delimiter]:this.options.delimiter;this._triggerKeys=d.map(this._delimiters,function(y){return y.charCodeAt(0)});this._firstDelimiter=this._delimiters[0];var v=d.inArray(" ",this._delimiters),q=d.inArray("-",this._delimiters);if(v>=0){this._delimiters[v]="\\s"}if(q>=0){delete this._delimiters[q];this._delimiters.unshift("-")}var n=["\\","$","[","{","^",".","|","?","*","+","(",")"];d.each(this._delimiters,function(y,z){var A=d.inArray(z,n);if(A>=0){k._delimiters[y]="\\"+z}});var o=(c&&typeof c.getMatchedCSSRules==="function")?c.getMatchedCSSRules(g):null,e=g.style.width,w,s=this.$element.width();if(o){d.each(o,function(y,z){if(z.style.width){w=z.style.width}})}var m=d("body").css("direction")==="rtl"?"right":"left",r={position:this.$element.css("position")};r[m]=this.$element.css(m);this.$element.data("original-styles",r).data("original-tabindex",this.$element.prop("tabindex")).css("position","absolute").css(m,"-10000px").prop("tabindex",-1);this.$wrapper=d('<div class="tagfield form-control" />');if(this.$element.hasClass("input-lg")){this.$wrapper.addClass("input-lg")}if(this.$element.hasClass("input-sm")){this.$wrapper.addClass("input-sm")}if(this.textDirection==="rtl"){this.$wrapper.addClass("rtl")}var u=this.$element.prop("id")||new Date().getTime()+""+Math.floor((1+Math.random())*100);this.$input=d('<input type="text" class="token-input" autocomplete="off" />').appendTo(this.$wrapper).prop("placeholder",this.$element.prop("placeholder")).prop("id",u+"-tagfield").prop("tabindex",this.$element.data("original-tabindex"));var x=d('label[for="'+this.$element.prop("id")+'"]');if(x.length){x.prop("for",this.$input.prop("id"))}this.$copyHelper=d('<input type="text" />').css("position","absolute").css(m,"-10000px").prop("tabindex",-1).prependTo(this.$wrapper);if(e){this.$wrapper.css("width",e)}else{if(w){this.$wrapper.css("width",w)}else{if(this.$element.parents(".form-inline").length){this.$wrapper.width(s)}}}if(this.$element.prop("disabled")||this.$element.parents("fieldset[disabled]").length){this.disable()}if(this.$element.prop("readonly")){this.readonly()}this.$mirror=d('<span style="position:absolute; top:-999px; left:0; white-space:pre;"/>');this.$input.css("min-width",this.options.minWidth+"px");d.each(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],function(y,z){k.$mirror[0].style[z]=k.$input.css(z)});this.$mirror.appendTo("body");this.$wrapper.insertBefore(this.$element);this.$element.prependTo(this.$wrapper);this.update();this.setTokens(this.options.tokens,false,!this.$element.val()&&this.options.tokens);this.listen();if(!d.isEmptyObject(this.options.autocomplete)){var f=this.textDirection==="rtl"?"right":"left",l=d.extend({minLength:this.options.showAutocompleteOnFocus?0:null,position:{my:f+" top",at:f+" bottom",of:this.$wrapper}},this.options.autocomplete);this.$input.autocomplete(l)}if(!d.isEmptyObject(this.options.typeahead)){var h=this.options.typeahead,p={minLength:this.options.showAutocompleteOnFocus?0:null},i=d.isArray(h)?h:[h,h];i[0]=d.extend({},p,i[0]);this.$input.typeahead.apply(this.$input,i);this.typeahead=true}};b.prototype={constructor:b,createToken:function(h,g){var e=this;if(typeof h==="string"){h={value:h,label:h}}else{h=d.extend({},h)}if(typeof g==="undefined"){g=true}h.value=d.trim(h.value);h.label=h.label&&h.label.length?d.trim(h.label):h.value;if(!h.value.length||!h.label.length||h.label.length<=this.options.minLength){return}if(this.options.limit&&this.getTokens().length>=this.options.limit){return}var i=d.Event("tagfield:createtoken",{attrs:h});this.$element.trigger(i);if(!i.attrs||i.isDefaultPrevented()){return}var f=d('<div class="token" />').append('<span class="opicon">'+(this.options.opicon?this.options.opicon:"#")+"</span>").append('<span class="token-label" />').append('<a href="#" class="close" tabindex="-1">&times;</a>').data("attrs",h);if(this.$input.hasClass("tt-input")){this.$input.parent().before(f)}else{this.$input.before(f)}this.$input.css("width",this.options.minWidth+"px");var k=f.find(".token-label"),j=f.find(".close");if(!this.maxTokenWidth){this.maxTokenWidth=this.$wrapper.width()-j.outerWidth()-parseInt(j.css("margin-left"),10)-parseInt(j.css("margin-right"),10)-parseInt(f.css("border-left-width"),10)-parseInt(f.css("border-right-width"),10)-parseInt(f.css("padding-left"),10)-parseInt(f.css("padding-right"),10);parseInt(k.css("border-left-width"),10)-parseInt(k.css("border-right-width"),10)-parseInt(k.css("padding-left"),10)-parseInt(k.css("padding-right"),10);parseInt(k.css("margin-left"),10)-parseInt(k.css("margin-right"),10)}k.text(h.label).css("max-width",this.maxTokenWidth);f.on("mousedown",function(l){if(e._disabled||e._readonly){return false}e.preventDeactivation=true}).on("click",function(l){if(e._disabled||e._readonly){return false}e.preventDeactivation=false;if(l.ctrlKey||l.metaKey){l.preventDefault();return e.toggle(f)}e.activate(f,l.shiftKey,l.shiftKey)}).on("dblclick",function(l){if(e._disabled||e._readonly||!e.options.allowEditing){return false}e.edit(f)});j.on("click",d.proxy(this.remove,this));this.$element.trigger(d.Event("tagfield:createdtoken",{attrs:h,relatedTarget:f.get(0)}));if(g){this.$element.val(this.getTokensList()).trigger(d.Event("change",{initiator:"tagfield"}))}this.update();return this.$element.get(0)},setTokens:function(h,g,f){if(!h){return}if(!g){this.$wrapper.find(".token").remove()}if(typeof f==="undefined"){f=true}if(typeof h==="string"){if(this._delimiters.length){h=h.split(new RegExp("["+this._delimiters.join("")+"]"))}else{h=[h]}}var e=this;d.each(h,function(k,j){e.createToken(j,f)});return this.$element.get(0)},getTokenData:function(e){var f=e.map(function(){var g=d(this);return g.data("attrs")}).get();if(f.length==1){f=f[0]}return f},getTokens:function(h){var e=this,g=[],f=h?".active":"";this.$wrapper.find(".token"+f).each(function(){g.push(e.getTokenData(d(this)))});return g},getTokensList:function(e,f,h){e=e||this._firstDelimiter;f=(typeof f!=="undefined"&&f!==null)?f:this.options.beautify;var g=e+(f&&e!==" "?" ":"");return d.map(this.getTokens(h),function(i){return i.value}).join(g)},getInput:function(){return this.$input.val()},listen:function(){var e=this;this.$element.on("change",d.proxy(this.change,this));this.$wrapper.on("mousedown",d.proxy(this.focusInput,this));this.$input.on("focus",d.proxy(this.focus,this)).on("blur",d.proxy(this.blur,this)).on("paste",d.proxy(this.paste,this)).on("keydown",d.proxy(this.keydown,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this));this.$copyHelper.on("focus",d.proxy(this.focus,this)).on("blur",d.proxy(this.blur,this)).on("keydown",d.proxy(this.keydown,this)).on("keyup",d.proxy(this.keyup,this));this.$input.on("keypress",d.proxy(this.update,this)).on("keyup",d.proxy(this.update,this));this.$input.on("autocompletecreate",function(){var f=d(this).data("ui-autocomplete").menu.element;var g=e.$wrapper.outerWidth()-parseInt(f.css("border-left-width"),10)-parseInt(f.css("border-right-width"),10);f.css("min-width",g+"px")}).on("autocompleteselect",function(g,f){if(e.createToken(f.item)){e.$input.val("");if(e.$input.data("edit")){e.unedit(true)}}return false}).on("typeahead:selected typeahead:autocompleted",function(h,f,g){if(e.createToken(f)){e.$input.typeahead("val","");if(e.$input.data("edit")){e.unedit(true)}}});d(c).on("resize",d.proxy(this.update,this))},keydown:function(i){if(!this.focused){return}var f=this;switch(i.keyCode){case 8:if(!this.$input.is(document.activeElement)){break}this.lastInputValue=this.$input.val();break;case 37:h(this.textDirection==="rtl"?"next":"prev");break;case 38:g("prev");break;case 39:h(this.textDirection==="rtl"?"prev":"next");break;case 40:g("next");break;case 65:if(this.$input.val().length>0||!(i.ctrlKey||i.metaKey)){break}this.activateAll();i.preventDefault();break;case 9:case 13:case 32:if(this.$input.data("ui-autocomplete")&&this.$input.data("ui-autocomplete").menu.element.find("li:has(a.ui-state-focus)").length){break}if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-cursor").length){break}if(this.$input.hasClass("tt-input")&&this.$wrapper.find(".tt-hint").val().length){break}if(this.$input.is(document.activeElement)&&this.$input.val().length||this.$input.data("edit")){return this.createTokensFromInput(i,this.$input.data("edit"))}if(i.keyCode===13){if(!this.$copyHelper.is(document.activeElement)||this.$wrapper.find(".token.active").length!==1){break}if(!f.options.allowEditing){break}this.edit(this.$wrapper.find(".token.active"))}}function h(j){if(f.$input.is(document.activeElement)){if(f.$input.val().length>0){return}j+="All";var e=f.$input.hasClass("tt-input")?f.$input.parent()[j](".token:first"):f.$input[j](".token:first");if(!e.length){return}f.preventInputFocus=true;f.preventDeactivation=true;f.activate(e);i.preventDefault()}else{f[j](i.shiftKey);i.preventDefault()}}function g(l){if(!i.shiftKey){return}if(f.$input.is(document.activeElement)){if(f.$input.val().length>0){return}var j=f.$input.hasClass("tt-input")?f.$input.parent()[l+"All"](".token:first"):f.$input[l+"All"](".token:first");if(!j.length){return}f.activate(j)}var k=l==="prev"?"next":"prev",e=l==="prev"?"first":"last";f.firstActiveToken[k+"All"](".token").each(function(){f.deactivate(d(this))});f.activate(f.$wrapper.find(".token:"+e),true,true);i.preventDefault()}this.lastKeyDown=i.keyCode},keypress:function(f){this.lastKeyPressCode=f.keyCode;this.lastKeyPressCharCode=f.charCode;if(d.inArray(f.charCode,this._triggerKeys)!==-1&&this.$input.is(document.activeElement)){if(this.$input.val()){this.createTokensFromInput(f)}return false}},keyup:function(g){this.preventInputFocus=false;if(!this.focused){return}switch(g.keyCode){case 8:if(this.$input.is(document.activeElement)){if(this.$input.val().length||this.lastInputValue.length&&this.lastKeyDown===8){break}this.preventDeactivation=true;var f=this.$input.hasClass("tt-input")?this.$input.parent().prevAll(".token:first"):this.$input.prevAll(".token:first");if(!f.length){break}this.activate(f)}else{this.remove(g)}break;case 46:this.remove(g,"next");break}this.lastKeyUp=g.keyCode},focus:function(f){this.focused=true;this.$wrapper.addClass("focus");if(this.$input.is(document.activeElement)){this.$wrapper.find(".active").removeClass("active");this.$firstActiveToken=null;if(this.options.showAutocompleteOnFocus){this.search()}}},blur:function(f){this.focused=false;this.$wrapper.removeClass("focus");if(!this.preventDeactivation&&!this.$element.is(document.activeElement)){this.$wrapper.find(".active").removeClass("active");this.$firstActiveToken=null}if(!this.preventCreateTokens&&(this.$input.data("edit")&&!this.$input.is(document.activeElement)||this.options.createTokensOnBlur)){this.createTokensFromInput(f)}this.preventDeactivation=false;this.preventCreateTokens=false},paste:function(g){var f=this;if(f.options.allowPasting){setTimeout(function(){f.createTokensFromInput(g)},1)}},change:function(f){if(f.initiator==="tagfield"){return}this.setTokens(this.$element.val())},createTokensFromInput:function(h,g){if(this.$input.val().length<this.options.minLength){return}var f=this.getTokensList();this.setTokens(this.$input.val(),true);if(f==this.getTokensList()&&this.$input.val().length){return false}if(this.$input.hasClass("tt-input")){this.$input.typeahead("val","")}else{this.$input.val("")}if(this.$input.data("edit")){this.unedit(g)}return false},next:function(g){if(g){var e=this.$wrapper.find(".active:first"),f=e&&this.$firstActiveToken?e.index()<this.$firstActiveToken.index():false;if(f){return this.deactivate(e)}}var i=this.$wrapper.find(".active:last"),h=i.nextAll(".token:first");if(!h.length){this.$input.focus();return}this.activate(h,g)},prev:function(h){if(h){var i=this.$wrapper.find(".active:last"),g=i&&this.$firstActiveToken?i.index()>this.$firstActiveToken.index():false;if(g){return this.deactivate(i)}}var f=this.$wrapper.find(".active:first"),e=f.prevAll(".token:first");if(!e.length){e=this.$wrapper.find(".token:first")}if(!e.length&&!h){this.$input.focus();return}this.activate(e,h)},activate:function(g,k,j,l){if(!g){return}if(typeof l==="undefined"){var l=true}if(j){var k=true}this.$copyHelper.focus();if(!k){this.$wrapper.find(".active").removeClass("active");if(l){this.$firstActiveToken=g}else{delete this.$firstActiveToken}}if(j&&this.$firstActiveToken){var h=this.$firstActiveToken.index()-2,f=g.index()-2,e=this;this.$wrapper.find(".token").slice(Math.min(h,f)+1,Math.max(h,f)).each(function(){e.activate(d(this),true)})}g.addClass("active");this.$copyHelper.val(this.getTokensList(null,null,true)).select()},activateAll:function(){var e=this;this.$wrapper.find(".token").each(function(f){e.activate(d(this),f!==0,false,false)})},deactivate:function(e){if(!e){return}e.removeClass("active");this.$copyHelper.val(this.getTokensList(null,null,true)).select()},toggle:function(e){if(!e){return}e.toggleClass("active");this.$copyHelper.val(this.getTokensList(null,null,true)).select()},edit:function(g){if(!g){return}var j=g.data("attrs");var i={attrs:j,relatedTarget:g.get(0)};var f=d.Event("tagfield:edittoken",i);this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.find(".token-label").text(j.value);var h=g.outerWidth();var e=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;g.replaceWith(e);this.preventCreateTokens=true;this.$input.val(j.value).select().data("edit",true).width(h);this.update();this.$element.trigger(d.Event("tagfield:editedtoken",i))},unedit:function(g){var f=this.$input.hasClass("tt-input")?this.$input.parent():this.$input;f.appendTo(this.$wrapper);this.$input.data("edit",false);this.$mirror.text("");this.update();if(g){var e=this;setTimeout(function(){e.$input.focus()},1)}},remove:function(m,l){if(this.$input.is(document.activeElement)||this._disabled||this._readonly){return}var f=(m.type==="click")?d(m.target).closest(".token"):this.$wrapper.find(".token.active");if(m.type!=="click"){if(!l){var l="prev"}this[l]();if(l==="prev"){var g=f.first().prevAll(".token:first").length===0}}var h={attrs:this.getTokenData(f),relatedTarget:f.get(0)},k=d.Event("tagfield:removetoken",h);this.$element.trigger(k);if(k.isDefaultPrevented()){return}var j=d.Event("tagfield:removedtoken",h),i=d.Event("change",{initiator:"tagfield"});f.remove();this.$element.val(this.getTokensList()).trigger(j).trigger(i);if(!this.$wrapper.find(".token").length||m.type==="click"||g){this.$input.focus()}this.$input.css("width",this.options.minWidth+"px");this.update();m.preventDefault();m.stopPropagation()},update:function(k){var j=this.$input.val(),i=parseInt(this.$input.css("padding-left"),10),l=parseInt(this.$input.css("padding-right"),10),h=i+l;if(this.$input.data("edit")){if(!j){j=this.$input.prop("placeholder")}if(j===this.$mirror.text()){return}this.$mirror.text(j);var g=this.$mirror.width()+10;if(g>this.$wrapper.width()){return this.$input.width(this.$wrapper.width())}this.$input.width(g)}else{var f=(this.textDirection==="rtl")?this.$input.offset().left+this.$input.outerWidth()-this.$wrapper.offset().left-parseInt(this.$wrapper.css("padding-left"),10)-h-1:this.$wrapper.offset().left+this.$wrapper.width()+parseInt(this.$wrapper.css("padding-left"),10)-this.$input.offset().left-h;isNaN(f)?this.$input.width("100%"):this.$input.width(f)}},focusInput:function(g){if(d(g.target).closest(".token").length||d(g.target).closest(".token-input").length||d(g.target).closest(".tt-dropdown-menu").length){return}var f=this;setTimeout(function(){f.$input.focus()},0)},search:function(){if(this.$input.data("ui-autocomplete")){this.$input.autocomplete("search")}},disable:function(){this.setProperty("disabled",true)},enable:function(){this.setProperty("disabled",false)},readonly:function(){this.setProperty("readonly",true)},writeable:function(){this.setProperty("readonly",false)},setProperty:function(f,e){this["_"+f]=e;this.$input.prop(f,e);this.$element.prop(f,e);this.$wrapper[e?"addClass":"removeClass"](f)},destroy:function(){this.$element.val(this.getTokensList());this.$element.css(this.$element.data("original-styles"));this.$element.prop("tabindex",this.$element.data("original-tabindex"));var e=d('label[for="'+this.$input.prop("id")+'"]');if(e.length){e.prop("for",this.$element.prop("id"))}this.$element.insertBefore(this.$wrapper);this.$element.removeData("original-styles").removeData("original-tabindex").removeData("bs.tagfield");this.$wrapper.remove();this.$mirror.remove();var f=this.$element;delete this;return f}};var a=d.fn.tagfield;d.fn.tagfield=function(f,i){var h,e=[];Array.prototype.push.apply(e,arguments);var g=this.each(function(){var l=d(this),k=l.data("bs.tagfield"),j=typeof f=="object"&&f;if(typeof f==="string"&&k&&k[f]){e.shift();h=k[f].apply(k,e)}else{if(!k&&typeof f!=="string"&&!i){l.data("bs.tagfield",(k=new b(this,j)));l.trigger("tagfield:initialize")}}});return typeof h!=="undefined"?h:g};d.fn.tagfield.defaults={minWidth:60,minLength:0,allowEditing:true,allowPasting:true,limit:0,autocomplete:{},typeahead:{},showAutocompleteOnFocus:false,createTokensOnBlur:false,delimiter:",",beautify:true,opicon:false};d.fn.tagfield.Constructor=b;d.fn.tagfield.noConflict=function(){d.fn.tagfield=a;return this};return b}));
/*!
 * typeahead.js 0.10.4
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(b){var q=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(v){return !v||/^\s*$/.test(v)},escapeRegExChars:function(v){return v.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(v){return typeof v==="string"},isNumber:function(v){return typeof v==="number"},isArray:b.isArray,isFunction:b.isFunction,isObject:b.isPlainObject,isUndefined:function(v){return typeof v==="undefined"},toStr:function u(v){return q.isUndefined(v)||v===null?"":v+""},bind:b.proxy,each:function(x,v){b.each(x,w);function w(y,z){return v(z,y)}},map:b.map,filter:b.grep,every:function(w,x){var v=true;if(!w){return v}b.each(w,function(y,z){if(!(v=x.call(null,z,y,w))){return false}});return !!v},some:function(w,x){var v=false;if(!w){return v}b.each(w,function(y,z){if(v=x.call(null,z,y,w)){return false}});return !!v},mixin:b.extend,getUniqueId:function(){var v=0;return function(){return v++}}(),templatify:function s(w){return b.isFunction(w)?w:v;function v(){return String(w)}},defer:function(v){setTimeout(v,0)},debounce:function(x,z,w){var y,v;return function(){var D=this,C=arguments,B,A;B=function(){y=null;if(!w){v=x.apply(D,C)}};A=w&&!y;clearTimeout(y);y=setTimeout(B,z);if(A){v=x.apply(D,C)}return v}},throttle:function(A,C){var y,x,B,v,z,w;z=0;w=function(){z=new Date();B=null;v=A.apply(y,x)};return function(){var D=new Date(),E=C-(D-z);y=this;x=arguments;if(E<=0){clearTimeout(B);B=null;z=D;v=A.apply(y,x)}else{if(!B){B=setTimeout(w,E)}}return v}},noop:function(){}}}();var l="0.10.4";var n=function(){return{nonword:s,whitespace:u,obj:{nonword:v(s),whitespace:v(u)}};function u(w){w=q.toStr(w);return w?w.split(/\s+/):[]}function s(w){w=q.toStr(w);return w?w.split(/\W+/):[]}function v(x){return function w(){var y=[].slice.call(arguments,0);return function z(B){var A=[];q.each(y,function(C){A=A.concat(x(q.toStr(B[C])))});return A}}}}();var d=function(){function u(B){this.maxSize=q.isNumber(B)?B:100;this.reset();if(this.maxSize<=0){this.set=this.get=b.noop}}q.mixin(u.prototype,{set:function A(B,E){var D=this.list.tail,C;if(this.size>=this.maxSize){this.list.remove(D);delete this.hash[D.key]}if(C=this.hash[B]){C.val=E;this.list.moveToFront(C)}else{C=new v(B,E);this.list.add(C);this.hash[B]=C;this.size++}},get:function w(B){var C=this.hash[B];if(C){this.list.moveToFront(C);return C.val}},reset:function y(){this.size=0;this.hash={};this.list=new x()}});function x(){this.head=this.tail=null}q.mixin(x.prototype,{add:function z(B){if(this.head){B.next=this.head;this.head.prev=B}this.head=B;this.tail=this.tail||B},remove:function s(B){B.prev?B.prev.next=B.next:this.head=B.next;B.next?B.next.prev=B.prev:this.tail=B.prev},moveToFront:function(B){this.remove(B);this.add(B)}});function v(B,C){this.key=B;this.val=C;this.prev=this.next=null}return u}();var o=function(){var s,u;try{s=window.localStorage;s.setItem("~~~","!");s.removeItem("~~~")}catch(y){s=null}function w(A){this.prefix=["__",A,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+q.escapeRegExChars(this.prefix))}if(s&&window.JSON){u={_prefix:function(A){return this.prefix+A},_ttlKey:function(A){return this._prefix(A)+this.ttlKey},get:function(A){if(this.isExpired(A)){this.remove(A)}return z(s.getItem(this._prefix(A)))},set:function(B,C,A){if(q.isNumber(A)){s.setItem(this._ttlKey(B),x(v()+A))}else{s.removeItem(this._ttlKey(B))}return s.setItem(this._prefix(B),x(C))},remove:function(A){s.removeItem(this._ttlKey(A));s.removeItem(this._prefix(A));return this},clear:function(){var C,B,D=[],A=s.length;for(C=0;C<A;C++){if((B=s.key(C)).match(this.keyMatcher)){D.push(B.replace(this.keyMatcher,""))}}for(C=D.length;C--;){this.remove(D[C])}return this},isExpired:function(B){var A=z(s.getItem(this._ttlKey(B)));return q.isNumber(A)&&v()>A?true:false}}}else{u={get:q.noop,set:q.noop,remove:q.noop,clear:q.noop,isExpired:q.noop}}q.mixin(w.prototype,u);return w;function v(){return new Date().getTime()}function x(A){return JSON.stringify(q.isUndefined(A)?null:A)}function z(A){return JSON.parse(A)}}();var p=function(){var v=0,x={},s=6,w=new d(10);function A(B){B=B||{};this.cancelled=false;this.lastUrl=null;this._send=B.transport?y(B.transport):b.ajax;this._get=B.rateLimiter?B.rateLimiter(this._get):this._get;this._cache=B.cache===false?new d(0):w;this.xhrSending=B.xhrSending||function(){};this.xhrDone=B.xhrDone||function(){}}A.setMaxPendingRequests=function u(B){s=B};A.resetCache=function z(){w.reset()};q.mixin(A.prototype,{_get:function(F,I,C){var H=this,G;if(this.cancelled||F!==this.lastUrl){return}if(G=x[F]){G.done(E).fail(D)}else{if(v<s){v++;x[F]=this._send(F,I).done(E).fail(D).always(B)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}}function E(J){setTimeout(function(){H.xhrDone(F)},100);C&&C(null,J);H._cache.set(F,J)}function D(){C&&C(true)}function B(){v--;delete x[F];if(H.onDeckRequestArgs){H._get.apply(H,H.onDeckRequestArgs);H.onDeckRequestArgs=null}}},get:function(C,E,B){var D;if(q.isFunction(E)){B=E;E={}}this.cancelled=false;this.lastUrl=C;if(D=this._cache.get(C)){q.defer(function(){B&&B(null,D)})}else{this.xhrSending();this._get(C,E,B)}return !!D},cancel:function(){this.cancelled=true}});return A;function y(B){return function C(E,H){var D=b.Deferred();B(E,H,G,F);return D;function G(I){q.defer(function(){D.resolve(I)})}function F(I){q.defer(function(){D.reject(I)})}}}}();var i=function(){function s(C){C=C||{};if(!C.datumTokenizer||!C.queryTokenizer){b.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=C.datumTokenizer;this.queryTokenizer=C.queryTokenizer;this.reset()}q.mixin(s.prototype,{bootstrap:function v(C){this.datums=C.datums;this.trie=C.trie},add:function(D){var C=this;D=q.isArray(D)?D:[D];q.each(D,function(E){var G,F;G=C.datums.push(E)-1;F=x(C.datumTokenizer(E));q.each(F,function(H){var K,J,I;K=C.trie;J=H.split("");while(I=J.shift()){K=K.children[I]||(K.children[I]=A());K.ids.push(G)}})})},get:function u(E){var C=this,F,D;F=x(this.queryTokenizer(E));q.each(F,function(G){var K,J,I,H;if(D&&D.length===0){return false}K=C.trie;J=G.split("");while(K&&(I=J.shift())){K=K.children[I]}if(K&&J.length===0){H=K.ids.slice(0);D=D?y(D,H):H}else{D=[];return false}});return D?q.map(w(D),function(G){return C.datums[G]}):[]},reset:function z(){this.datums=[];this.trie=A()},serialize:function B(){return{datums:this.datums,trie:this.trie}}});return s;function x(C){C=q.filter(C,function(D){return !!D});C=q.map(C,function(D){return D.toLowerCase()});return C}function A(){return{ids:[],children:{}}}function w(G){var D={},F=[];for(var E=0,C=G.length;E<C;E++){if(!D[G[E]]){D[G[E]]=true;F.push(G[E])}}return F}function y(H,F){var D=0,G=0,J=[];H=H.sort(I);F=F.sort(I);var E=H.length,C=F.length;while(D<E&&G<C){if(H[D]<F[G]){D++}else{if(H[D]>F[G]){G++}else{J.push(H[D]);D++;G++}}}return J;function I(L,K){return L-K}}}();var f=function(){return{local:v,prefetch:s,remote:u};function v(w){return w.local||null}function s(y){var x,w;w={url:null,thumbprint:"",ttl:24*60*60*1000,filter:null,ajax:{}};if(x=y.prefetch||null){x=q.isString(x)?{url:x}:x;x=q.mixin(w,x);x.thumbprint=l+x.thumbprint;x.ajax.type=x.ajax.type||"GET";x.ajax.dataType=x.ajax.dataType||"json";!x.url&&b.error("prefetch requires url to be set")}return x}function u(A){var y,z;z={url:null,cache:true,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(y=A.remote||null){y=q.isString(y)?{url:y}:y;y=q.mixin(z,y);y.rateLimiter=/^throttle$/i.test(y.rateLimitBy)?x(y.rateLimitWait):w(y.rateLimitWait);y.ajax.type=y.ajax.type||"GET";y.ajax.dataType=y.ajax.dataType||"json";delete y.rateLimitBy;delete y.rateLimitWait;!y.url&&b.error("remote requires url to be set")}return y;function w(B){return function(C){return q.debounce(C,B)}}function x(B){return function(C){return q.throttle(C,B)}}}}();(function(E){var s,z;s=E.Bloodhound;z={data:"data",protocol:"protocol",thumbprint:"thumbprint"};E.Bloodhound=v;function v(M){if(!M||!M.local&&!M.prefetch&&!M.remote){b.error("one of local, prefetch, or remote is required")}this.limit=M.limit||5;this.sorter=C(M.sorter);this.dupDetector=M.dupDetector||B;this.local=f.local(M);this.prefetch=f.prefetch(M);this.remote=f.remote(M);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new i({datumTokenizer:M.datumTokenizer,queryTokenizer:M.queryTokenizer});this.storage=this.cacheKey?new o(this.cacheKey):null}v.noConflict=function L(){E.Bloodhound=s;return v};v.tokenizers=n;q.mixin(v.prototype,{_loadPrefetch:function w(Q){var N=this,P,M;if(P=this._readFromStorage(Q.thumbprint)){this.index.bootstrap(P);M=b.Deferred().resolve()}else{M=b.ajax(Q.url,Q.ajax).done(O)}return M;function O(R){N.clear();N.add(Q.filter?Q.filter(R):R);N._saveToStorage(N.index.serialize(),Q.thumbprint,Q.ttl)}},_getFromRemote:function y(R,M){var Q=this,O,P;if(!this.transport){return}R=R||"";P=encodeURIComponent(R);O=this.remote.replace?this.remote.replace(this.remote.url,R):this.remote.url.replace(this.remote.wildcard,P);return this.transport.get(O,this.remote.ajax,N);function N(S,T){S?M([]):M(Q.remote.filter?Q.remote.filter(T):T)}},_cancelLastRemoteRequest:function K(){this.transport&&this.transport.cancel()},_saveToStorage:function F(O,N,M){if(this.storage){this.storage.set(z.data,O,M);this.storage.set(z.protocol,location.protocol,M);this.storage.set(z.thumbprint,N,M)}},_readFromStorage:function J(N){var M={},O;if(this.storage){M.data=this.storage.get(z.data);M.protocol=this.storage.get(z.protocol);M.thumbprint=this.storage.get(z.thumbprint)}O=M.thumbprint!==N||M.protocol!==location.protocol;return M.data&&!O?M.data:null},_initialize:function u(){var P=this,O=this.local,M;M=this.prefetch?this._loadPrefetch(this.prefetch):b.Deferred().resolve();O&&M.done(N);this.transport=this.remote?new p(this.remote):null;return this.initPromise=M.promise();function N(){P.add(q.isFunction(O)?O():O)}},initialize:function u(M){return !this.initPromise||M?this._initialize():this.initPromise},add:function A(M){this.index.add(M)},get:function H(Q,M){var O=this,P=[],N=false;P=this.index.get(Q);P=this.sorter(P).slice(0,this.limit);P.length<this.limit?N=this._getFromRemote(Q,R):this._cancelLastRemoteRequest();if(!N){(P.length>0||!this.transport)&&M&&M(P)}function R(T){var S=P.slice(0);q.each(T,function(V){var U;U=q.some(S,function(W){return O.dupDetector(V,W)});!U&&S.push(V);return S.length<O.limit});M&&M(O.sorter(S))}},clear:function D(){this.index.reset()},clearPrefetchCache:function x(){this.storage&&this.storage.clear()},clearRemoteCache:function G(){this.transport&&p.resetCache()},ttAdapter:function I(){return q.bind(this.get,this)}});return v;function C(N){return q.isFunction(N)?M:O;function M(P){return P.sort(N)}function O(P){return P}}function B(){return false}})(this);var h=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}();var g=function(){var s={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(q.isMsie()){q.mixin(s.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(q.isMsie()&&q.isMsie()<=7){q.mixin(s.input,{marginTop:"-1px"})}return s}();var a=function(){var u="typeahead:";function s(v){if(!v||!v.el){b.error("EventBus initialized without el")}this.$el=b(v.el)}q.mixin(s.prototype,{trigger:function(w){var v=[].slice.call(arguments,1);this.$el.trigger(u+w,v)}});return s}();var e=function(){var v=/\s+/,z=s();return{onSync:A,onAsync:u,off:w,trigger:x};function B(H,F,D,E){var G;if(!D){return this}F=F.split(v);D=E?C(D,E):D;this._callbacks=this._callbacks||{};while(G=F.shift()){this._callbacks[G]=this._callbacks[G]||{sync:[],async:[]};this._callbacks[G][H].push(D)}return this}function u(F,D,E){return B.call(this,"async",F,D,E)}function A(F,D,E){return B.call(this,"sync",F,D,E)}function w(D){var E;if(!this._callbacks){return this}D=D.split(v);while(E=D.shift()){delete this._callbacks[E]}return this}function x(E){var F,G,D,H,I;if(!this._callbacks){return this}E=E.split(v);D=[].slice.call(arguments,1);while((F=E.shift())&&(G=this._callbacks[F])){H=y(G.sync,this,[F].concat(D));I=y(G.async,this,[F].concat(D));H()&&z(I)}return this}function y(G,F,E){return D;function D(){var J;for(var I=0,H=G.length;!J&&I<H;I+=1){J=G[I].apply(F,E)===false}return !J}}function s(){var E;if(window.setImmediate){E=function F(G){setImmediate(function(){G()})}}else{E=function D(G){setTimeout(function(){G()},0)}}return E}function C(E,D){return E.bind?E.bind(D):function(){E.apply(D,[].slice.call(arguments,0))}}}();var c=function(w){var v={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function u(A){var x;A=q.mixin({},v,A);if(!A.node||!A.pattern){return}A.pattern=q.isArray(A.pattern)?A.pattern:[A.pattern];x=s(A.pattern,A.caseSensitive,A.wordsOnly);y(A.node,z);function z(E){var C,B,D;if(C=x.exec(E.data)){D=w.createElement(A.tagName);A.className&&(D.className=A.className);B=E.splitText(C.index);B.splitText(C[0].length);D.appendChild(B.cloneNode(true));E.parentNode.replaceChild(D,B)}return !!C}function y(E,F){var C,D=3;for(var B=0;B<E.childNodes.length;B++){C=E.childNodes[B];if(C.nodeType===D){B+=F(C)?1:0}else{y(C,F)}}}};function s(A,y,D){var C=[],B;for(var z=0,x=A.length;z<x;z++){C.push(q.escapeRegExChars(A[z]))}B=D?"\\b("+C.join("|")+")\\b":"("+C.join("|")+")";return y?new RegExp(B):new RegExp(B,"i")}}(window.document);var k=function(){var P;P={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function M(Y){var W=this,X,T,V,U;Y=Y||{};if(!Y.input){b.error("input is missing")}X=q.bind(this._onBlur,this);T=q.bind(this._onFocus,this);V=q.bind(this._onKeydown,this);U=q.bind(this._onInput,this);this.$hint=b(Y.hint);this.$input=b(Y.input).on("blur.tt",X).on("focus.tt",T).on("keydown.tt",V);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=q.noop}if(!q.isMsie()){this.$input.on("input.tt",U)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(Z){if(P[Z.which||Z.keyCode]){return}q.defer(q.bind(W._onInput,W,Z))})}this.query=this.$input.val();this.$overflowHelper=F(this.$input)}M.normalizeQuery=function(T){return(T||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};q.mixin(M.prototype,e,{_onBlur:function D(){this.resetInputValue();this.trigger("blurred")},_onFocus:function x(){this.trigger("focused")},_onKeydown:function R(T){var U=P[T.which||T.keyCode];this._managePreventDefault(U,T);if(U&&this._shouldTrigger(U,T)){this.trigger(U+"Keyed",T)}},_onInput:function u(){this._checkInputValue()},_managePreventDefault:function z(X,W){var V,U,T;switch(X){case"tab":U=this.getHint();T=this.getInputValue();V=U&&U!==T&&!G(W);break;case"up":case"down":V=!G(W);break;default:V=false}V&&W.preventDefault()},_shouldTrigger:function S(V,U){var T;switch(V){case"tab":T=!G(U);break;default:T=true}return T},_checkInputValue:function A(){var T,U,V;T=this.getInputValue();U=C(T,this.query);V=U?this.query.length!==T.length:false;this.query=T;if(!U){this.trigger("queryChanged",this.query)}else{if(V){this.trigger("whitespaceChanged",this.query)}}},focus:function I(){this.$input.focus()},blur:function N(){this.$input.blur()},getQuery:function K(){return this.query},setQuery:function J(T){this.query=T},getInputValue:function y(){return this.$input.val()},setInputValue:function B(U,T){this.$input.val(U);T?this.clearHint():this._checkInputValue()},resetInputValue:function w(){this.setInputValue(this.query,true)},getHint:function v(){return this.$hint.val()},setHint:function O(T){this.$hint.val(T)},clearHint:function E(){this.setHint("")},clearHintIfInvalid:function s(){var W,V,T,U;W=this.getInputValue();V=this.getHint();T=W!==V&&V.indexOf(W)===0;U=W!==""&&T&&!this.hasOverflow();!U&&this.clearHint()},getLanguageDirection:function H(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function L(){var T=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=T},isCursorAtEnd:function(){var U,V,T;U=this.$input.val().length;V=this.$input[0].selectionStart;if(q.isNumber(V)){return V===U}else{if(document.selection){T=document.selection.createRange();T.moveStart("character",-U);return U===T.text.length}}return true},destroy:function Q(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return M;function F(T){return b('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:T.css("font-family"),fontSize:T.css("font-size"),fontStyle:T.css("font-style"),fontVariant:T.css("font-variant"),fontWeight:T.css("font-weight"),wordSpacing:T.css("word-spacing"),letterSpacing:T.css("letter-spacing"),textIndent:T.css("text-indent"),textRendering:T.css("text-rendering"),textTransform:T.css("text-transform")}).insertAfter(T)}function C(U,T){return M.normalizeQuery(U)===M.normalizeQuery(T)}function G(T){return T.altKey||T.ctrlKey||T.metaKey||T.shiftKey}}();var r=function(){var u="ttDataset",J="ttValue",D="ttDatum";function s(K){K=K||{};K.templates=K.templates||{};if(!K.source){b.error("missing source")}if(K.name&&!w(K.name)){b.error("invalid dataset name: "+K.name)}this.query=null;this.highlight=!!K.highlight;this.name=K.name||q.getUniqueId();this.source=K.source;this.displayFn=x(K.display||K.displayKey);this.templates=z(K.templates,this.displayFn);this.queryTokenizer=K.queryTokenizer||function(L){return[L]};this.$el=b(h.dataset.replace("%CLASS%",this.name))}s.extractDatasetName=function H(K){return b(K).data(u)};s.extractValue=function E(K){return b(K).data(J)};s.extractDatum=function E(K){return b(K).data(D)};q.mixin(s.prototype,e,{_render:function v(Q,K){if(!this.$el){return}var P=this,M;this.$el.empty();M=K&&K.length;if(!M&&this.templates.empty){this.$el.html(L()).prepend(P.templates.header?O():null).append(P.templates.footer?N():null)}else{if(M){this.$el.html(R()).prepend(P.templates.header?O():null).append(P.templates.footer?N():null)}}this.trigger("rendered");function L(){return P.templates.empty({query:Q,isEmpty:true})}function R(){var T,S;T=b(h.suggestions).css(g.suggestions);S=q.map(K,U);T.append.apply(T,S);P.highlight&&c({className:"tt-highlight",node:T[0],pattern:y(P.queryTokenizer(Q))});return T;function U(V){var W;W=b(h.suggestion).append(P.templates.suggestion(V)).data(u,P.name).data(J,P.displayFn(V)).data(D,V);W.children().each(function(){b(this).css(g.suggestionChild)});return W}}function O(){return P.templates.header({query:Q,isEmpty:!M})}function N(){return P.templates.footer({query:Q,isEmpty:!M})}},getRoot:function F(){return this.$el},update:function A(M){var L=this;this.query=M;this.canceled=false;this.source(M,K);function K(N){if(!L.canceled&&M===L.query){L._render(M,N)}}},cancel:function I(){this.canceled=true},clear:function C(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function B(){return this.$el.is(":empty")},destroy:function G(){this.$el=null}});return s;function x(K){K=K||"value";return q.isFunction(K)?K:L;function L(M){return M[K]}}function z(L,M){return{empty:L.empty&&q.templatify(L.empty),header:L.header&&q.templatify(L.header),footer:L.footer&&q.templatify(L.footer),suggestion:L.suggestion||K};function K(N){return"<p>"+M(N)+"</p>"}}function w(K){return/^[_a-zA-Z0-9-]+$/.test(K)}function y(L){var M=[];for(var K=0;K<L.length;K++){if(L[K].length>0){M.push(L[K])}}return M}}();var m=function(){function M(V){var T=this,R,U,S;V=V||{};if(!V.menu){b.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.datasets=q.map(V.datasets,D);R=q.bind(this._onSuggestionClick,this);U=q.bind(this._onSuggestionMouseEnter,this);S=q.bind(this._onSuggestionMouseLeave,this);this.$menu=b(V.menu).on("click.tt",".tt-suggestion",R).on("mouseenter.tt",".tt-suggestion",U).on("mouseleave.tt",".tt-suggestion",S);q.each(this.datasets,function(W){T.$menu.append(W.getRoot());W.onSync("rendered",T._onRendered,T)})}q.mixin(M.prototype,e,{_onSuggestionClick:function L(R){this.trigger("suggestionClicked",b(R.currentTarget))},_onSuggestionMouseEnter:function s(R){this._removeCursor();this._setCursor(b(R.currentTarget),true)},_onSuggestionMouseLeave:function G(){this._removeCursor()},_onRendered:function z(){this.isEmpty=q.every(this.datasets,R);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function R(S){return S.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function y(){return this.$menu.find(".tt-suggestion")},_getCursor:function w(){return this.$menu.find(".tt-cursor").first()},_setCursor:function O(S,R){S.first().addClass("tt-cursor");!R&&this.trigger("cursorMoved")},_removeCursor:function v(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function u(R){var T,S,V,U;if(!this.isOpen){return}S=this._getCursor();T=this._getSuggestions();this._removeCursor();V=T.index(S)+R;V=(V+1)%(T.length+1)-1;if(V===-1){this.trigger("cursorRemoved");return}else{if(V<-1){V=T.length-1}}this._setCursor(U=T.eq(V));this._ensureVisible(U)},_ensureVisible:function K(U){var R,T,S,V;R=U.position().top;T=R+U.outerHeight(true);S=this.$menu.scrollTop();V=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(R<0){this.$menu.scrollTop(S+R)}else{if(V<T){this.$menu.scrollTop(S+(T-V))}}},close:function H(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function F(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function P(R){this.$menu.css(R==="ltr"?g.ltr:g.rtl)},moveCursorUp:function A(){this._moveCursor(-1)},moveCursorDown:function Q(){this._moveCursor(+1)},getDatumForSuggestion:function C(S){var R=null;if(S.length){R={raw:r.extractDatum(S),value:r.extractValue(S),datasetName:r.extractDatasetName(S)}}return R},getDatumForCursor:function x(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function J(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function B(R){q.each(this.datasets,S);function S(T){T.update(R)}},empty:function E(){q.each(this.datasets,R);this.isEmpty=true;function R(S){S.clear()}},isVisible:function I(){return this.isOpen&&!this.isEmpty},destroy:function N(){this.$menu.off(".tt");this.$menu=null;q.each(this.datasets,R);function R(S){S.destroy()}}});return M;function D(R){return new r(R)}}();var j=function(){var U="ttAttrs";function E(aa){var Z,ab,Y;aa=aa||{};if(!aa.input){b.error("missing input")}this.isActivated=false;this.autoselect=!!aa.autoselect;this.minLength=q.isNumber(aa.minLength)?aa.minLength:1;this.$node=O(aa.input,aa.withHint);Z=this.$node.find(".tt-dropdown-menu");ab=this.$node.find(".tt-input");Y=this.$node.find(".tt-hint");ab.on("blur.tt",function(ad){var af,ae,ac;af=document.activeElement;ae=Z.is(af);ac=Z.has(af).length>0;if(q.isMsie()&&(ae||ac)){ad.preventDefault();ad.stopImmediatePropagation();q.defer(function(){ab.focus()})}});Z.on("mousedown.tt",function(ac){ac.preventDefault()});this.eventBus=aa.eventBus||new a({el:ab});this.dropdown=new m({menu:Z,datasets:aa.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new k({input:ab,hint:Y}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}q.mixin(E.prototype,{_onSuggestionClicked:function v(aa,Z){var Y;if(Y=this.dropdown.getDatumForSuggestion(Z)){this._select(Y)}},_onCursorMoved:function P(){var Y=this.dropdown.getDatumForCursor();this.input.setInputValue(Y.value,true);this.eventBus.trigger("cursorchanged",Y.raw,Y.datasetName)},_onCursorRemoved:function y(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function K(){this._updateHint()},_onOpened:function w(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function B(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function M(){this.isActivated=true;this.dropdown.open()},_onBlurred:function N(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function I(Z,Y){var aa,ab;aa=this.dropdown.getDatumForCursor();ab=this.dropdown.getDatumForTopSuggestion();if(aa){this._select(aa);Y.preventDefault()}else{if(this.autoselect&&ab){this._select(ab);Y.preventDefault()}}},_onTabKeyed:function X(aa,Z){var Y;if(Y=this.dropdown.getDatumForCursor()){this._select(Y);Z.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function S(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function u(){var Y=this.input.getQuery();this.dropdown.isEmpty&&Y.length>=this.minLength?this.dropdown.update(Y):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function z(){var Y=this.input.getQuery();this.dropdown.isEmpty&&Y.length>=this.minLength?this.dropdown.update(Y):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function W(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function J(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function G(Z,Y){this.input.clearHintIfInvalid();Y.length>=this.minLength?this.dropdown.update(Y):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function T(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function R(){var Y;if(this.dir!==(Y=this.input.getLanguageDirection())){this.dir=Y;this.$node.css("direction",Y);this.dropdown.setLanguageDirection(Y)}},_updateHint:function L(){var Z,ad,ac,ab,Y,aa;Z=this.dropdown.getDatumForTopSuggestion();if(Z&&this.dropdown.isVisible()&&!this.input.hasOverflow()){ad=this.input.getInputValue();ac=k.normalizeQuery(ad);ab=q.escapeRegExChars(ac);Y=new RegExp("^(?:"+ab+")(.+$)","i");aa=Y.exec(Z.value);aa?this.input.setHint(ad+aa[1]):this.input.clearHint()}else{this.input.clearHint()}},_autocomplete:function V(aa){var ac,ab,Y,Z;ac=this.input.getHint();ab=this.input.getQuery();Y=aa||this.input.isCursorAtEnd();if(ac&&ab!==ac&&Y){Z=this.dropdown.getDatumForTopSuggestion();Z&&this.input.setInputValue(Z.value);this.eventBus.trigger("autocompleted",Z.raw,Z.datasetName)}},_select:function H(Y){this.input.setQuery(Y.value);this.input.setInputValue(Y.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",Y.raw,Y.datasetName);this.dropdown.close();q.defer(q.bind(this.dropdown.empty,this.dropdown))},open:function D(){this.dropdown.open()},close:function F(){this.dropdown.close()},setVal:function s(Y){Y=q.toStr(Y);if(this.isActivated){this.input.setInputValue(Y)}else{this.input.setQuery(Y);this.input.setInputValue(Y,true)}this._setLanguageDirection()},getVal:function C(){return this.input.getQuery()},destroy:function Q(){this.input.destroy();this.dropdown.destroy();x(this.$node);this.$node=null}});return E;function O(Y,ad){var ae,aa,ac,Z;ae=b(Y);aa=b(h.wrapper).css(g.wrapper);ac=b(h.dropdown).css(g.dropdown);Z=ae.clone().css(g.hint).css(A(ae));Z.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",true).attr({autocomplete:"off",spellcheck:"false",tabindex:-1});ae.data(U,{dir:ae.attr("dir"),autocomplete:ae.attr("autocomplete"),spellcheck:ae.attr("spellcheck"),style:ae.attr("style")});ae.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(ad?g.input:g.inputWithNoHint);try{!ae.attr("dir")&&ae.attr("dir","auto")}catch(ab){}return ae.wrap(aa).parent().prepend(ad?Z:null).append(ac)}function A(Y){return{backgroundAttachment:Y.css("background-attachment"),backgroundClip:Y.css("background-clip"),backgroundColor:Y.css("background-color"),backgroundImage:Y.css("background-image"),backgroundOrigin:Y.css("background-origin"),backgroundPosition:Y.css("background-position"),backgroundRepeat:Y.css("background-repeat"),backgroundSize:Y.css("background-size")}}function x(Y){var Z=Y.find(".tt-input");q.each(Z.data(U),function(ab,aa){q.isUndefined(ab)?Z.removeAttr(aa):Z.attr(aa,ab)});Z.detach().removeData(U).removeClass("tt-input").insertAfter(Y);Y.remove()}}();(function(){var v,s,w;v=b.fn.typeahead;s="ttTypeahead";w={initialize:function x(E,D){D=q.isArray(D)?D:[].slice.call(arguments,1);E=E||{};return this.each(C);function C(){var H=b(this),F,G;q.each(D,function(I){I.highlight=!!E.highlight});G=new j({input:H,eventBus:F=new a({el:H}),withHint:q.isUndefined(E.hint)?true:!!E.hint,minLength:E.minLength,autoselect:E.autoselect,datasets:D});H.data(s,G)}},open:function y(){return this.each(C);function C(){var E=b(this),D;if(D=E.data(s)){D.open()}}},close:function B(){return this.each(C);function C(){var E=b(this),D;if(D=E.data(s)){D.close()}}},val:function u(C){return !arguments.length?E(this.first()):this.each(D);function D(){var G=b(this),F;if(F=G.data(s)){F.setVal(C)}}function E(H){var G,F;if(G=H.data(s)){F=G.getVal()}return F}},destroy:function A(){return this.each(C);function C(){var E=b(this),D;if(D=E.data(s)){D.destroy();E.removeData(s)}}}};b.fn.typeahead=function(D){var C;if(w[D]&&D!=="initialize"){C=this.filter(function(){return !!b(this).data(s)});return w[D].apply(C,[].slice.call(arguments,1))}else{return w.initialize.apply(this,arguments)}};b.fn.typeahead.noConflict=function z(){b.fn.typeahead=v;return this}})()})(window.jQuery);
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2014 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(d,c){if(typeof define==="function"&&define.amd){define(["jquery"],c)}else{if(typeof exports==="object"){module.exports=c(require("jquery"))}else{c(d.jQuery)}}}(this,function(y){y.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var F=document.createElement("div");var r={};function H(a){if(a in F.style){return a}var b=["Moz","Webkit","O","ms"];var e=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<b.length;++c){var d=b[c]+e;if(d in F.style){return d}}}function E(){F.style[r.transform]="";F.style[r.transform]="rotateY(90deg)";return F.style[r.transform]!==""}var I=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;r.transition=H("transition");r.transitionDelay=H("transitionDelay");r.transform=H("transform");r.transformOrigin=H("transformOrigin");r.filter=H("Filter");r.transform3d=E();var A={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var D=r.transitionEnd=A[r.transition]||null;for(var s in r){if(r.hasOwnProperty(s)&&typeof y.support[s]==="undefined"){y.support[s]=r[s]}}F=null;y.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};y.cssHooks["transit:transform"]={get:function(a){return y(a).data("transform")||new z()},set:function(b,c){var a=c;if(!(a instanceof z)){a=new z(a)}if(r.transform==="WebkitTransform"&&!I){b.style[r.transform]=a.toString(true)}else{b.style[r.transform]=a.toString()}y(b).data("transform",a)}};y.cssHooks.transform={set:y.cssHooks["transit:transform"].set};y.cssHooks.filter={get:function(a){return a.style[r.filter]},set:function(b,a){b.style[r.filter]=a}};if(y.fn.jquery<"1.8"){y.cssHooks.transformOrigin={get:function(a){return a.style[r.transformOrigin]},set:function(b,a){b.style[r.transformOrigin]=a}};y.cssHooks.transition={get:function(a){return a.style[r.transition]},set:function(b,a){b.style[r.transition]=a}}}v("scale");v("scaleX");v("scaleY");v("translate");v("rotate");v("rotateX");v("rotateY");v("rotate3d");v("perspective");v("skewX");v("skewY");v("x",true);v("y",true);function z(a){if(typeof a==="string"){this.parse(a)}return this}z.prototype={setFromString:function(a,b){var c=(typeof b==="string")?b.split(","):(b.constructor===Array)?b:[b];c.unshift(a);z.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);if(this.setter[a]){this.setter[a].apply(this,b)}else{this[a]=b.join(",")}},get:function(a){if(this.getter[a]){return this.getter[a].apply(this)}else{return this[a]||0}},setter:{rotate:function(a){this.rotate=u(a,"deg")},rotateX:function(a){this.rotateX=u(a,"deg")},rotateY:function(a){this.rotateY=u(a,"deg")},scale:function(b,a){if(a===undefined){a=b}this.scale=b+","+a},skewX:function(a){this.skewX=u(a,"deg")},skewY:function(a){this.skewY=u(a,"deg")},perspective:function(a){this.perspective=u(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(b,a){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(b!==null&&b!==undefined){this._translateX=u(b,"px")}if(a!==null&&a!==undefined){this._translateY=u(a,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");if(a[0]){a[0]=parseFloat(a[0])}if(a[1]){a[1]=parseFloat(a[1])}return(a[0]===a[1])?a[0]:a},rotate3d:function(){var a=(this.rotate3d||"0,0,0,0deg").split(",");for(var b=0;b<=3;++b){if(a[b]){a[b]=parseFloat(a[b])}}if(a[3]){a[3]=u(a[3],"deg")}return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this){if(this.hasOwnProperty(c)){if((!r.transform3d)&&((c==="rotateX")||(c==="rotateY")||(c==="perspective")||(c==="transformOrigin"))){continue}if(c[0]!=="_"){if(a&&(c==="scale")){b.push(c+"3d("+this[c]+",1)")}else{if(a&&(c==="translate")){b.push(c+"3d("+this[c]+",0)")}else{b.push(c+"("+this[c]+")")}}}}}return b.join(" ")}};function w(b,c,a){if(c===true){b.queue(a)}else{if(c){b.queue(c,a)}else{b.each(function(){a.call(this)})}}}function B(a){var b=[];y.each(a,function(c){c=y.camelCase(c);c=y.transit.propertyMap[c]||y.cssProps[c]||c;c=G(c);if(r[c]){c=G(r[c])}if(y.inArray(c,b)===-1){b.push(c)}});return b}function C(f,c,a,g){var e=B(f);if(y.cssEase[a]){a=y.cssEase[a]}var b=""+x(c)+" "+a;if(parseInt(g,10)>0){b+=" "+x(g)}var d=[];y.each(e,function(h,i){d.push(i+" "+b)});return d.join(", ")}y.fn.transition=y.fn.transit=function(e,m,f,a){var o=this;var j=0;var h=true;var b=y.extend(true,{},e);if(typeof m==="function"){a=m;m=undefined}if(typeof m==="object"){f=m.easing;j=m.delay||0;h=typeof m.queue==="undefined"?true:m.queue;a=m.complete;m=m.duration}if(typeof f==="function"){a=f;f=undefined}if(typeof b.easing!=="undefined"){f=b.easing;delete b.easing}if(typeof b.duration!=="undefined"){m=b.duration;delete b.duration}if(typeof b.complete!=="undefined"){a=b.complete;delete b.complete}if(typeof b.queue!=="undefined"){h=b.queue;delete b.queue}if(typeof b.delay!=="undefined"){j=b.delay;delete b.delay}if(typeof m==="undefined"){m=y.fx.speeds._default}if(typeof f==="undefined"){f=y.cssEase._default}m=x(m);var l=C(b,m,f,j);var c=y.transit.enabled&&r.transition;var k=c?(parseInt(m,10)+parseInt(j,10)):0;if(k===0){var d=function(p){o.css(b);if(a){a.apply(o)}if(p){p()}};w(o,h,d);return o}var g={};var n=function(p){var q=false;var J=function(){if(q){o.unbind(D,J)}if(k>0){o.each(function(){this.style[r.transition]=(g[this]||null)})}if(typeof a==="function"){a.apply(o)}if(typeof p==="function"){p()}};if((k>0)&&(D)&&(y.transit.useTransitionEnd)){q=true;o.bind(D,J)}else{window.setTimeout(J,k)}o.each(function(){if(k>0){this.style[r.transition]=l}y(this).css(b)})};var i=function(p){this.offsetWidth;n(p)};w(o,h,i);return this};function v(a,b){if(!b){y.cssNumber[a]=true}y.transit.propertyMap[a]=r.transform;y.cssHooks[a]={get:function(c){var d=y(c).css("transit:transform");return d.get(a)},set:function(d,c){var e=y(d).css("transit:transform");e.setFromString(a,c);y(d).css({"transit:transform":e})}}}function G(a){return a.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function u(a,b){if((typeof a==="string")&&(!a.match(/^[\-0-9\.]+$/))){return a}else{return""+a+b}}function x(a){var b=a;if(typeof b==="string"&&(!b.match(/^[\-0-9\.]+/))){b=y.fx.speeds[b]||y.fx.speeds._default}return u(b,"ms")}y.transit.getTransitionValue=C;return y}));(function(){function c(){}function b(g,f){for(var h=g.length;h--;){if(g[h].listener===f){return h}}return -1}function d(f){return function(){return this[f].apply(this,arguments)}}var a=c.prototype;a.getListeners=function(h){var g,j,f=this._getEvents();if("object"==typeof h){g={};for(j in f){f.hasOwnProperty(j)&&h.test(j)&&(g[j]=f[j])}}else{g=f[h]||(f[h]=[])}return g},a.flattenListeners=function(g){var f,h=[];for(f=0;g.length>f;f+=1){h.push(g[f].listener)}return h},a.getListenersAsObject=function(g){var f,h=this.getListeners(g);return h instanceof Array&&(f={},f[g]=h),f||h},a.addListener=function(h,k){var f,g=this.getListenersAsObject(h),j="object"==typeof k;for(f in g){g.hasOwnProperty(f)&&-1===b(g[f],k)&&g[f].push(j?k:{listener:k,once:!1})}return this},a.on=d("addListener"),a.addOnceListener=function(g,f){return this.addListener(g,{listener:f,once:!0})},a.once=d("addOnceListener"),a.defineEvent=function(f){return this.getListeners(f),this},a.defineEvents=function(g){for(var f=0;g.length>f;f+=1){this.defineEvent(g[f])}return this},a.removeListener=function(h,k){var f,g,j=this.getListenersAsObject(h);for(g in j){j.hasOwnProperty(g)&&(f=b(j[g],k),-1!==f&&j[g].splice(f,1))}return this},a.off=d("removeListener"),a.addListeners=function(g,f){return this.manipulateListeners(!1,g,f)},a.removeListeners=function(g,f){return this.manipulateListeners(!0,g,f)},a.manipulateListeners=function(k,g,m){var f,j,l=k?this.removeListener:this.addListener,h=k?this.removeListeners:this.addListeners;if("object"!=typeof g||g instanceof RegExp){for(f=m.length;f--;){l.call(this,g,m[f])}}else{for(f in g){g.hasOwnProperty(f)&&(j=g[f])&&("function"==typeof j?l.call(this,f,j):h.call(this,f,j))}}return this},a.removeEvent=function(h){var g,j=typeof h,f=this._getEvents();if("string"===j){delete f[h]}else{if("object"===j){for(g in f){f.hasOwnProperty(g)&&h.test(g)&&delete f[g]}}else{delete this._events}}return this},a.removeAllListeners=d("removeEvent"),a.emitEvent=function(k,g){var m,f,j,l,h=this.getListenersAsObject(k);for(j in h){if(h.hasOwnProperty(j)){for(f=h[j].length;f--;){m=h[j][f],m.once===!0&&this.removeListener(k,m.listener),l=m.listener.apply(this,g||[]),l===this._getOnceReturnValue()&&this.removeListener(k,m.listener)}}}return this},a.trigger=d("emitEvent"),a.emit=function(g){var f=Array.prototype.slice.call(arguments,1);return this.emitEvent(g,f)},a.setOnceReturnValue=function(f){return this._onceReturnValue=f,this},a._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},a._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this),function(d){var b=document.documentElement,f=function(){};b.addEventListener?f=function(h,g,i){h.addEventListener(g,i,!1)}:b.attachEvent&&(f=function(g,h,e){g[h+e]=e.handleEvent?function(){var i=d.event;i.target=i.target||i.srcElement,e.handleEvent.call(e,i)}:function(){var i=d.event;i.target=i.target||i.srcElement,e.call(g,i)},g.attachEvent("on"+h,g[h+e])});var a=function(){};b.removeEventListener?a=function(h,g,i){h.removeEventListener(g,i,!1)}:b.detachEvent&&(a=function(j,h,k){j.detachEvent("on"+h,j[h+k]);try{delete j[h+k]}catch(g){j[h+k]=void 0}});var c={bind:f,unbind:a};"function"==typeof define&&define.amd?define(c):d.eventie=c}(this),function(h){function l(c,a){for(var i in a){c[i]=a[i]}return c}function f(a){return"[object Array]"===j.call(a)}function g(o){var c=[];if(f(o)){c=o}else{if("number"==typeof o.length){for(var a=0,n=o.length;n>a;a++){c.push(o[a])}}else{c.push(o)}}return c}function b(o,q){function a(u,v,r){if(!(this instanceof a)){return new a(u,v)}"string"==typeof u&&(u=document.querySelectorAll(u)),this.elements=g(u),this.options=l({},this.options),"function"==typeof v?r=v:l(this.options,v),r&&this.on("always",r),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var c=this;setTimeout(function(){c.check()})}function p(c){this.img=c}a.prototype=new o,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var x=0,u=this.elements.length;u>x;x++){var z=this.elements[x];"IMG"===z.nodeName&&this.addImage(z);for(var c=z.querySelectorAll("img"),w=0,y=c.length;y>w;w++){var v=c[w];this.addImage(v)}}},a.prototype.addImage=function(n){var c=new p(n);this.images.push(c)},a.prototype.check=function(){function v(y,n){return s.options.debug&&k&&m.log("confirm",y,n),s.progress(y),x++,x===c&&s.complete(),!0}var s=this,x=0,c=this.images.length;if(this.hasAnyBroken=!1,!c){return this.complete(),void 0}for(var u=0;c>u;u++){var w=this.images[u];w.on("confirm",v),w.check()}},a.prototype.progress=function(n){this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;var c=this;setTimeout(function(){c.emit("progress",c,n),c.jqDeferred&&c.jqDeferred.notify(c,n)})},a.prototype.complete=function(){var n=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var c=this;setTimeout(function(){if(c.emit(n,c),c.emit("always",c),c.jqDeferred){var e=c.hasAnyBroken?"reject":"resolve";c.jqDeferred[e](c)}})},d&&(d.fn.imagesLoaded=function(r,c){var s=new a(this,r,c);return s.jqDeferred.promise(d(this))});var i={};return p.prototype=new o,p.prototype.check=function(){var n=i[this.img.src];if(n){return this.useCached(n),void 0}if(i[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var c=this.proxyImage=new Image;q.bind(c,"load",this),q.bind(c,"error",this),c.src=this.img.src},p.prototype.useCached=function(n){if(n.isConfirmed){this.confirm(n.isLoaded,"cached was confirmed")}else{var c=this;n.on("confirm",function(r){return c.confirm(r.isLoaded,"cache emitted confirmed"),!0})}},p.prototype.confirm=function(n,c){this.isConfirmed=!0,this.isLoaded=n,this.emit("confirm",this,c)},p.prototype.handleEvent=function(n){var c="on"+n.type;this[c]&&this[c](n)},p.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},p.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},p.prototype.unbindProxyEvents=function(){q.unbind(this.proxyImage,"load",this),q.unbind(this.proxyImage,"error",this)},a}var d=h.jQuery,m=h.console,k=m!==void 0,j=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],b):h.imagesLoaded=b(h.EventEmitter,h.eventie)}(window);
/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
(function(o){function e(l,k,r){var w=l[0],m=/er/.test(r)?_indeterminate:/bl/.test(r)?g:j,q=r==_update?{checked:w[j],disabled:w[g],indeterminate:"true"==l.attr(_indeterminate)||"false"==l.attr(_determinate)}:w[m];if(/^(ch|di|in)/.test(r)&&!q){s(l,m)}else{if(/^(un|en|de)/.test(r)&&q){d(l,m)}else{if(r==_update){for(var n in q){q[n]?s(l,n,!0):d(l,n,!0)}}else{if(!k||"toggle"==r){if(!k){l[_callback]("ifClicked")}q?w[_type]!==a&&d(l,m):s(l,m)}}}}}function s(x,r,n){var q=x[0],l=x.parent(),m=r==j,A=r==_indeterminate,z=r==g,D=A?_determinate:m?p:"enabled",C=i(x,D+u(q[_type])),k=i(x,r+u(q[_type]));if(!0!==q[r]){if(!n&&r==j&&q[_type]==a&&q.name){var y=x.closest("form"),f='input[name="'+q.name+'"]',f=y.length?y.find(f):o(f);f.each(function(){this!==q&&o(this).data(h)&&d(o(this),r)})}A?(q[r]=!0,q[j]&&d(x,j,"force")):(n||(q[r]=!0),m&&q[_indeterminate]&&d(x,_indeterminate,!1));b(x,m,r,n)}q[g]&&i(x,_cursor,!0)&&l.find("."+c).css(_cursor,"default");l[_add](k||i(x,r)||"");l.attr("role")&&!A&&l.attr("aria-"+(z?g:j),"true");l[_remove](C||i(x,D)||"")}function d(C,B,z){var A=C[0],w=C.parent(),y=B==j,x=B==_indeterminate,n=B==g,D=x?_determinate:y?p:"enabled",l=i(C,D+u(A[_type])),k=i(C,B+u(A[_type]));if(!1!==A[B]){if(x||!z||"force"==z){A[B]=!1}b(C,y,D,z)}!A[g]&&i(C,_cursor,!0)&&w.find("."+c).css(_cursor,"pointer");w[_remove](k||i(C,B)||"");w.attr("role")&&!x&&w.attr("aria-"+(n?g:j),"false");w[_add](l||i(C,D)||"")}function v(k,f){if(k.data(h)){k.parent().html(k.attr("style",k.data(h).s||""));if(f){k[_callback](f)}k.off(".i").unwrap();o(_label+'[for="'+k[0].id+'"]').add(k.closest(_label)).off(".i")}}function i(l,k,m){if(l.data(h)){return l.data(h).o[k+(m?"":"Class")]}}function u(f){return f.charAt(0).toUpperCase()+f.slice(1)}function b(l,k,m,n){if(!n){if(k){l[_callback]("ifToggled")}l[_callback]("ifChanged")[_callback]("if"+u(m))}}var h="iCheck",c=h+"-helper",a="radio",j="checked",p="un"+j,g="disabled";_determinate="determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);o.fn[h]=function(z,y){var r='input[type="checkbox"], input[type="'+a+'"]',x=o(),n=function(l){l.each(function(){var w=o(this);x=w.is(r)?x.add(w):x.add(w.find(r))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(z)){return z=z.toLowerCase(),n(this),x.each(function(){var l=o(this);"destroy"==z?v(l,"ifDestroyed"):e(l,!0,z);o.isFunction(y)&&y()})}if("object"!=typeof z&&z){return this}var q=o.extend({checkedClass:j,disabledClass:g,indeterminateClass:_indeterminate,labelHover:!0},z),m=q.handle,C=q.hoverClass||"hover",E=q.focusClass||"focus",D=q.activeClass||"active",k=!!q.labelHover,A=q.labelHoverClass||"hover",f=(""+q.increaseArea).replace("%","")|0;if("checkbox"==m||m==a){r='input[type="'+m+'"]'}-50>f&&(f=-50);n(this);return x.each(function(){var L=o(this);v(L);var H=this,K=H.id,F=-f+"%",G=100+2*f+"%",G={position:"absolute",top:F,left:F,display:"block",width:G,height:G,margin:0,padding:0,background:"#fff",border:0,opacity:0},F=_mobile?{position:"absolute",visibility:"hidden"}:f?G:{position:"absolute",opacity:0},w="checkbox"==H[_type]?q.checkboxClass||"icheckbox":q.radioClass||"i"+a,I=o(_label+'[for="'+K+'"]').add(L.closest(_label)),M=!!q.aria,J=h+"-"+Math.random().toString(36).substr(2,6),B='<div class="'+w+'" '+(M?'role="'+H[_type]+'" ':"");M&&I.each(function(){B+='aria-labelledby="';this.id?B+=this.id:(this.id=J,B+=J);B+='"'});B=L.wrap(B+"/>")[_callback]("ifCreated").parent().append(q.insert);G=o('<ins class="'+c+'"/>').css(G).appendTo(B);L.data(h,{o:q,s:L.attr("style")}).css(F);q.inheritClass&&B[_add](H.className||"");q.inheritID&&K&&B.attr("id",h+"-"+K);"static"==B.css("position")&&B.css("position","relative");e(L,!0,_update);if(I.length){I.on(_click+".i mouseover.i mouseout.i "+_touch,function(l){var O=l[_type],N=o(this);if(!H[g]){if(O==_click){if(o(l.target).is("a")){return}e(L,!1,!0)}else{k&&(/ut|nd/.test(O)?(B[_remove](C),N[_remove](A)):(B[_add](C),N[_add](A)))}if(_mobile){l.stopPropagation()}else{return !1}}})}L.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(l){var N=l[_type];l=l.keyCode;if(N==_click){return !1}if("keydown"==N&&32==l){return H[_type]==a&&H[j]||(H[j]?d(L,j):s(L,j)),!1}if("keyup"==N&&H[_type]==a){!H[j]&&s(L,j)}else{if(/us|ur/.test(N)){B["blur"==N?_remove:_add](E)}}});G.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(l){var O=l[_type],N=/wn|up/.test(O)?D:C;if(!H[g]){if(O==_click){e(L,!1,!0)}else{if(/wn|er|in/.test(O)){B[_add](N)}else{B[_remove](N+" "+D)}if(I.length&&k&&N==C){I[/ut|nd/.test(O)?_remove:_add](A)}}if(_mobile){l.stopPropagation()}else{return !1}}})})}})(window.jQuery);function countUp(u,s,r,q,p,o){for(var n=0,m=["webkit","moz","ms","o"],l=0;l<m.length&&!window.requestAnimationFrame;++l){window.requestAnimationFrame=window[m[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[l]+"CancelAnimationFrame"]||window[m[l]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var h=(new Date).getTime(),g=Math.max(0,16-(h-n)),f=window.setTimeout(function(){b(h+g)},g);return n=h+g,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(b){clearTimeout(b)}),this.options=o||{useEasing:!0,useGrouping:!0,separator:",",decimal:"."},""==this.options.separator&&(this.options.useGrouping=!1),null==this.options.prefix&&(this.options.prefix=""),null==this.options.suffix&&(this.options.suffix="");var k=this;this.d="string"==typeof u?document.getElementById(u):u,this.startVal=Number(s),this.endVal=Number(r),this.countDown=this.startVal>this.endVal?!0:!1,this.startTime=null,this.timestamp=null,this.remaining=null,this.frameVal=this.startVal,this.rAF=null,this.decimals=Math.max(0,q||0),this.dec=Math.pow(10,this.decimals),this.duration=1000*p||2000,this.version=function(){return"1.3.2"},this.printValue=function(d){var c=isNaN(d)?"--":k.formatNumber(d);"INPUT"==k.d.tagName?this.d.value=c:"text"==k.d.tagName?this.d.textContent=c:this.d.innerHTML=c},this.easeOutExpo=function(f,e,h,g){return 1024*h*(-Math.pow(2,-10*f/g)+1)/1023+e},this.count=function(e){null===k.startTime&&(k.startTime=e),k.timestamp=e;var d=e-k.startTime;if(k.remaining=k.duration-d,k.options.useEasing){if(k.countDown){var f=k.easeOutExpo(d,0,k.startVal-k.endVal,k.duration);k.frameVal=k.startVal-f}else{k.frameVal=k.easeOutExpo(d,k.startVal,k.endVal-k.startVal,k.duration)}}else{if(k.countDown){var f=(k.startVal-k.endVal)*(d/k.duration);k.frameVal=k.startVal-f}else{k.frameVal=k.startVal+(k.endVal-k.startVal)*(d/k.duration)}}k.frameVal=k.countDown?k.frameVal<k.endVal?k.endVal:k.frameVal:k.frameVal>k.endVal?k.endVal:k.frameVal,k.frameVal=Math.round(k.frameVal*k.dec)/k.dec,k.printValue(k.frameVal),d<k.duration?k.rAF=requestAnimationFrame(k.count):null!=k.callback&&k.callback()},this.start=function(b){return k.callback=b,isNaN(k.endVal)||isNaN(k.startVal)?(console.log("countUp error: startVal or endVal is not a number"),k.printValue()):k.rAF=requestAnimationFrame(k.count),!1},this.stop=function(){cancelAnimationFrame(k.rAF)},this.reset=function(){k.startTime=null,k.startVal=s,cancelAnimationFrame(k.rAF),k.printValue(k.startVal)},this.resume=function(){k.stop(),k.startTime=null,k.duration=k.remaining,k.startVal=k.frameVal,requestAnimationFrame(k.count)},this.formatNumber=function(g){g=g.toFixed(k.decimals),g+="";var f,j,i,h;if(f=g.split("."),j=f[0],i=f.length>1?k.options.decimal+f[1]:"",h=/(\d+)(\d{3})/,k.options.useGrouping){for(;h.test(j);){j=j.replace(h,"$1"+k.options.separator+"$2")}}return k.options.prefix+j+i+k.options.suffix},k.printValue(k.startVal)};