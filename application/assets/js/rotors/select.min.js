(function(d){d.expr[":"].icontains=function(j,h,i){return g(d(j).text(),i[3])};d.expr[":"].aicontains=function(j,h,i){return g(d(j).data("normalizedText")||d(j).text(),i[3])};function g(h,i){return h.toUpperCase().indexOf(i.toUpperCase())>-1}function f(i){var h=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];d.each(h,function(){i=i.replace(this.re,this.ch)});return i}function e(i){var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var m="(?:"+Object.keys(k).join("|")+")",l=new RegExp(m),j=new RegExp(m,"g"),h=i==null?"":""+i;return l.test(h)?h.replace(j,function(n){return k[n]}):h}var b=function(i,h,j){if(j){j.stopPropagation();j.preventDefault()}this.$element=d(i);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=h;if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=b.prototype.val;this.render=b.prototype.render;this.refresh=b.prototype.refresh;this.setStyle=b.prototype.setStyle;this.selectAll=b.prototype.selectAll;this.deselectAll=b.prototype.deselectAll;this.destroy=b.prototype.remove;this.remove=b.prototype.remove;this.show=b.prototype.show;this.hide=b.prototype.hide;this.init()};b.VERSION="1.6.3";b.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(i,h){return(i==1)?"{0} item selected":"{0} items selected"},maxOptionsText:function(i,j){var h=[];h[0]=(i==1)?"Limit reached ({n} item max)":"Limit reached ({n} items max)";h[1]=(j==1)?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)";return h},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,actionsBox:false,iconBase:"icon",tickIcon:"icon-check",maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,searchAccentInsensitive:false};b.prototype={constructor:b,init:function(){var h=this,i=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");if(this.options.dropdownAlignRight){this.$menu.addClass("dropdown-menu-right")}if(typeof i!=="undefined"){this.$button.attr("data-id",i);d('label[for="'+i+'"]').click(function(j){j.preventDefault();h.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.liHeight();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile){this.mobile()}},createDropdown:function(){var i=this.multiple?" show-tick":"",j=this.$element.parent().hasClass("input-group")?" input-group-btn":"",o=this.autofocus?" autofocus":"",h=this.$element.parents().hasClass("form-group-lg")?" btn-lg":(this.$element.parents().hasClass("form-group-sm")?" btn-sm":"");var n=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var m=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"";var l=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";var k='<div class="btn-group bootstrap-select'+i+j+'"><button type="button" class="btn dropdown-toggle selectpicker'+h+'" data-toggle="dropdown"'+o+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+n+m+l+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return d(k)},createView:function(){var h=this.createDropdown();var i=this.createLi();h.find("ul").append(i);return h},reloadLi:function(){this.destroyLi();var h=this.createLi();this.$menu.find("ul").append(h)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var k=this,j=[],l=0;var h=function(o,m,n){return"<li"+(typeof n!=="undefined"?' class="'+n+'"':"")+(typeof m!=="undefined"|null===m?' data-original-index="'+m+'"':"")+">"+o+"</li>"};var i=function(q,n,p,m){var o=f(e(q));return'<a tabindex="0"'+(typeof n!=="undefined"?' class="'+n+'"':"")+(typeof p!=="undefined"?' style="'+p+'"':"")+(typeof m!=="undefined"?'data-optgroup="'+m+'"':"")+' data-normalized-text="'+o+'">'+q+'<span class="'+k.options.iconBase+" "+k.options.tickIcon+' check-mark"></span></a>'};this.$element.find("option").each(function(){var q=d(this);var n=q.attr("class")||"",p=q.attr("style"),v=q.data("content")?q.data("content"):q.html(),t=typeof q.data("subtext")!=="undefined"?'<small class="muted text-muted">'+q.data("subtext")+"</small>":"",r=typeof q.data("icon")!=="undefined"?'<span class="'+k.options.iconBase+" "+q.data("icon")+'"></span> ':"",u=q.is(":disabled")||q.parent().is(":disabled"),o=q[0].index;if(r!==""&&u){r="<span>"+r+"</span>"}if(!q.data("content")){v=r+'<span class="text">'+v+t+"</span>"}if(k.options.hideDisabled&&u){return}if(q.parent().is("optgroup")&&q.data("divider")!==true){if(q.index()===0){l+=1;var s=q.parent().attr("label");var w=typeof q.parent().data("subtext")!=="undefined"?'<small class="muted text-muted">'+q.parent().data("subtext")+"</small>":"";var m=q.parent().data("icon")?'<span class="'+k.options.iconBase+" "+q.parent().data("icon")+'"></span> ':"";s=m+'<span class="text">'+s+w+"</span>";if(o!==0&&j.length>0){j.push(h("",null,"divider"))}j.push(h(s,null,"dropdown-header"))}j.push(h(i(v,"opt "+n,p,l),o))}else{if(q.data("divider")===true){j.push(h("",o,"divider"))}else{if(q.data("hidden")===true){j.push(h(i(v,n,p),o,"hide is-hidden"))}else{j.push(h(i(v,n,p),o))}}}});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return d(j.join(""))},findLis:function(){if(this.$lis==null){this.$lis=this.$menu.find("li")}return this.$lis},render:function(k){var j=this;if(k!==false){this.$element.find("option").each(function(p){j.setDisabled(p,d(this).is(":disabled")||d(this).parent().is(":disabled"));j.setSelected(p,d(this).is(":selected"))})}this.tabIndex();var m=this.options.hideDisabled?":not([disabled])":"";var o=this.$element.find("option:selected"+m).map(function(){var r=d(this);var q=r.data("icon")&&j.options.showIcon?'<i class="'+j.options.iconBase+" "+r.data("icon")+'"></i> ':"";var p;if(j.options.showSubtext&&r.attr("data-subtext")&&!j.multiple){p=' <small class="muted text-muted">'+r.data("subtext")+"</small>"}else{p=""}if(r.data("content")&&j.options.showContent){return r.data("content")}else{if(typeof r.attr("title")!=="undefined"){return r.attr("title")}else{return q+r.html()+p}}}).toArray();var l=!this.multiple?o[0]:o.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var h=this.options.selectedTextFormat.split(">");if((h.length>1&&o.length>h[1])||(h.length==1&&o.length>=2)){m=this.options.hideDisabled?", [disabled]":"";var i=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+m).length,n=(typeof this.options.countSelectedText==="function")?this.options.countSelectedText(o.length,i):this.options.countSelectedText;l=n.replace("{0}",o.length.toString()).replace("{1}",i.toString())}}this.options.title=this.$element.attr("title");if(this.options.selectedTextFormat=="static"){l=this.options.title}if(!l){l=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",d.trim(l.replace(/<[^>]*>?/g,"")));this.$newElement.find(".filter-option").html(l)},setStyle:function(j,i){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""))}var h=j?j:this.options.style;if(i=="add"){this.$button.addClass(h)}else{if(i=="remove"){this.$button.removeClass(h)}else{this.$button.removeClass(this.options.style);this.$button.addClass(h)}}},liHeight:function(){if(this.options.size===false){return}var k=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",false).end().appendTo("body"),l=k.addClass("open").find("> .dropdown-menu"),j=l.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),i=this.options.header?l.find(".popover-title").outerHeight():0,m=this.options.liveSearch?l.find(".bs-searchbox").outerHeight():0,h=this.options.actionsBox?l.find(".bs-actionsbox").outerHeight():0;k.remove();this.$newElement.data("liHeight",j).data("headerHeight",i).data("searchHeight",m).data("actionsHeight",h)},setSize:function(){this.findLis();var n=this,i=this.$menu,o=i.find(".inner"),z=this.$newElement.outerHeight(),k=this.$newElement.data("liHeight"),x=this.$newElement.data("headerHeight"),r=this.$newElement.data("searchHeight"),m=this.$newElement.data("actionsHeight"),q=this.$lis.filter(".divider").outerHeight(true),w=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom"))+parseInt(i.css("border-top-width"))+parseInt(i.css("border-bottom-width")),u=this.options.hideDisabled?", .disabled":"",t=d(window),l=w+parseInt(i.css("margin-top"))+parseInt(i.css("margin-bottom"))+2,v,A,y,p=function(){A=n.$newElement.offset().top-t.scrollTop();y=t.height()-A-z};p();if(this.options.header){i.css("padding-top",0)}if(this.options.size=="auto"){var j=function(){var C,B=n.$lis.not(".hide");p();v=y-l;if(n.options.dropupAuto){n.$newElement.toggleClass("dropup",(A>y)&&((v-l)<i.height()))}if(n.$newElement.hasClass("dropup")){v=A-l}if((B.length+B.filter(".dropdown-header").length)>3){C=k*3+l-2}else{C=0}i.css({"max-height":v+"px",overflow:"hidden","min-height":C+x+r+m+"px"});o.css({"max-height":v-x-r-m-w+"px","overflow-y":"auto","min-height":Math.max(C-w,0)+"px"})};j();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",j);d(window).off("resize.getSize").on("resize.getSize",j);d(window).off("scroll.getSize").on("scroll.getSize",j)}else{if(this.options.size&&this.options.size!="auto"&&i.find("li"+u).length>this.options.size){var s=this.$lis.not(".divider"+u).find(" > *").slice(0,this.options.size).last().parent().index();var h=this.$lis.slice(0,s+1).filter(".divider").length;v=k*this.options.size+h*q+w;if(n.options.dropupAuto){this.$newElement.toggleClass("dropup",(A>y)&&(v<i.height()))}i.css({"max-height":v+x+r+m+"px",overflow:"hidden"});o.css({"max-height":v-w+"px","overflow-y":"auto"})}}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var j=this.$newElement.clone().appendTo("body");var h=j.find("> .dropdown-menu").css("width");var i=j.css("width","auto").find("> button").css("width");j.remove();this.$newElement.css("width",Math.max(parseInt(h),parseInt(i))+"px")}else{if(this.options.width=="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var j=this,i="<div />",k=d(i),m,l,h=function(n){k.addClass(n.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",n.hasClass("dropup"));m=n.offset();l=n.hasClass("dropup")?0:n[0].offsetHeight;k.css({top:m.top+l,left:m.left,width:n[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(j.isDisabled()){return}h(d(this));k.appendTo(j.options.container);k.toggleClass("open",!d(this).hasClass("open"));k.append(j.$menu)});d(window).resize(function(){h(j.$newElement)});d(window).on("scroll",function(){h(j.$newElement)});d("html").on("click",function(n){if(d(n.target).closest(j.$newElement).length<1){k.removeClass("open")}})},setSelected:function(h,i){this.findLis();this.$lis.filter('[data-original-index="'+h+'"]').toggleClass("selected",i)},setDisabled:function(h,i){this.findLis();if(i){this.$lis.filter('[data-original-index="'+h+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1)}else{this.$lis.filter('[data-original-index="'+h+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var h=this;if(this.isDisabled()){this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1){if(!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}}this.$button.click(function(){return !h.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var h=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(i){i.stopPropagation()});this.$newElement.on("click",function(){h.setSize();if(!h.options.liveSearch&&!h.multiple){setTimeout(function(){h.$menu.find(".selected a").focus()},10)}});this.$menu.on("click","li a",function(x){var n=d(this),i=n.parent().data("originalIndex"),v=h.$element.val(),p=h.$element.prop("selectedIndex");if(h.multiple){x.stopPropagation()}x.preventDefault();if(!h.isDisabled()&&!n.parent().hasClass("disabled")){var t=h.$element.find("option"),u=t.eq(i),k=u.prop("selected"),s=u.parent("optgroup"),z=h.options.maxOptions,q=s.data("maxOptions")||false;if(!h.multiple){t.prop("selected",false);u.prop("selected",true);h.$menu.find(".selected").removeClass("selected");h.setSelected(i,true)}else{u.prop("selected",!k);h.setSelected(i,!k);n.blur();if((z!==false)||(q!==false)){var j=z<t.filter(":selected").length,m=q<s.find("option:selected").length;if((z&&j)||(q&&m)){if(z&&z==1){t.prop("selected",false);u.prop("selected",true);h.$menu.find(".selected").removeClass("selected");h.setSelected(i,true)}else{if(q&&q==1){s.find("option:selected").prop("selected",false);u.prop("selected",true);var w=n.data("optgroup");h.$menu.find(".selected").has('a[data-optgroup="'+w+'"]').removeClass("selected");h.setSelected(i,true)}else{var l=(typeof h.options.maxOptionsText==="function")?h.options.maxOptionsText(z,q):h.options.maxOptionsText,y=l[0].replace("{n}",z),o=l[1].replace("{n}",q),r=d('<div class="notify"></div>');if(l[2]){y=y.replace("{var}",l[2][z>1?0:1]);o=o.replace("{var}",l[2][q>1?0:1])}u.prop("selected",false);h.$menu.append(r);if(z&&j){r.append(d("<div>"+y+"</div>"));h.$element.trigger("maxReached.bs.select")}if(q&&m){r.append(d("<div>"+o+"</div>"));h.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){h.setSelected(i,false)},10);r.delay(750).fadeOut(300,function(){d(this).remove()})}}}}}if(!h.multiple){h.$button.focus()}else{if(h.options.liveSearch){h.$searchbox.focus()}}if((v!=h.$element.val()&&h.multiple)||(p!=h.$element.prop("selectedIndex")&&!h.multiple)){h.$element.change()}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){if(i.target==this){i.preventDefault();i.stopPropagation();if(!h.options.liveSearch){h.$button.focus()}else{h.$searchbox.focus()}}});this.$menu.on("click","li.divider, li.dropdown-header",function(i){i.preventDefault();i.stopPropagation();if(!h.options.liveSearch){h.$button.focus()}else{h.$searchbox.focus()}});this.$menu.on("click",".popover-title .close",function(){h.$button.focus()});this.$searchbox.on("click",function(i){i.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){if(h.options.liveSearch){h.$searchbox.focus()}else{h.$button.focus()}i.preventDefault();i.stopPropagation();if(d(this).is(".bs-select-all")){h.selectAll()}else{h.deselectAll()}h.$element.change()});this.$element.change(function(){h.render(false)})},liveSearchListener:function(){var i=this,h=d('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menu.find(".active").removeClass("active");if(!!i.$searchbox.val()){i.$searchbox.val("");i.$lis.not(".is-hidden").removeClass("hide");if(!!h.parent().length){h.remove()}}if(!i.multiple){i.$menu.find(".selected").addClass("active")}setTimeout(function(){i.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(j){j.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){if(i.options.searchAccentInsensitive){i.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+f(i.$searchbox.val())+")").parent().addClass("hide")}else{i.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+i.$searchbox.val()+")").parent().addClass("hide")}if(!i.$menu.find("li").filter(":visible:not(.no-results)").length){if(!!h.parent().length){h.remove()}h.html(i.options.noneResultsText+' "'+e(i.$searchbox.val())+'"').show();i.$menu.find("li").last().after(h)}else{if(!!h.parent().length){h.remove()}}}else{i.$lis.not(".is-hidden").removeClass("hide");if(!!h.parent().length){h.remove()}}i.$menu.find("li.active").removeClass("active");i.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();d(this).focus()})},val:function(h){if(typeof h!=="undefined"){this.$element.val(h);this.render();return this.$element}else{return this.$element.val()}},selectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var u=d(this),m=(u.is("input"))?u.parent().parent():u.parent(),s,q=m.data("this"),r,o,n,v,j,l,i,w,k={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(q.options.liveSearch){m=u.parent().parent()}if(q.options.container){m=q.$menu}s=d("[role=menu] li a",m);w=q.$menu.parent().hasClass("open");if(!w&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))){if(!q.options.container){q.setSize();q.$menu.parent().addClass("open");w=true}else{q.$newElement.trigger("click")}q.$searchbox.focus()}if(q.options.liveSearch){if(/(^9$|27)/.test(t.keyCode.toString(10))&&w&&q.$menu.find(".active").length===0){t.preventDefault();q.$menu.parent().removeClass("open");q.$button.focus()}s=d("[role=menu] li:not(.divider):not(.dropdown-header):visible",m);if(!u.val()&&!/(38|40)/.test(t.keyCode.toString(10))){if(s.filter(".active").length===0){if(q.options.searchAccentInsensitive){s=q.$newElement.find("li").filter(":aicontains("+f(k[t.keyCode])+")")}else{s=q.$newElement.find("li").filter(":icontains("+k[t.keyCode]+")")}}}}if(!s.length){return}if(/(38|40)/.test(t.keyCode.toString(10))){r=s.index(s.filter(":focus"));n=s.parent(":not(.disabled):visible").first().index();v=s.parent(":not(.disabled):visible").last().index();o=s.eq(r).parent().nextAll(":not(.disabled):visible").eq(0).index();j=s.eq(r).parent().prevAll(":not(.disabled):visible").eq(0).index();l=s.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index();if(q.options.liveSearch){s.each(function(y){if(d(this).is(":not(.disabled)")){d(this).data("index",y)}});r=s.index(s.filter(".active"));n=s.filter(":not(.disabled):visible").first().data("index");v=s.filter(":not(.disabled):visible").last().data("index");o=s.eq(r).nextAll(":not(.disabled):visible").eq(0).data("index");j=s.eq(r).prevAll(":not(.disabled):visible").eq(0).data("index");l=s.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index")}i=u.data("prevIndex");if(t.keyCode==38){if(q.options.liveSearch){r-=1}if(r!=l&&r>j){r=j}if(r<n){r=n}if(r==i){r=v}}if(t.keyCode==40){if(q.options.liveSearch){r+=1}if(r==-1){r=0}if(r!=l&&r<o){r=o}if(r>v){r=v}if(r==i){r=n}}u.data("prevIndex",r);if(!q.options.liveSearch){s.eq(r).focus()}else{t.preventDefault();if(!u.is(".dropdown-toggle")){s.removeClass("active");s.eq(r).addClass("active").find("a").focus();u.focus()}}}else{if(!u.is("input")){var h=[],p,x;s.each(function(){if(d(this).parent().is(":not(.disabled)")){if(d.trim(d(this).text().toLowerCase()).substring(0,1)==k[t.keyCode]){h.push(d(this).parent().index())}}});p=d(document).data("keycount");p++;d(document).data("keycount",p);x=d.trim(d(":focus").text().toLowerCase()).substring(0,1);if(x!=k[t.keyCode]){p=1;d(document).data("keycount",p)}else{if(p>=h.length){d(document).data("keycount",0);if(p>h.length){p=1}}}s.eq(h[p-1]).focus()}}if((/(13|32)/.test(t.keyCode.toString(10))||(/(^9$)/.test(t.keyCode.toString(10))&&q.options.selectOnTab))&&w){if(!/(32)/.test(t.keyCode.toString(10))){t.preventDefault()}if(!q.options.liveSearch){d(":focus").click()}else{if(!/(32)/.test(t.keyCode.toString(10))){q.$menu.find(".active a").click();u.focus()}}d(document).data("keycount",0)}if((/(^9$|27)/.test(t.keyCode.toString(10))&&w&&(q.multiple||q.options.liveSearch))||(/(27)/.test(t.keyCode.toString(10))&&!w)){q.$menu.parent().removeClass("open");q.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container){this.$menu.hide()}},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};function c(j,k){var h=arguments;var m=j,j=h[0],k=h[1];[].shift.apply(h);if(typeof j=="undefined"){j=m}var l;var i=this.each(function(){var r=d(this);if(r.is("select")){var q=r.data("selectpicker"),o=typeof j=="object"&&j;if(!q){var n=d.extend({},b.DEFAULTS,d.fn.selectpicker.defaults||{},r.data(),o);r.data("selectpicker",(q=new b(this,n,k)))}else{if(o){for(var p in o){if(o.hasOwnProperty(p)){q.options[p]=o[p]}}}}if(typeof j=="string"){if(q[j] instanceof Function){l=q[j].apply(q,h)}else{l=q.options[j]}}}});if(typeof l!=="undefined"){return l}else{return i}}var a=d.fn.selectpicker;d.fn.selectpicker=c;d.fn.selectpicker.Constructor=b;d.fn.selectpicker.noConflict=function(){d.fn.selectpicker=a;return this};d(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",b.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(h){h.stopPropagation()});d(window).on("load.bs.select.data-api",function(){d(".selectpicker").each(function(){var h=d(this);c.call(h,h.data())})})})(jQuery);