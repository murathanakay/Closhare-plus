!function(d,c){"object"==typeof exports?module.exports=c():"function"==typeof define&&define.amd?define(c):d.Spinner=c()}(this,function(){function F(f,e){var h,g=document.createElement(f||"div");for(h in e){g[h]=e[h]}return g}function E(e){for(var d=1,f=arguments.length;f>d;d++){e.appendChild(arguments[d])}return e}function D(H,G,p,o){var n=["opacity",G,~~(100*H),p,o].join("-"),m=0.01+p/o*100,l=Math.max(1-(1-H)/G*(100-m),H),k=v.substring(0,v.indexOf("Animation")).toLowerCase(),j=k&&"-"+k+"-"||"";return t[n]||(s.insertRule("@"+j+"keyframes "+n+"{0%{opacity:"+l+"}"+m+"%{opacity:"+H+"}"+(m+0.01)+"%{opacity:1}"+(m+G)%100+"%{opacity:"+H+"}100%{opacity:"+l+"}}",s.cssRules.length),t[n]=1),n}function C(g,f){var j,i,h=g.style;for(f=f.charAt(0).toUpperCase()+f.slice(1),i=0;i<u.length;i++){if(j=u[i]+f,void 0!==h[j]){return j}}return void 0!==h[f]?f:void 0}function B(e,d){for(var f in d){e.style[C(e,f)||f]=d[f]}return e}function A(f){for(var e=1;e<arguments.length;e++){var h=arguments[e];for(var g in h){void 0===f[g]&&(f[g]=h[g])}}return f}function z(d){for(var c={x:d.offsetLeft,y:d.offsetTop};d=d.offsetParent;){c.x+=d.offsetLeft,c.y+=d.offsetTop}return c}function y(d,c){return"string"==typeof d?d:d[c%d.length]}function x(b){return"undefined"==typeof this?new x(b):(this.opts=A(b||{},x.defaults,r),void 0)}function w(){function a(d,e){return F("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}s.addRule(".spin-vml","behavior:url(#default#VML)"),x.prototype.lines=function(H,G){function p(){return B(a("group",{coordsize:e+" "+e,coordorigin:-h+" "+-h}),{width:e,height:e})}function o(d,j,f){E(b,E(B(p(),{rotation:360/G.lines*d+"deg",left:~~j}),E(B(a("roundrect",{arcsize:G.corners}),{width:h,height:G.width,left:G.radius,top:-G.width>>1,filter:f}),a("fill",{color:y(G.color,d),opacity:G.opacity}),a("stroke",{opacity:0}))))}var n,h=G.length+G.width,e=2*h,c=2*-(G.width+G.length)+"px",b=B(p(),{position:"absolute",top:c,left:c});if(G.shadow){for(n=1;n<=G.lines;n++){o(n,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(n=1;n<=G.lines;n++){o(n)}return E(H,b)},x.prototype.opacity=function(g,f,j,i){var h=g.firstChild;i=i.shadow&&i.lines||0,h&&f+i<h.childNodes.length&&(h=h.childNodes[f+i],h=h&&h.firstChild,h=h&&h.firstChild,h&&(h.opacity=j))}}var v,u=["webkit","Moz","ms","O"],t={},s=function(){var a=F("style",{type:"text/css"});return E(document.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),r={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};x.defaults={},A(x.prototype,{spin:function(P){this.stop();var O,N,M=this,L=M.opts,K=M.el=B(F(0,{className:L.className}),{position:L.position,width:0,zIndex:L.zIndex}),J=L.radius+L.length+L.width;if(P&&(P.insertBefore(K,P.firstChild||null),N=z(P),O=z(K),B(K,{left:("auto"==L.left?N.x-O.x+(P.offsetWidth>>1):parseInt(L.left,10)+J)+"px",top:("auto"==L.top?N.y-O.y+(P.offsetHeight>>1):parseInt(L.top,10)+J)+"px"})),K.setAttribute("role","progressbar"),M.lines(K,M.opts),!v){var I,H=0,G=(L.lines-1)*(1-L.direction)/2,k=L.fps,g=k/L.speed,e=(1-L.opacity)/(g*L.trail/100),a=g/L.lines;!function Q(){H++;for(var b=0;b<L.lines;b++){I=Math.max(1-(H+(L.lines-b)*a)%g*e,L.opacity),M.opacity(K,b*L.direction+G,I,L)}M.timeout=M.el&&setTimeout(Q,~~(1000/k))}()}return M},stop:function(){var b=this.el;return b&&(clearTimeout(this.timeout),b.parentNode&&b.parentNode.removeChild(b),this.el=void 0),this},lines:function(k,h){function e(d,f){return B(F(),{position:"absolute",width:h.length+h.width+"px",height:h.width+"px",background:d,boxShadow:f,transformOrigin:"left",transform:"rotate("+~~(360/h.lines*b+h.rotate)+"deg) translate("+h.radius+"px,0)",borderRadius:(h.corners*h.width>>1)+"px"})}for(var c,b=0,a=(h.lines-1)*(1-h.direction)/2;b<h.lines;b++){c=B(F(),{position:"absolute",top:1+~(h.width/2)+"px",transform:h.hwaccel?"translate3d(0,0,0)":"",opacity:h.opacity,animation:v&&D(h.opacity,h.trail,a+b*h.direction,h.lines)+" "+1/h.speed+"s linear infinite"}),h.shadow&&E(c,B(e("#000","0 0 4px #000"),{top:"2px"})),E(k,E(c,e(y(h.color,b),"0 0 1px rgba(0,0,0,.1)")))}return k},opacity:function(e,d,f){d<e.childNodes.length&&(e.childNodes[d].style.opacity=f)}});var q=B(F("group"),{behavior:"url(#default#VML)"});return !C(q,"transform")&&q.adj?w():v=C(q,"animation"),x});(function(a){if(typeof exports=="object"){a(require("jquery"),require("spin"))}else{if(typeof define=="function"&&define.amd){define(["jquery","spin"],a)}else{if(!window.Spinner){throw new Error("Spin.js not present")}a(window.jQuery,window.Spinner)}}}(function(b,a){b.fn.spin=function(d,c){return this.each(function(){var f=b(this),e=f.data();if(e.spinner){e.spinner.stop();delete e.spinner}if(d!==false){d=b.extend({color:c||f.css("color")},b.fn.spin.presets[d]||d);e.spinner=new a(d).spin(this)}})};b.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3,top:"auto",left:"auto"},small:{lines:8,length:4,width:3,radius:5,top:"auto",left:"auto"},large:{lines:12,length:8,width:4,radius:8,top:"auto",left:"auto"},main:{lines:12,length:6.8,width:3.2,radius:5.2,top:41,left:"auto",corners:1}}}));